### GET /

Source: https://fastapi.tiangolo.com/em/tutorial/first-steps

This endpoint provides a basic 'Hello World' message from the FastAPI application. It's the default root endpoint for demonstrating application functionality.

```APIDOC
## GET /

### Description
This endpoint serves as the root of the FastAPI application, returning a simple "Hello World" message. It demonstrates a basic HTTP GET request handler.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
No path parameters.

#### Query Parameters
No query parameters.

#### Request Body
No request body.

### Request Example
```json
{}
```

### Response
#### Success Response (200)
- **message** (string) - A greeting message.

#### Response Example
```json
{
  "message": "Hello World"
}
```
```

--------------------------------

### Create a Basic FastAPI Application

Source: https://fastapi.tiangolo.com/em/tutorial/first-steps

This Python code snippet demonstrates how to initialize a FastAPI application and define a simple asynchronous GET endpoint at the root path ('/'). It returns a JSON response with 'Hello World'. This code should be saved in a file like `main.py`.

```python
from fastapi import FastAPI

app = FastAPI()


@app.get("/")
async def root():
    return {"message": "Hello World"}

```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/em/tutorial/first-steps

This endpoint serves as a basic health check or a root endpoint, returning a simple 'Hello World' message to confirm the application is running.

```APIDOC
## GET /

### Description
This endpoint returns a simple 'Hello World' message.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No request body required)

### Response
#### Success Response (200)
- **message** (string) - The greeting message.

#### Response Example
{
  "message": "Hello World"
}
```

--------------------------------

### Initialize FastAPI Application with Custom Name and Route

Source: https://fastapi.tiangolo.com/em/tutorial/first-steps

This Python example shows how to instantiate a FastAPI application with a custom variable name, `my_awesome_api`, instead of the default `app`. It also defines a basic GET route using this custom instance.

```python
from fastapi import FastAPI

my_awesome_api = FastAPI()


@my_awesome_api.get("/")
async def root():
    return {"message": "Hello World"}

```

--------------------------------

### Uvicorn Server Startup Output

Source: https://fastapi.tiangolo.com/em/tutorial/first-steps

This text snippet illustrates the typical console output when Uvicorn successfully starts a FastAPI application, indicating the local address where the server is accessible and confirming that the application has started.

```plaintext
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [28720]
INFO:     Started server process [28722]
INFO:     Waiting for application startup.
INFO:     Application startup complete.

```

```plaintext
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)

```

--------------------------------

### Example OpenAPI Specification (openapi.json)

Source: https://fastapi.tiangolo.com/em/tutorial/first-steps

This partial JSON code demonstrates the structure of the `openapi.json` file automatically generated by FastAPI. This file adheres to the OpenAPI specification, describing all API endpoints, their methods, responses, and data schemas, which powers interactive documentation like Swagger UI and ReDoc.

```json
{
    "openapi": "3.0.2",
    "info": {
        "title": "FastAPI",
        "version": "0.1.0"
    },
    "paths": {
        "/items/": {
            "get": {
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {



...

```

--------------------------------

### Run FastAPI Application with Uvicorn

Source: https://fastapi.tiangolo.com/em/tutorial/first-steps

This command line snippet shows how to run the FastAPI application using Uvicorn, a lightning-fast ASGI server. `main:app` refers to the `app` object within the `main.py` file, and `--reload` enables automatic server restart on code changes for development.

```bash
uvicorn main:app --reload

```

--------------------------------

### Run FastAPI Application (Custom Name) with Uvicorn

Source: https://fastapi.tiangolo.com/em/tutorial/first-steps

This shell command illustrates how to start a FastAPI application using Uvicorn when the application instance has a custom name, such as `my_awesome_api`. The Uvicorn command must explicitly reference this custom name to correctly load the application.

```shell
fast ‚Üíuvicorn main:my_awesome_api --reload  
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)  
  
restart ‚Ü∫
```

--------------------------------

### Run FastAPI Application (Default Name) with Uvicorn

Source: https://fastapi.tiangolo.com/em/tutorial/first-steps

This shell command demonstrates how to launch a FastAPI application named `app` located in `main.py` using Uvicorn. The `--reload` flag enables automatic code reloading on file changes during development.

```shell
fast ‚Üíuvicorn main:app --reload  
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)  
  
restart ‚Ü∫
```

--------------------------------

### Install Specific Python Package Version (Example 1)

Source: https://fastapi.tiangolo.com/em/virtual-environments

Illustrates installing a specific version of a package, `harry==1`, using `pip`. This example is part of a scenario demonstrating why global package installations can lead to version conflicts between different projects.

```shell
pip install "harry==1"
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/fr/tutorial/cors

An example GET endpoint demonstrating a basic FastAPI route within a CORS-configured application. It returns a simple 'Hello World' message.

```APIDOC
## GET /

### Description
A simple example endpoint that returns a "Hello World" message. This endpoint is part of the FastAPI application configured with CORSMiddleware.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
```
GET /
```

### Response
#### Success Response (200)
- **message** (string) - A greeting message.

#### Response Example
```json
{
  "message": "Hello World"
}
```

```

--------------------------------

### Define FastAPI Route Operation Function (Synchronous)

Source: https://fastapi.tiangolo.com/em/tutorial/first-steps

This Python example shows a synchronous route operation function, `def root()`, that handles GET requests for the root path. FastAPI supports both `async def` and regular `def` functions for route handlers, allowing flexibility based on implementation needs.

```python
from fastapi import FastAPI

app = FastAPI()


@app.get("/")
def root():
    return {"message": "Hello World"}

```

--------------------------------

### FastAPI Root Endpoint JSON Response

Source: https://fastapi.tiangolo.com/em/tutorial/first-steps

This JSON snippet shows the expected output when a client accesses the root endpoint (e.g., `http://127.0.0.1:8000/`) of the basic FastAPI application. It's a simple key-value pair.

```json
{"message": "Hello World"}

```

--------------------------------

### Install and Run FastAPI CLI in Development

Source: https://fastapi.tiangolo.com/fa/release-notes

This command-line example demonstrates how to install the FastAPI library using pip and then initiate a development server using the new `fastapi dev` command. The output provides server details, API documentation links, and indicates that file changes are being watched for live reloading.

```bash
$ pip install --upgrade fastapi

$ fastapi dev main.py


 ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ FastAPI CLI - Development mode ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ
 ‚îÇ                                                     ‚îÇ
 ‚îÇ  Serving at: http://127.0.0.1:8000                  ‚îÇ
 ‚îÇ                                                     ‚îÇ
 ‚îÇ  API docs: http://127.0.0.1:8000/docs               ‚îÇ
 ‚îÇ                                                     ‚îÇ
 ‚îÇ  Running in development mode, for production use:   ‚îÇ
 ‚îÇ                                                     ‚îÇ
 ‚îÇ  fastapi run                                        ‚îÇ
 ‚îÇ                                                     ‚îÇ
 ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ

INFO:     Will watch for changes in these directories: ['/home/user/code/awesomeapp']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [2248755] using WatchFiles
INFO:     Started server process [2248757]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/ja/reference/apirouter

Retrieves a list of example items. This endpoint demonstrates a basic GET request using FastAPI.

```APIDOC
## GET /items/\n\n### Description\nRetrieves a list of example items. This endpoint demonstrates a basic GET request using FastAPI.\n\n### Method\nGET\n\n### Endpoint\n/items/\n\n### Parameters\n#### Path Parameters\n(None)\n\n#### Query Parameters\n(None)\n\n#### Request Body\n(None)\n\n### Request Example\n(None)\n\n### Response\n#### Success Response (200)\n- **name** (string) - The name of the item.\n\n#### Response Example\n```json\n[\n  {\n    "name": "Empanada"\n  },\n  {\n    "name": "Arepa"\n  }\n]\n```
```

--------------------------------

### Test FastAPI WebSockets and HTTP Endpoints with TestClient

Source: https://fastapi.tiangolo.com/fa/advanced/testing-websockets

This Python example demonstrates how to use FastAPI's `TestClient` to write integration tests for both standard HTTP GET endpoints and WebSocket endpoints. It includes a minimal FastAPI application setup, a GET route, a WebSocket route, and two test functions showcasing how to interact with these endpoints using the `TestClient`.

```python
from fastapi import FastAPI
from fastapi.testclient import TestClient
from fastapi.websockets import WebSocket

app = FastAPI()


@app.get("/")
async def read_main():
    return {"msg": "Hello World"}


@app.websocket("/ws")
async def websocket(websocket: WebSocket):
    await websocket.accept()
    await websocket.send_json({"msg": "Hello WebSocket"})
    await websocket.close()


def test_read_main():
    client = TestClient(app)
    response = client.get("/")
    assert response.status_code == 200
    assert response.json() == {"msg": "Hello World"}


def test_websocket():
    client = TestClient(app)
    with client.websocket_connect("/ws") as websocket:
        data = websocket.receive_json()
        assert data == {"msg": "Hello WebSocket"}

```

--------------------------------

### Install FastAPI with standard dependencies

Source: https://fastapi.tiangolo.com/em

This command installs the FastAPI library, including its standard dependencies. It provides the necessary components to start developing FastAPI applications, often encompassing an ASGI server like Uvicorn.

```bash
pip install "fastapi[standard]"
```

--------------------------------

### Serve Built Multilingual FastAPI Documentation (Python CLI)

Source: https://fastapi.tiangolo.com/de/contributing

This command-line script starts a simple local web server to preview the fully built multilingual FastAPI documentation. It serves the content from the `./site/` directory, which must have been generated by the `build-all` command. It is intended for final previewing rather than active development.

```bash
python ./scripts/docs.py serve
```

--------------------------------

### Run FastAPI Example Application using Uvicorn Development Server

Source: https://fastapi.tiangolo.com/de/contributing

This command starts a FastAPI application in development mode using Uvicorn. It specifies the Python file `tutorial001.py` as the entry point. The application will be served on port 8000, avoiding conflicts with the documentation server running on port 8008.

```bash
fast ‚Üífastapi dev tutorial001.py
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)

restart ‚Ü∫
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/tutorial/path-operation-configuration

Retrieves a list of available items. This is a basic example demonstrating a GET request.

```APIDOC
## GET /items/

### Description
Retrieves a list of available items.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(None)

### Response
#### Success Response (200 OK)
- **name** (string) - The name of the item.
- **price** (float) - The price of the item.

#### Response Example
```json
[
  {
    "name": "Foo",
    "price": 42
  }
]
```
```

--------------------------------

### Run FastAPI development server with `fastapi dev`

Source: https://fastapi.tiangolo.com/fa/tutorial/first-steps

This command initiates the FastAPI development server, typically using `uvicorn` under the hood, to host the application defined in `main.py`. The console output displays server startup information, the local URL for the application and documentation, and indicates that the server is running in development mode with file watching enabled.

```shell
fast ‚Üífastapi dev _main.py_  
   FastAPI   Starting development server üöÄ  
  
             Searching for package file structure from directories  
             with __init__.py files  
             Importing from /home/user/code/awesomeapp  
  
    module   üêç main.py  
  
      code   Importing the FastAPI app object from the module with  
             the following code:  
  
             _from __**main**__ import __**app**_  
  
       app   Using import string: main:app  
  
    server   Server started at _http://127.0.0.1:8000_  
    server   Documentation at _http://127.0.0.1:8000/docs_  
  
       tip   Running in development mode, for production use:  
             **fastapi run**  
  
             Logs:  
  
      INFO   Will watch for changes in these directories:  
             **[**'/home/user/code/awesomeapp'**]**  
      INFO   Uvicorn running on _http://127.0.0.1:8000_ **(**Press CTRL+C  
             to quit**)**  
      INFO   Started reloader process **[****383138****]** using WatchFiles  
      INFO   Started server process **[****383153****]**  
      INFO   Waiting for application startup.  
      INFO   Application startup complete.  

restart ‚Üª
```

--------------------------------

### Build Standard FastAPI Docker Image

Source: https://fastapi.tiangolo.com/em/deployment/docker

This Dockerfile example demonstrates how to build a standard Docker image for a FastAPI application. It uses the `tiangolo/uvicorn-gunicorn-fastapi` base image, copies `requirements.txt`, installs dependencies, and then copies the application code into the `/app` directory.

```Dockerfile
FROM tiangolo/uvicorn-gunicorn-fastapi:python3.9

COPY ./requirements.txt /app/requirements.txt

RUN pip install --no-cache-dir --upgrade -r /app/requirements.txt

COPY ./app /app

```

--------------------------------

### Create a Basic FastAPI App and Run Server (Python)

Source: https://fastapi.tiangolo.com/tutorial/first-steps

This snippet demonstrates the simplest FastAPI application. It imports the FastAPI class, creates an instance, and defines a root path operation that returns a JSON message. The associated command shows how to run this application using the FastAPI development server.

```python
from fastapi import FastAPI

app = FastAPI()


@app.get("/")
async def root():
    return {"message": "Hello World"}

```

```bash
fastapi dev main.py

```

--------------------------------

### Install and Run FastAPI CLI in Development Mode

Source: https://fastapi.tiangolo.com/uk/release-notes

This snippet demonstrates how to install the FastAPI framework and then run a Python application using the new FastAPI CLI in development mode. It showcases the command-line instructions to set up and execute a FastAPI application, including dependency installation via pip. The `fastapi dev` command starts a development server with live reloading.

```bash
$ pip install --upgrade fastapi

$ fastapi dev main.py
```

--------------------------------

### Serve FastAPI Docs Locally Using MkDocs for a Specific Language

Source: https://fastapi.tiangolo.com/fa/contributing

These commands provide an alternative, manual method to serve the documentation for a specific language. First, navigate into the target language's documentation directory, then use `mkdocs serve` to start a local development server. This method requires `mkdocs` to be installed and accessible in your environment, providing a live preview at the specified address.

```bash
cd docs/es/
```

```bash
mkdocs serve --dev-addr 127.0.0.1:8008
```

--------------------------------

### FastAPI GET Endpoint with Default Header Parameter (Partial)

Source: https://fastapi.tiangolo.com/tutorial/testing

This partial FastAPI code snippet illustrates an alternative method for defining a required header parameter, `x_token`, by assigning `Header()` as its default value, without using `Annotated`. It includes the same token validation and item retrieval logic for a `GET` endpoint. Note that the `POST` endpoint definition is incomplete in this example.

```python
from fastapi import FastAPI, Header, HTTPException
from pydantic import BaseModel

fake_secret_token = "coneofsilence"

fake_db = {
    "foo": {"id": "foo", "title": "Foo", "description": "There goes my hero"},
    "bar": {"id": "bar", "title": "Bar", "description": "The bartenders"}
}

app = FastAPI()


class Item(BaseModel):
    id: str
    title: str
    description: str | None = None


@app.get("/items/{item_id}", response_model=Item)
async def read_main(item_id: str, x_token: str = Header()):
    if x_token != fake_secret_token:
        raise HTTPException(status_code=400, detail="Invalid X-Token header")
    if item_id not in fake_db:
        raise HTTPException(status_code=404, detail="Item not found")
    return fake_db[item_id]


@app.post("/items/", response_model=Item)
```

--------------------------------

### Run FastAPI application using the Uvicorn development server

Source: https://fastapi.tiangolo.com/fa/contributing

This shell command demonstrates how to run a FastAPI application file, `tutorial001.py`, using the `fastapi dev` command. It initializes Uvicorn, which serves the application on `http://127.0.0.1:8000` by default. This setup allows developers to run documentation examples and ensures port compatibility with the documentation server.

```shell
fastapi dev tutorial001.py
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/tr/reference/apirouter

Retrieves a list of example items from the API. This endpoint demonstrates a basic GET request without any input parameters.

```APIDOC
## GET /items/

### Description
This endpoint retrieves a list of predefined items. It demonstrates a basic GET request in a FastAPI application.

### Method
GET

### Endpoint
/items/

### Parameters
None. This endpoint does not require any path, query, or request body parameters.

### Request Example
{}

### Response
#### Success Response (200)
- **name** (string) - The name of an item.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### Run FastAPI Development Server from Documentation Examples

Source: https://fastapi.tiangolo.com/fr/contributing

This command demonstrates how to run a FastAPI application directly from a documentation example file using the `fastapi dev` command. The output shows the Uvicorn server starting on port 8000, which by default avoids port clashes with the documentation server (typically on 8008).

```shell
fast ‚Üífastapi dev tutorial001.py
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
  
restart ‚Üª
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/pt/reference/fastapi

Defines an HTTP GET endpoint to retrieve a list of items. This example illustrates a simple GET request returning a static list of items.

```APIDOC
## GET /items/

### Description
Defines an HTTP GET endpoint to retrieve a list of items.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
_None_

### Response
#### Success Response (200)
- **name** (string) - The name of an item.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/ru/reference/fastapi

Retrieves a list of predefined items. This example illustrates a simple GET path operation in FastAPI.

```APIDOC
## GET /items/

### Description
Retrieves a list of predefined items. This example illustrates a simple GET path operation in FastAPI.

### Method
GET

### Endpoint
/items/

### Request Example
(No request body for this GET endpoint)

### Response
#### Success Response (200)
- **name** (string) - The name of the item.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/reference/apirouter

Retrieves a list of predefined items. This example demonstrates a basic GET request with a hardcoded response.

```APIDOC
## GET /items/

### Description
Retrieves a list of predefined items from the server. This endpoint serves as a basic example of a GET request in FastAPI, returning a static array of item objects.

### Method
GET

### Endpoint
/items/

### Parameters
(None)

### Request Example
(No request body)

### Response
#### Success Response (200)
- **array of objects** - A list containing item objects.
  - **name** (string) - The name of the item.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### GET /users/

Source: https://fastapi.tiangolo.com/vi/tutorial/path-operation-configuration

Retrieves a list of users. This endpoint is part of an example demonstrating basic GET requests.

```APIDOC
## GET /users/

### Description
Retrieves a list of users.

### Method
GET

### Endpoint
/users/

### Parameters
None

### Request Example
None

### Response
#### Success Response (200)
- **username** (string) - The username.

#### Response Example
```json
[
  {
    "username": "johndoe"
  }
]
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fr/reference/fastapi

Defines an API endpoint for an HTTP GET request to retrieve a list of items. This example demonstrates a basic GET operation without any path or query parameters.

```APIDOC
## GET /items/

### Description
Retrieves a list of sample items (Empanada, Arepa).

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
GET requests typically do not have a request body.

### Response
#### Success Response (200)
- **array** (list of objects) - A list of item objects.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### Run FastAPI Application with Uvicorn Development Server

Source: https://fastapi.tiangolo.com/advanced/websockets

This command demonstrates how to start the FastAPI application using the `fastapi dev` command, which internally uses Uvicorn. It specifies `main.py` as the application entry point, enabling automatic reloading during development. The server will be accessible at `http://127.0.0.1:8000`.

```shell
fast ‚Üífastapi dev main.py
```

--------------------------------

### Serve compiled FastAPI documentation locally

Source: https://fastapi.tiangolo.com/contributing

Serves the fully built FastAPI documentation locally for preview. After running `build-all`, the command `python ./scripts/docs.py serve` launches a simple HTTP server, typically accessible at `http://127.0.0.1:8008`. This allows developers to review the combined, multi-language documentation as it would appear online.

```bash
python ./scripts/docs.py serve
```

--------------------------------

### FastAPI Application Setup and Imports (Python)

Source: https://fastapi.tiangolo.com/de/advanced/websockets

Initializes the FastAPI application and imports necessary modules for handling HTTP responses, WebSockets, cookies, query parameters, and dependency injection. This sets up the core framework for the server-side logic.

```python
from typing import Union

from fastapi import (
    Cookie,
    Depends,
    FastAPI,
    Query,
    WebSocket,
    WebSocketException,
    status,
)
from fastapi.responses import HTMLResponse

app = FastAPI()
```

--------------------------------

### GET /users/

Source: https://fastapi.tiangolo.com/tutorial/path-operation-configuration

Retrieves a list of registered users. This is a basic example demonstrating a GET request for user data.

```APIDOC
## GET /users/

### Description
Retrieves a list of registered users.

### Method
GET

### Endpoint
/users/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(None)

### Response
#### Success Response (200 OK)
- **username** (string) - The username of the user.

#### Response Example
```json
[
  {
    "username": "johndoe"
  }
]
```
```

--------------------------------

### Install Python-Multipart Package

Source: https://fastapi.tiangolo.com/ko/tutorial/security/first-steps

This command installs the `python-multipart` package, which is essential for FastAPI to process 'form data' used in OAuth2 flows for transmitting `username` and `password`. It is recommended to install this within an active virtual environment to manage dependencies effectively.

```bash
pip install python-multipart

```

--------------------------------

### Manually Serve FastAPI Docs Live for Existing Language (Bash & MkDocs)

Source: https://fastapi.tiangolo.com/ko/contributing

As an alternative to the script, these commands manually set up and serve the FastAPI documentation for a specific language. First, change the directory to the language's documentation folder (e.g., `docs/es/`), then run `mkdocs serve` to start the local development server.

```bash
cd docs/es/
```

```bash
mkdocs serve --dev-addr 127.0.0.1:8008
```

--------------------------------

### GET /items/ (Example with Depends)

Source: https://fastapi.tiangolo.com/ru/reference/dependencies

Example API endpoint demonstrating how to use `fastapi.Depends` to inject common query parameters into a path operation.

```APIDOC
## GET /items/

### Description
Retrieves a list of items with optional filtering, skipping, and limiting. This endpoint showcases the use of `fastapi.Depends` to manage common query parameters for reusability.

### Method
GET

### Endpoint
/items/

### Parameters
#### Query Parameters
- **q** (str) - Optional - A search query string for filtering items.
- **skip** (int) - Optional - The number of items to skip from the beginning of the list. Default: 0.
- **limit** (int) - Optional - The maximum number of items to return in the response. Default: 100.

### Request Example
(No request body for GET requests)

### Response
#### Success Response (200)
- **q** (str) - The query string used for filtering.
- **skip** (int) - The number of skipped items.
- **limit** (int) - The maximum number of returned items.

#### Response Example
```json
{
  "q": "example_query_string",
  "skip": 0,
  "limit": 100
}
```
```

--------------------------------

### Serve FastAPI Documentation Live Using Python Script

Source: https://fastapi.tiangolo.com/ru/contributing

Use this Python script to build and serve the FastAPI documentation locally. It enables live-reloading, allowing you to see changes instantly as you edit documentation or source files. The documentation will be available at `http://127.0.0.1:8008`.

```bash
python ./scripts/docs.py live
```

--------------------------------

### Install Specific Python Package Version (Example 2)

Source: https://fastapi.tiangolo.com/em/virtual-environments

Shows installing another specific version of the `harry` package, `harry==3`, using `pip`. This command, following an installation of `harry==1`, highlights the problem of managing conflicting dependencies in a global Python environment.

```shell
pip install "harry==3"
```

--------------------------------

### FastAPI Endpoints with Annotated Header and Error Handling

Source: https://fastapi.tiangolo.com/tutorial/testing

This FastAPI application defines `GET` and `POST` endpoints that require an `X-Token` header, validated using `Annotated`. It handles common errors like invalid tokens, non-existent items for GET requests, and conflicts for POST requests by raising `HTTPException`. The example includes variations for Python 3.10+ (`str | None`) and Python 3.9/3.8 (`Union[str, None]` with or without `typing_extensions.Annotated`) for Pydantic model type hints.

```python
from typing import Annotated

from fastapi import FastAPI, Header, HTTPException
from pydantic import BaseModel

fake_secret_token = "coneofsilence"

fake_db = {
    "foo": {"id": "foo", "title": "Foo", "description": "There goes my hero"},
    "bar": {"id": "bar", "title": "Bar", "description": "The bartenders"}
}

app = FastAPI()


class Item(BaseModel):
    id: str
    title: str
    description: str | None = None


@app.get("/items/{item_id}", response_model=Item)
async def read_main(item_id: str, x_token: Annotated[str, Header()]):
    if x_token != fake_secret_token:
        raise HTTPException(status_code=400, detail="Invalid X-Token header")
    if item_id not in fake_db:
        raise HTTPException(status_code=404, detail="Item not found")
    return fake_db[item_id]


@app.post("/items/", response_model=Item)
async def create_item(item: Item, x_token: Annotated[str, Header()]):
    if x_token != fake_secret_token:
        raise HTTPException(status_code=400, detail="Invalid X-Token header")
    if item.id in fake_db:
        raise HTTPException(status_code=409, detail="Item already exists")
    fake_db[item.id] = item
    return item
```

```python
from typing import Annotated, Union

from fastapi import FastAPI, Header, HTTPException
from pydantic import BaseModel

fake_secret_token = "coneofsilence"

fake_db = {
    "foo": {"id": "foo", "title": "Foo", "description": "There goes my hero"},
    "bar": {"id": "bar", "title": "Bar", "description": "The bartenders"}
}

app = FastAPI()


class Item(BaseModel):
    id: str
    title: str
    description: Union[str, None] = None


@app.get("/items/{item_id}", response_model=Item)
async def read_main(item_id: str, x_token: Annotated[str, Header()]):
    if x_token != fake_secret_token:
        raise HTTPException(status_code=400, detail="Invalid X-Token header")
    if item_id not in fake_db:
        raise HTTPException(status_code=404, detail="Item not found")
    return fake_db[item_id]


@app.post("/items/", response_model=Item)
async def create_item(item: Item, x_token: Annotated[str, Header()]):
    if x_token != fake_secret_token:
        raise HTTPException(status_code=400, detail="Invalid X-Token header")
    if item.id in fake_db:
        raise HTTPException(status_code=409, detail="Item already exists")
    fake_db[item.id] = item
    return item
```

```python
from typing import Union

from fastapi import FastAPI, Header, HTTPException
from pydantic import BaseModel
from typing_extensions import Annotated

fake_secret_token = "coneofsilence"

fake_db = {
    "foo": {"id": "foo", "title": "Foo", "description": "There goes my hero"},
    "bar": {"id": "bar", "title": "Bar", "description": "The bartenders"}
}

app = FastAPI()


class Item(BaseModel):
    id: str
    title: str
    description: Union[str, None] = None


@app.get("/items/{item_id}", response_model=Item)
async def read_main(item_id: str, x_token: Annotated[str, Header()]):
    if x_token != fake_secret_token:
        raise HTTPException(status_code=400, detail="Invalid X-Token header")
    if item_id not in fake_db:
        raise HTTPException(status_code=404, detail="Item not found")
    return fake_db[item_id]


@app.post("/items/", response_model=Item)
async def create_item(item: Item, x_token: Annotated[str, Header()]):
    if x_token != fake_secret_token:
        raise HTTPException(status_code=400, detail="Invalid X-Token header")
    if item.id in fake_db:
        raise HTTPException(status_code=409, detail="Item already exists")
    fake_db[item.id] = item
    return item
```

--------------------------------

### GET /status/ - Get System Status

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Retrieves the current status of the system. Requires any valid access token.

```APIDOC
## GET /status/

### Description
Retrieves the current status of the system. Requires any valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Any valid Bearer token.

### Request Example
Authorization: Bearer <any_valid_access_token>

### Response
#### Success Response (200)
- **status** (string) - The current status of the system (e.g., "ok").

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/vi/tutorial/path-operation-configuration

Retrieves a list of available items. This endpoint is part of an example demonstrating basic GET requests.

```APIDOC
## GET /items/

### Description
Retrieves a list of available items.

### Method
GET

### Endpoint
/items/

### Parameters
None

### Request Example
None

### Response
#### Success Response (200)
- **name** (string) - The name of the item.
- **price** (float) - The price of the item.

#### Response Example
```json
[
  {
    "name": "Foo",
    "price": 42
  }
]
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fr/reference/apirouter

Defines a path operation for retrieving a list of items using an HTTP GET request. This example demonstrates a basic GET endpoint returning static data.

```APIDOC
## GET /items/

### Description
Retrieves a list of predefined items. This endpoint is defined using FastAPI's `@router.get()` decorator.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
```json
{}
```

### Response
#### Success Response (200)
- **name** (string) - The name of an item.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/vi/reference/apirouter

Defines an API endpoint that handles HTTP GET requests to retrieve a collection of items. This example demonstrates a simple GET operation without any request parameters.

```APIDOC
## GET /items/

### Description
Retrieves a list of items from the server. This endpoint does not require any request parameters.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
{}

### Response
#### Success Response (200)
- **(array<object>)** - A list of item objects.
  - **name** (string) - The name of the item.

#### Response Example
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```

--------------------------------

### Run Traefik Proxy with Custom Configuration

Source: https://fastapi.tiangolo.com/fa/advanced/behind-a-proxy

This command demonstrates how to start the Traefik proxy using a specific configuration file (`traefik.toml`). It initializes Traefik to listen for incoming requests and apply the defined routing and middleware rules.

```bash
fast ‚Üí./traefik --configFile=traefik.toml  
INFO[0000] Configuration loaded from file: /home/user/awesomeapi/traefik.toml  
  
restart ‚Üª
```

--------------------------------

### Serve FastAPI Documentation Manually with mkdocs

Source: https://fastapi.tiangolo.com/ko/contributing

As an alternative to the Python script, you can manually serve the documentation by navigating to the language-specific docs directory (e.g., `docs/en/`) and running `mkdocs serve`. This command starts a local server to display the documentation at the specified address.

```bash
cd docs/en/
mkdocs serve --dev-addr 127.0.0.1:8008
```

--------------------------------

### GET /items/ (Initial Example)

Source: https://fastapi.tiangolo.com/tr/tutorial/path-operation-configuration

Retrieve a list of items. This endpoint demonstrates a basic GET operation returning a predefined list of item objects with name and price.

```APIDOC
## GET /items/

### Description
Retrieve a list of items. This endpoint demonstrates a basic GET operation returning a predefined list of item objects with name and price.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
_None_

### Response
#### Success Response (200)
- **name** (string) - The name of an item.
- **price** (number) - The price of an item.

#### Response Example
```json
[
  {
    "name": "Foo",
    "price": 42
  }
]
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/vi/reference/fastapi

Retrieves a list of items. This endpoint demonstrates a basic GET operation in FastAPI, returning a static list of items as an example.

```APIDOC
## GET /items/

### Description
Retrieves a list of items. This endpoint demonstrates a basic GET operation in FastAPI, returning a static list of items as an example.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
N/A

#### Query Parameters
N/A

#### Request Body
N/A

### Request Example
N/A

### Response
#### Success Response (200)
- **name** (string) - The name of the item.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### GET /users/

Source: https://fastapi.tiangolo.com/zh/reference/apirouter

Retrieves a list of example user data from the application.

```APIDOC
## GET /users/

### Description
Retrieves a list of user objects, each containing a name. This endpoint is defined within a `users_router` and is accessible through the main application via an `internal_router`.

### Method
GET

### Endpoint
/users/

### Parameters
#### Path Parameters
- No path parameters.

#### Query Parameters
- No query parameters.

#### Request Body
- No request body.

### Request Example
No request body is required for this endpoint.

### Response
#### Success Response (200)
- **name** (string) - The name of the user.

#### Response Example
```json
[
  {
    "name": "Rick"
  },
  {
    "name": "Morty"
  }
]
```
```

--------------------------------

### POST /users/

Source: https://fastapi.tiangolo.com/fr/advanced/generate-clients

Creates a new user with a username and email, demonstrating another POST operation.

```APIDOC
## POST /users/

### Description
Creates a new user with a username and email.

### Method
POST

### Endpoint
/users/

### Parameters
#### Request Body
- **username** (string) - Required - The username of the new user.
- **email** (string) - Required - The email address of the new user.

### Request Example
{
  "username": "john_doe",
  "email": "john.doe@example.com"
}

### Response
#### Success Response (200)
- **message** (string) - A confirmation message indicating the user was received.

#### Response Example
{
  "message": "User received"
}
```

--------------------------------

### Install HTTPX for FastAPI TestClient

Source: https://fastapi.tiangolo.com/fa/tutorial/testing

Before utilizing FastAPI's TestClient, the 'httpx' library, which it is based on, must be installed. This command demonstrates the standard way to install 'httpx' using pip, typically within an activated virtual environment.

```bash
pip install httpx
```

--------------------------------

### Serve MkDocs Manually for a Specific Language (Shell)

Source: https://fastapi.tiangolo.com/ja/contributing

Manually start the MkDocs development server from within a language's directory. This serves the documentation locally, typically on port 8008, allowing you to preview translated content.

```bash
mkdocs serve --dev-addr 127.0.0.1:8008
```

--------------------------------

### Run FastAPI App with Uvicorn Programmatically (Python)

Source: https://fastapi.tiangolo.com/fa/tutorial/debugging

This Python code demonstrates how to embed and run a FastAPI application using Uvicorn directly within the script. It defines a minimal FastAPI app with a GET endpoint and starts the Uvicorn server, listening on `0.0.0.0:8000`, only when the script is executed as the main program, which is ideal for development and debugging setups.

```python
import uvicorn
from fastapi import FastAPI

app = FastAPI()


@app.get("/")
def root():
    a = "a"
    b = "b" + a
    return {"hello world": b}


if __name__ == "__main__":
    uvicorn.run(app, host="0.0.0.0", port=8000)
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/fr/advanced/websockets

This endpoint serves the main HTML page for the WebSocket chat application. It's a standard GET request that returns static HTML content.

```APIDOC
## GET /

### Description
This endpoint serves the main HTML page for the WebSocket chat application. It provides the front-end interface for users to connect to the WebSocket and send messages.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
N/A

#### Query Parameters
N/A

#### Request Body
N/A

### Request Example
N/A

### Response
#### Success Response (200)
Returns an HTML page for the chat application.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <label>Item ID: <input type="text" id="itemId" autocomplete="off" value="foo"/></label>
            <label>Token: <input type="text" id="token" autocomplete="off" value="some-key-token"/></label>
            <button onclick="connect(event)">Connect</button>
            <hr>
            <label>Message: <input type="text" id="messageText" autocomplete="off"/></label>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
            // ... (JavaScript for WebSocket client handling)
        </script>
    </body>
</html>
```
```

--------------------------------

### GET /users/me/items/ - Get User's Items

Source: https://fastapi.tiangolo.com/tr/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated and active user. This is an example of accessing a protected resource.

```APIDOC
## GET /users/me/items/

### Description
Fetches a list of items belonging to the current active user. This endpoint demonstrates accessing a resource protected by authentication.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token received from the /token endpoint.

### Request Example
No request body.
```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200 OK)
- **item_id** (string) - The unique identifier of the item.
- **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401 Unauthorized)
- If no token is provided or the token is invalid.

#### Response Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400 Bad Request)
- If the authenticated user is disabled.

#### Response Example (400)
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### GET /users/

Source: https://fastapi.tiangolo.com/ru/reference/apirouter

Retrieves a list of all registered users. This endpoint demonstrates a basic GET request within a FastAPI APIRouter setup.

```APIDOC
## GET /users/

### Description
Retrieves a list of all registered users from the system.

### Method
GET

### Endpoint
/users/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No request body for GET)

### Response
#### Success Response (200)
- **username** (string) - The username of the user.

#### Response Example
```json
[
  {
    "username": "Rick"
  },
  {
    "username": "Morty"
  }
]
```
```

--------------------------------

### FastAPI JWT Authentication Setup: Constants, Models, and Dependencies

Source: https://fastapi.tiangolo.com/tutorial/security/oauth2-jwt

Defines all necessary imports, security constants (SECRET_KEY, ALGORITHM, ACCESS_TOKEN_EXPIRE_MINUTES), a mock user database, Pydantic models for request/response bodies and internal user representation, and initializes FastAPI security components and the app instance.

```python
from datetime import datetime, timedelta, timezone
from typing import Annotated, Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}


class Token(BaseModel):
    access_token: str
    token_type: str


class TokenData(BaseModel):
    username: Union[str, None] = None


class User(BaseModel):
    username: str
    email: Union[str, None] = None
    full_name: Union[str, None] = None
    disabled: Union[bool, None] = None


class UserInDB(User):
    hashed_password: str


password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### GET /status/ - Get System Status

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the general status of the system. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Provides a basic health check or status update for the system. Requires user authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No direct request body, authentication via header)

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
{
  "status": "ok"
}

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### GET /status/ - Get System Status

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks and returns the current operational status of the system. Requires authentication.

```APIDOC
## GET /status/

### Description
Provides a simple check for the system's operational status. This endpoint requires a valid access token for authentication, but no specific scopes are enforced beyond general user authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Request Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - A string indicating the system's health, typically "ok".

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

### Response Example
```json
{
  "status": "ok"
}
```
```

--------------------------------

### GET /status/ - Get System Status

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the system status. Requires basic authentication to ensure the user exists.

```APIDOC
## GET /status/

### Description
This endpoint provides a basic system status check. It requires any authenticated user to access, though no specific scopes are enforced beyond successful authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Request Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`)

### Request Example
(No request body)

### Response
#### Success Response (200)
- **status** (string) - A simple status message.
- **user** (string) - The username of the authenticated user.

#### Response Example
```json
{
  "status": "System Operational",
  "user": "johndoe"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### POST /items/

Source: https://fastapi.tiangolo.com/fr/advanced/generate-clients

Creates a new item with a name and price, demonstrating a POST operation.

```APIDOC
## POST /items/

### Description
Creates a new item with a name and price.

### Method
POST

### Endpoint
/items/

### Parameters
#### Request Body
- **name** (string) - Required - The name of the item.
- **price** (number) - Required - The price of the item.

### Request Example
{
  "name": "New Item",
  "price": 10.99
}

### Response
#### Success Response (200)
- **message** (string) - A confirmation message indicating the item was received.

#### Response Example
{
  "message": "Item received"
}
```

--------------------------------

### Install FastAPI with Standard Dependencies Directly

Source: https://fastapi.tiangolo.com/em/virtual-environments

This snippet shows how to quickly install the `fastapi` package along with its standard dependencies using either `pip` or `uv`. While convenient for quick tests, managing dependencies via a `requirements.txt` file is generally recommended for projects.

```shell
pip install "fastapi[standard]"
```

```shell
uv pip install "fastapi[standard]"
```

--------------------------------

### Serve FastAPI Docs Live for Existing Language (Python)

Source: https://fastapi.tiangolo.com/em/contributing

This command uses a Python script to start a local development server for FastAPI documentation. It allows previewing translated content for an existing language, specified by its two-letter code (e.g., 'es'). The server runs on http://127.0.0.1:8008 and watches for file changes.

```python
python ./scripts/docs.py live es
```

--------------------------------

### Run FastAPI Development Server

Source: https://fastapi.tiangolo.com/fa/advanced/websockets

This command line instruction initiates a FastAPI development server. It assumes your application's main file is named 'main.py' and makes the API accessible on a local host and port. This is essential for local development, testing, and debugging your FastAPI application.

```bash
fastapi dev main.py
```

--------------------------------

### Install Uvicorn with Standard Dependencies

Source: https://fastapi.tiangolo.com/em/deployment/manually

Install Uvicorn along with its standard dependencies, which typically include `uvloop` for high-performance asynchronous operations, ensuring an optimized server setup for your FastAPI application.

```shell
pip install "uvicorn[standard]"
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/uk/reference/apirouter

Retrieves a list of items from the API. This example demonstrates a basic GET request returning a static list of dictionaries.

```APIDOC
## GET /items/

### Description
Retrieves a list of items from the API. This example demonstrates a basic GET request returning a static list of dictionaries.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
*(None)*

#### Query Parameters
*(None)*

#### Request Body
*(None for GET requests)*

### Request Example
*(No request body for this GET endpoint)*

### Response
#### Success Response (200)
- **name** (string) - The name of the item.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### GET /users/me/items/

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated and active user. This is an example of an endpoint that provides user-specific data.

```APIDOC
## GET /users/me/items/

### Description
Provides a list of example items associated with the currently authenticated user. This endpoint demonstrates accessing protected resources tied to the user's identity.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <YOUR_ACCESS_TOKEN>`).

### Request Example
```
curl -X GET \
  http://localhost:8000/users/me/items/ \
  -H 'Authorization: Bearer <YOUR_ACCESS_TOKEN>'
```

### Response
#### Success Response (200)
- Array of objects, each containing:
  - **item_id** (string) - Identifier for the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  },
  {
    "item_id": "Bar",
    "owner": "johndoe"
  }
]
```

#### Error Response (401)
- **detail** (string) - Error message indicating invalid credentials or missing token.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400)
- **detail** (string) - Error message indicating an inactive user.

#### Error Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### Illustrating Repeated Settings Initialization Without Caching

Source: https://fastapi.tiangolo.com/fa/advanced/settings

These code examples demonstrate how `Settings()` instantiation would repeatedly read configuration files, and how a dependency function without caching would create a new Settings object for every request, leading to inefficient I/O operations.

```python
Settings()
```

```python
def get_settings():
    return Settings()
```

--------------------------------

### Example requirements.txt File for Python Project Dependencies

Source: https://fastapi.tiangolo.com/fa/virtual-environments

An example `requirements.txt` file content, specifying exact versions for FastAPI and Pydantic. This file defines project dependencies for reproducible environments.

```text
fastapi[standard]==0.113.0
pydantic==2.8.0

```

--------------------------------

### FastAPI Protected Endpoint to Read System Status

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

This GET endpoint (`/status/`) provides an example of a simple protected route that only requires

--------------------------------

### GET /items/{item_id} (Example with Path)

Source: https://fastapi.tiangolo.com/ru/reference/parameters

An example FastAPI endpoint demonstrating how to declare and document a path parameter using `fastapi.Path` for validation and metadata.

```APIDOC
## GET /items/{item_id}

### Description
Reads an item by its ID. This endpoint serves as an example to illustrate how `fastapi.Path` is used to declare and add metadata (like a title) to a path parameter, enhancing the OpenAPI documentation.

### Method
GET

### Endpoint
/items/{item_id}

### Parameters
#### Path Parameters
- **item_id** (int) - Required - The ID of the item to get. Declared with `Path(title="The ID of the item to get")` to add a human-readable title to the OpenAPI schema.

#### Query Parameters
None

#### Request Body
None

### Request Example
N/A

### Response
#### Success Response (200)
- **item_id** (int) - The ID of the item that was retrieved.

#### Response Example
```json
{
  "item_id": 123
}
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/es/reference/apirouter

Retrieves a list of all available items from the API. This example showcases a typical use case for a GET operation to fetch multiple resources.

```APIDOC
## GET /items/

### Description
Retrieves a list of available items from the API.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(Not applicable for this GET request without parameters)

### Response
#### Success Response (200)
- **name** (string) - The name of an item.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### Run FastAPI Application with `fastapi run` Command

Source: https://fastapi.tiangolo.com/uk/deployment/manually

This snippet demonstrates how to start a FastAPI application using the `fastapi run` command. It shows the console output, including the server startup message, the address where the application is served, and where the documentation can be accessed. This command is suitable for local development or within containers.

```text
fast ‚Üífastapi run main.py  
   FastAPI   Starting production server üöÄ  
             Searching for package file structure from directories  
             with __init__.py files  
             Importing from /home/user/code/awesomeapp  
    module   üêç main.py  
      code   Importing the FastAPI app object from the module with  
             the following code:  
             _from __**main**__ import __**app**_  
       app   Using import string: main:app  
    server   Server started at _http://0.0.0.0:8000_  
    server   Documentation at _http://0.0.0.0:8000/docs_  
             Logs:  
      INFO   Started server process **[****2306215****]**  
      INFO   Waiting for application startup.  
      INFO   Application startup complete.  
      INFO   Uvicorn running on _http://0.0.0.0:8000_ **(**Press CTRL+C  
             to quit**)**  
restart ‚Üª
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fr/reference/fastapi

Retrieves a predefined list of food items. This endpoint serves as a basic example of a GET operation in FastAPI without any input parameters.

```APIDOC
## GET /items/

### Description
Retrieves a predefined list of food items. This endpoint serves as a basic example of a GET operation in FastAPI.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
N/A

### Request Example
N/A

### Response
#### Success Response (200)
A list of item objects. Each object has the following structure:
- **name** (string) - The name of the food item.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### Manually Serve Language Docs with MkDocs (Bash)

Source: https://fastapi.tiangolo.com/em/contributing

This command starts a development server using mkdocs for the documentation in the current directory. It's an alternative method to preview translated content, providing a live reload experience. The --dev-addr flag specifies the local address and port for the server.

```bash
mkdocs serve --dev-addr 127.0.0.1:8008
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires a valid access token for authentication, but no specific scopes are mentioned in the example.

```APIDOC
## GET /status/

### Description
Provides a basic system status check. Authentication via a valid access token is required.

### Method
GET

### Endpoint
/status/

### Parameters
- **Authorization** (string) - Required - HTTP Header: Bearer token obtained from the `/token` endpoint (e.g., `Bearer <ACCESS_TOKEN>`).

### Request Example
```json
{}
```

### Response
#### Success Response (200)
- **message** (string) - A status message confirming the system's operational status.
*Note: The specific response content is not defined in the source code; an example message is provided.*

#### Response Example
```json
{
  "message": "System is operational"
}
```
#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

```

--------------------------------

### Initialize FastAPI Application and Configure Authentication

Source: https://fastapi.tiangolo.com/fa/tutorial/security/oauth2-jwt

This code block handles the essential setup for a FastAPI application, including importing all necessary modules, initializing the FastAPI app instance, configuring `OAuth2PasswordBearer` for token authentication, and defining key constants for JWT security. It also sets up a mock user database for demonstration purposes.

```python
from datetime import datetime, timedelta, timezone
from typing import Annotated, Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False
    }
}

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### Initialize FastAPI Application and Security Components

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Initializes the FastAPI application, sets up necessary imports, instantiates the password hashing utility from `pwdlib`, and configures the OAuth2PasswordBearer for token authentication.

```python
from datetime import datetime, timedelta, timezone

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel


password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### FastAPI App Instance Creation (Python)

Source: https://fastapi.tiangolo.com/tutorial/first-steps

This code segment focuses on initializing a FastAPI application instance. It imports the necessary FastAPI class and creates a variable 'app' which serves as the main point of interaction for building the API. This is a fundamental step in FastAPI development.

```python
from fastapi import FastAPI

app = FastAPI()

```

--------------------------------

### FastAPI Route to Get System Status (Authenticated)

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Defines an API endpoint `GET /status/` that provides system status information. This route is protected by requiring an authenticated user via the `get_current_user` dependency. It serves as a simple example of an endpoint that only requires basic authentication, without specific scope checks.

```python
@app.get("/status/")
async def read_system_status(current_user: Annotated[User, Depends(get_current_user)]):
    pass
```

--------------------------------

### Run FastAPI application with Uvicorn

Source: https://fastapi.tiangolo.com/em/tutorial/security/first-steps

This shell command starts the FastAPI application using Uvicorn. The `--reload` flag enables live reloading, automatically restarting the server on code changes, which is useful for development. Ensure `uvicorn` is installed and `main.py` is in the current directory.

```shell
uvicorn main:app --reload
```

--------------------------------

### GET /users/ (Initial Example)

Source: https://fastapi.tiangolo.com/tr/tutorial/path-operation-configuration

Retrieve a list of users. This endpoint demonstrates a basic GET operation returning a predefined list of user objects with a username.

```APIDOC
## GET /users/

### Description
Retrieve a list of users. This endpoint demonstrates a basic GET operation returning a predefined list of user objects with a username.

### Method
GET

### Endpoint
/users/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
_None_

### Response
#### Success Response (200)
- **username** (string) - The username of a user.

#### Response Example
```json
[
  {
    "username": "johndoe"
  }
]
```
```

--------------------------------

### Test FastAPI Application with TestClient and Startup Events

Source: https://fastapi.tiangolo.com/em/advanced/testing-events

This Python code demonstrates how to test a FastAPI application using `TestClient`, ensuring `on_event('startup')` functions are properly executed. It sets up a simple FastAPI app with a startup event that populates data, and then uses the `TestClient` to make requests and assert responses, simulating a running application environment.

```Python
from fastapi import FastAPI
from fastapi.testclient import TestClient

app = FastAPI()

items = {}


@app.on_event("startup")
async def startup_event():
    items["foo"] = {"name": "Fighters"}
    items["bar"] = {"name": "Tenders"}


@app.get("/items/{item_id}")
async def read_items(item_id: str):
    return items[item_id]


def test_read_items():
    with TestClient(app) as client:
        response = client.get("/items/foo")
        assert response.status_code == 200
        assert response.json() == {"name": "Fighters"}

```

--------------------------------

### Initialize FastAPI Application

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Creates the main FastAPI application instance. This `app` object will be used to define API routes, middleware, and other application configurations.

```python
app = FastAPI()
```

--------------------------------

### FastAPI JWT Authentication Setup and Models

Source: https://fastapi.tiangolo.com/tr/tutorial/security/oauth2-jwt

Initializes the FastAPI application, defines global constants for JWT and security, sets up a mock user database, and defines Pydantic models for tokens and user data. This includes all necessary imports for the authentication system.

```python
from datetime import datetime, timedelta, timezone
from typing import Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}


class Token(BaseModel):
    access_token: str
    token_type: str


class TokenData(BaseModel):
    username: str | None = None


class User(BaseModel):
    username: str
    email: str | None = None
    full_name: str | None = None
    disabled: bool | None = None


class UserInDB(User):
    hashed_password: str


password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/reference/apirouter

This endpoint retrieves a list of predefined items. It demonstrates the usage of the FastAPI `@router.get` decorator to define an HTTP GET operation, as shown in the example.

```APIDOC
## GET /items/

### Description
This endpoint retrieves a list of predefined items. It demonstrates the usage of the FastAPI `@router.get` decorator to define an HTTP GET operation, as shown in the example.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(None)

### Response
#### Success Response (200)
- An array of objects, where each object represents an item.
- Each item object has a `name` (string) field.

#### Response Example
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fr/tutorial/path-operation-configuration

Retrieves a list of items with their name and price. This is a basic example of an item listing.

```APIDOC
## GET /items/

### Description
Retrieves a list of items.

### Method
GET

### Endpoint
/items/

### Parameters

### Request Example

### Response
#### Success Response (200)
- **name** (string) - The name of the item.
- **price** (float) - The price of the item.

#### Response Example
```json
[
  {
    "name": "Foo",
    "price": 42
  }
]
```
```

--------------------------------

### Serve FastAPI Documentation Locally with Python Script

Source: https://fastapi.tiangolo.com/ko/contributing

During local development, use this Python script to build and serve the FastAPI documentation with live-reloading. The documentation will be available at `http://127.0.0.1:8008`, allowing you to see changes to docs or source files in real-time.

```bash
python ./scripts/docs.py live
```

--------------------------------

### GET /status/ (Get System Status)

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Checks the overall status of the API system. This endpoint requires a valid access token.

```APIDOC
## GET /status/

### Description
Checks the overall status of the API system. This endpoint requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No request body)

### Response
#### Success Response (200)
- **status** (string) - The status of the system. Expected value is "ok" for a healthy system.

#### Response Example
{
  "status": "ok"
}
```

--------------------------------

### Set Up FastAPI Application with OAuth2, User Models, and Helpers (Python)

Source: https://fastapi.tiangolo.com/fr/tutorial/security/simple-oauth2

Initializes a FastAPI application, defines Pydantic models for `User` and `UserInDB`, sets up a fake user database, and implements utility functions for password hashing, user retrieval, and token decoding. It also configures `OAuth2PasswordBearer` to manage token URLs.

```python
from typing import Union

from fastapi import FastAPI
from fastapi.security import OAuth2PasswordBearer
from pydantic import BaseModel

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()

def fake_hash_password(password: str):
    return "fakehashed" + password

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")


class User(BaseModel):
    username: str
    email: Union[str, None] = None
    full_name: Union[str, None] = None
    disabled: Union[bool, None] = None


class UserInDB(User):
    hashed_password: str


def get_user(db, username: str):
    if username in db:
        user_dict = db[username]
        return UserInDB(**user_dict)


def fake_decode_token(token):
    # This doesn't provide any security at all
    # Check the next version
    user = get_user(fake_users_db, token)
    return user
```

--------------------------------

### Run FastAPI Application using Uvicorn Dev Server

Source: https://fastapi.tiangolo.com/ko/tutorial/security/first-steps

This command starts the FastAPI application using the `fastapi dev` CLI tool, which leverages Uvicorn for local development. It automatically reloads the server on code changes and typically runs on `http://127.0.0.1:8000`, making the API accessible for testing.

```bash
fastapi dev main.py

```

--------------------------------

### GET /users/me/ - Get Current User

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

Retrieves the details of the currently authenticated user. This endpoint requires a valid access token in the Authorization header.

```APIDOC
## GET /users/me/

### Description
Fetches the profile information for the user associated with the provided access token. The user must be authenticated and active.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Request Headers
- **Authorization** (string) - Required - Bearer token received from the `/token` endpoint.
  Example: `Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huZG9lIiwiZXhwIjoxNzA0MDY3MjAwfQ.example_jwt_token`

### Request Example
No request body needed. Authentication via header.

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - A message indicating that credentials could not be validated.

#### Error Response Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400 Bad Request)
- **detail** (string) - A message indicating that the user is inactive.

#### Error Response Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### FastAPI Main Application and Router Inclusion

Source: https://fastapi.tiangolo.com/uk/tutorial/bigger-applications

This code sets up the main `FastAPI` application, demonstrating how to define global dependencies that apply to all endpoints. It then shows how to include various `APIRouter` instances, such as for users, items, and an admin section, applying specific `prefix`, `tags`, `dependencies`, and `responses` when including each router.

```python
from fastapi import Depends, FastAPI

from .dependencies import get_query_token, get_token_header
from .internal import admin
from .routers import items, users

app = FastAPI(dependencies=[Depends(get_query_token)])


app.include_router(users.router)
app.include_router(items.router)
app.include_router(
    admin.router,
    prefix="/admin",
    tags=["admin"],
    dependencies=[Depends(get_token_header)],
    responses={418: {"description": "I'm a teapot"}},
)


@app.get("/")
async def root():
    return {"message": "Hello Bigger Applications!"}

```

--------------------------------

### Initialize OpenAPI Examples Component in Python

Source: https://fastapi.tiangolo.com/pt/reference/openapi/models

This snippet initializes the `examples` attribute to

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Retrieves the current system status. Requires a valid access token for authentication, but no specific scopes are mentioned in the example.

```APIDOC
## GET /status/

### Description
Retrieves the current system status. Requires a valid access token for authentication, but no specific scopes are mentioned in the example.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No request body required. Authentication via Authorization header.)

### Response
#### Success Response (200)
- A generic success object indicating the system status.
  - **status** (string) - Indicates the operational status, e.g., "ok".

#### Response Example
```json
{
  "status": "ok"
}
```
```

--------------------------------

### GET /users/me/ - Get Current User Information

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Retrieves the detailed information of the currently authenticated user. This endpoint requires a valid bearer token.

```APIDOC
## GET /users/me/

### Description
Retrieves the detailed information of the currently authenticated user. This endpoint requires a valid bearer token.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`)

### Request Example
(No direct request body or query parameters. Authentication via header.)

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials"

#### Error Response (400 Bad Request)
- **detail** (string) - "Inactive user"

#### Error Example (401)
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### Run FastAPI Application using `fastapi run` Command

Source: https://fastapi.tiangolo.com/fa/deployment/manually

This command-line output demonstrates how to start a FastAPI application using the `fastapi run` command. It shows the server's startup process, including the detection of the application module, the import string used, and the accessible URLs for the server and its documentation. This command offers a straightforward way to launch a production-ready FastAPI server.

```console
fast ‚Üífastapi run main.py  
   FastAPI   Starting production server ·¥£  
  
             Searching for package file structure from directories  
             with __init__.py files  
             Importing from /home/user/code/awesomeapp  
  
    module   üêç main.py  
  
      code   Importing the FastAPI app object from the module with  
             the following code:  
  
             _from __**main**__ import __**app**_  
  
       app   Using import string: main:app  
  
    server   Server started at _http://0.0.0.0:8000_  
    server   Documentation at _http://0.0.0.0:8000/docs_  
  
             Logs:  
  
      INFO   Started server process **[****2306215****]**  
      INFO   Waiting for application startup.  
      INFO   Application startup complete.  
      INFO   Uvicorn running on _http://0.0.0.0:8000_ **(**Press CTRL+C  
             to quit**)**
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fr/advanced/generate-clients

Retrieves a list of all available items, demonstrating a GET operation.

```APIDOC
## GET /items/

### Description
Retrieves a list of all available items.

### Method
GET

### Endpoint
/items/

### Parameters
No parameters.

### Request Example
N/A

### Response
#### Success Response (200)
- **name** (string) - The name of an item.
- **price** (number) - The price of an item.

#### Response Example
[
  {
    "name": "Plumbus",
    "price": 3
  },
  {
    "name": "Portal Gun",
    "price": 9001
  }
]
```

--------------------------------

### Serve FastAPI Documentation with Live Reload using Python Script

Source: https://fastapi.tiangolo.com/de/contributing

This command uses a Python script to build and serve the FastAPI documentation locally. It includes live-reloading functionality, allowing developers to see changes in real-time as they edit source files. The documentation will be accessible at http://127.0.0.1:8008.

```bash
fast ‚Üípython ./scripts/docs.py live
[INFO] Serving on http://127.0.0.1:8008
[INFO] Start watching changes
[INFO] Start detecting changes

restart ‚Ü∫
```

--------------------------------

### Install Uvicorn with standard dependencies for FastAPI

Source: https://fastapi.tiangolo.com/deployment/manually

Install the Uvicorn ASGI server, which is a production-ready server for FastAPI, including recommended extra dependencies like 'uvloop' for enhanced performance. This command should be run within an activated virtual environment using pip.

```bash
pip install "uvicorn[standard]"
```

--------------------------------

### GET /users/me/ - Get Current User

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Retrieves the details of the currently authenticated user. This endpoint requires a valid bearer token in the Authorization header.

```APIDOC
## GET /users/me/

### Description
Fetches and returns the profile information of the user associated with the provided access token. The user must be active (not disabled).

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
```
GET /users/me/
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200 OK)
- **username** (string) - The unique username of the authenticated user.
- **email** (string, optional) - The email address of the user.
- **full_name** (string, optional) - The full name of the user.
- **disabled** (boolean, optional) - Indicates if the user's account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "full_name": "John Doe",
  "email": "johndoe@example.com",
  "disabled": false
}
```

#### Error Response (401 Unauthorized)
Returns if no token is provided or the token is invalid/expired.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400 Bad Request)
Returns if the authenticated user account is disabled.

#### Error Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### Initialize FastAPI Application

Source: https://fastapi.tiangolo.com/de/reference/fastapi

This snippet demonstrates the basic initialization of a FastAPI application. It creates a default instance of FastAPI, which serves as the entry point for defining routes and application logic without any custom configuration.

```python
from fastapi import FastAPI

app = FastAPI()
```

--------------------------------

### GET /users/me/items/ - Get User's Items

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Retrieves a list of items owned by the currently authenticated user. Requires specific scopes.

```APIDOC
## GET /users/me/items/

### Description
This endpoint fetches a list of items associated with the currently authenticated user. It requires a valid JWT with the 'items' scope in the Authorization header.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Request Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`)

### Request Example
(No request body)

### Response
#### Success Response (200)
- **item_id** (string) - The identifier of the item.
- **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials", "Not enough permissions".

#### Error Example
```json
{
  "detail": "Not enough permissions"
}
```

#### Error Response (400)
- **detail** (string) - Error message, e.g., "Inactive user".

#### Error Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### Illustrate FastAPI Project Directory Structure

Source: https://fastapi.tiangolo.com/tutorial/bigger-applications

This example showcases a standard directory structure for a FastAPI application, defining Python packages and subpackages using `__init__.py` files. It provides a blueprint for organizing application components like main files, dependencies, and route modules.

```plaintext
.
‚îú‚îÄ‚îÄ app
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dependencies.py
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ routers
‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ items.py
‚îÇ¬†¬† ‚îÇ   ‚îî‚îÄ‚îÄ users.py
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ internal
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __init__.py
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ admin.py
```

```plaintext
.
‚îú‚îÄ‚îÄ app                  # "app" is a Python package
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py      # this file makes "app" a "Python package"
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py          # "main" module, e.g. import app.main
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dependencies.py  # "dependencies" module, e.g. import app.dependencies
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ routers          # "routers" is a "Python subpackage"
‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py  # makes "routers" a "Python subpackage"
‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ items.py     # "items" submodule, e.g. import app.routers.items
‚îÇ¬†¬† ‚îÇ   ‚îî‚îÄ‚îÄ users.py     # "users" submodule, e.g. import app.routers.users
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ internal         # "internal" is a "Python subpackage"
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __init__.py  # makes "internal" a "Python subpackage"
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ admin.py     # "admin" submodule, e.g. import app.internal.admin
```

--------------------------------

### GET /users/me/ - Get Current User

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Retrieves information about the currently authenticated and active user. Requires an 'Authorization: Bearer <token>' header.

```APIDOC
## GET /users/me/

### Description
This endpoint returns the details of the user who is currently authenticated and active. It requires a valid JWT with the 'me' scope in the Authorization header.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Request Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`)

### Request Example
(No request body)

### Response
#### Success Response (200)
- **username** (string) - The user's unique username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "full_name": "John Doe",
  "email": "johndoe@example.com",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials", "Not enough permissions".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400)
- **detail** (string) - Error message, e.g., "Inactive user".

#### Error Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### Install Pytest for FastAPI Application Testing

Source: https://fastapi.tiangolo.com/em/tutorial/testing

This command demonstrates how to install the `pytest` testing framework using `pip`, which is essential for discovering and running the unit tests written for the FastAPI application.

```bash
pip install pytest
```

--------------------------------

### Build All Language Versions of FastAPI Documentation (Python CLI)

Source: https://fastapi.tiangolo.com/de/contributing

This command-line script builds all configured language versions of the FastAPI documentation. It processes each language independently and then combines them, generating the final static site output in the `./site/` directory. This step is necessary before previewing the full multilingual site.

```bash
python ./scripts/docs.py build-all
```

--------------------------------

### GET /users/me/ - Get Current User Info

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Retrieves the profile information of the currently authenticated and active user. Requires the 'me' scope.

```APIDOC
## GET /users/me/

### Description
Retrieves the profile information for the user associated with the provided access token. This endpoint requires the user to be authenticated and active, and the token must include the 'me' scope.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Request Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```
GET /users/me/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **username** (string) - The user's unique username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" or "Not enough permissions"

#### Error Response (400)
- **detail** (string) - "Inactive user" (if the user is disabled)

### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```
```

--------------------------------

### Root Endpoint - GET /

Source: https://fastapi.tiangolo.com/de/advanced/websockets

Serves the HTML page for the WebSocket chat client.

```APIDOC
## GET /

### Description
This endpoint returns an HTML page that includes a client-side JavaScript application for interacting with the WebSocket.

### Method
GET

### Endpoint
/

### Parameters
None

### Request Example
None

### Response
#### Success Response (200)
- **HTML Content**: The HTML structure for the chat interface.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <label>Item ID: <input type="text" id="itemId" autocomplete="off" value="foo"/></label>
            <label>Token: <input type="text" id="token" autocomplete="off" value="some-key-token"/></label>
            <button onclick="connect(event)">Connect</button>
            <hr>
            <label>Message: <input type="text" id="messageText" autocomplete="off"/></label>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
        var ws = null;
            function connect(event) {
                var itemId = document.getElementById("itemId")
                var token = document.getElementById("token")
                ws = new WebSocket("ws://localhost:8000/items/" + itemId.value + "/ws?token=" + token.value);
                ws.onmessage = function(event) {
                    var messages = document.getElementById('messages')
                    var message = document.createElement('li')
                    var content = document.createTextNode(event.data)
                    message.appendChild(content)
                    messages.appendChild(message)
                };
                event.preventDefault()
            }
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
```
```

--------------------------------

### Imports and Core FastAPI App Setup

Source: https://fastapi.tiangolo.com/tutorial/security/oauth2-jwt

This snippet includes all necessary imports from `datetime`, `typing`, `jwt`, `fastapi`, `pwdlib`, and `pydantic`. It defines critical constants for JWT configuration, a mock in-memory user database, initializes the `pwdlib` password hasher, sets up the `OAuth2PasswordBearer` scheme, and creates the main FastAPI application instance.

```python
from datetime import datetime, timedelta, timezone
from typing import Annotated, Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}

password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### GET /users/me/items/ - Get User's Own Items

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Fetches a list of items owned by the current authenticated user. Requires the 'items' scope.

```APIDOC
## GET /users/me/items/

### Description
Retrieves a list of items associated with the currently authenticated and active user. This endpoint requires the 'items' scope to be present in the access token.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Request Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```
GET /users/me/items/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **Array of Objects**
  - **item_id** (string) - The ID of the item.
  - **owner** (string) - The username of the item's owner.

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" or "Not enough permissions"

#### Error Response (400)
- **detail** (string) - "Inactive user" (if the user is disabled)

### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  },
  {
    "item_id": "Bar",
    "owner": "johndoe"
  }
]
```
```

--------------------------------

### Initialize FastAPI Application and Serve HTML Client

Source: https://fastapi.tiangolo.com/fa/advanced/websockets

This Python code initializes a FastAPI application instance and defines a root GET endpoint (`/`). This endpoint serves a complete HTML page that includes JavaScript for a WebSocket chat client, allowing the application to deliver its interactive front-end. It uses `FastAPI` to create the app and `HTMLResponse` to return the HTML string.

```python
from fastapi import FastAPI
from fastapi.responses import HTMLResponse

app = FastAPI()

html = """
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <label>Item ID: <input type="text" id="itemId" autocomplete="off" value="foo"/></label>
            <label>Token: <input type="text" id="token" autocomplete="off" value="some-key-token"/></label>
            <button onclick="connect(event)">Connect</button>
            <hr>
            <label>Message: <input type="text" id="messageText" autocomplete="off"/></label>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
        var ws = null;
            function connect(event) {
                var itemId = document.getElementById("itemId")
                var token = document.getElementById("token")
                ws = new WebSocket("ws://localhost:8000/items/" + itemId.value + "/ws?token=" + token.value);
                ws.onmessage = function(event) {
                    var messages = document.getElementById('messages')
                    var message = document.createElement('li')
                    var content = document.createTextNode(event.data)
                    message.appendChild(content)
                    messages.appendChild(message)
                };
                event.preventDefault()
            }
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
"""

@app.get("/")
async def get():
    return HTMLResponse(html)
```

--------------------------------

### FastAPI Authentication Setup and Utilities

Source: https://fastapi.tiangolo.com/de/tutorial/security/simple-oauth2

Initializes the FastAPI application, defines a fake user database for demonstration, creates a simple password hashing utility, and sets up `OAuth2PasswordBearer` for token handling.

```python
from typing import Union

from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel
from typing_extensions import Annotated

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()

def fake_hash_password(password: str):
    return "fakehashed" + password

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")
```

--------------------------------

### GET /users/me/items/ - Get User's Items

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated user. This endpoint requires a valid access token.

```APIDOC
## GET /users/me/items/

### Description
Returns a list of items belonging to the authenticated and active user. This serves as an example of a protected resource endpoint.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Request Headers
- **Authorization** (string) - Required - Bearer token received from the `/token` endpoint.
  Example: `Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huZG9lIiwiZXhwIjoxNzA0MDY3MjAwfQ.example_jwt_token`

### Request Example
No request body needed. Authentication via header.

### Response
#### Success Response (200)
- Array of objects, each representing an item:
  - **item_id** (string) - The unique identifier for the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401 Unauthorized)
- **detail** (string) - A message indicating that credentials could not be validated.

#### Error Response Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400 Bad Request)
- **detail** (string) - A message indicating that the user is inactive.

#### Error Response Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/tr/advanced/websockets

This endpoint serves the HTML page that provides the user interface for the WebSocket chat client. It's a standard HTTP GET request returning an HTML document.

```APIDOC
## GET /

### Description
This endpoint serves the main HTML page for the WebSocket chat application. It provides the client-side JavaScript for establishing and interacting with the WebSocket connection.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
- No path parameters.

#### Query Parameters
- No query parameters.

#### Request Body
- No request body.

### Request Example
GET /

### Response
#### Success Response (200)
- **Content-Type** (string) - `text/html`
- **Body** (string) - The full HTML content for the chat client.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <input type="text" id="messageText" autocomplete="off"/>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
            var ws = new WebSocket("ws://localhost:8000/ws");
            ws.onmessage = function(event) {
                var messages = document.getElementById('messages')
                var message = document.createElement('li')
                var content = document.createTextNode(event.data)
                message.appendChild(content)
                messages.appendChild(message)
            };
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
```
```

--------------------------------

### Run FastAPI application using the fastapi run command

Source: https://fastapi.tiangolo.com/ko/deployment/manually

This command demonstrates how to start a FastAPI application in production mode using the `fastapi run` utility. It shows the server startup process, including package structure detection, module import, app object identification, and the resulting server URL and documentation links. The output also provides live server logs.

```bash
fast ‚Üífastapi run main.py
   FastAPI   Starting production server üöÄ
  
             Searching for package file structure from directories
             with __init__.py files
             Importing from /home/user/code/awesomeapp
  
    module   üêç main.py
  
      code   Importing the FastAPI app object from the module with
             the following code:
  
             _from __main__ import __app_
  
       app   Using import string: main:app
  
    server   Server started at http://0.0.0.0:8000
    server   Documentation at http://0.0.0.0:8000/docs
  
             Logs:
  
      INFO   Started server process [2306215]
      INFO   Waiting for application startup.
      INFO   Application startup complete.
      INFO   Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C
             to quit)
  
restart ‚Ü∫
```

--------------------------------

### GET /users/me/ - Get Current User

Source: https://fastapi.tiangolo.com/zh/tutorial/security/oauth2-jwt

Retrieves the details of the currently authenticated user. This endpoint requires a valid bearer token in the Authorization header.

```APIDOC
## GET /users/me/

### Description
Retrieves the details of the currently authenticated user. Access to this endpoint requires a valid JWT bearer token.

### Method
GET

### Endpoint
/users/me/

### Parameters
(Requires Authorization header: `Bearer <access_token>`)

### Request Example
(No request body)

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, nullable) - The user's email address.
- **full_name** (string, nullable) - The user's full name.
- **disabled** (boolean, nullable) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - A message indicating token validation failure.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400)
- **detail** (string) - A message indicating the user is inactive.

#### Error Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### Install FastAPI and Run Application with FastAPI CLI

Source: https://fastapi.tiangolo.com/de/release-notes

This command-line interface snippet shows how to install or upgrade FastAPI using pip and then how to use the new `fastapi` CLI command to run a Python application (e.g., `main.py`) in development mode. It also displays the typical console output including the server address and API documentation URL.

```shell
$ pip install --upgrade fastapi

$ fastapi dev main.py


 ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ FastAPI CLI - Development mode ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ
 ‚îÇ                                                     ‚îÇ
 ‚îÇ  Serving at: http://127.0.0.1:8000                  ‚îÇ
 ‚îÇ                                                     ‚îÇ
 ‚îÇ  API docs: http://127.0.0.1:8000/docs               ‚îÇ
 ‚îÇ                                                     ‚îÇ
 ‚îÇ  Running in development mode, for production use:   ‚îÇ
 ‚îÇ                                                     ‚îÇ
 ‚îÇ  fastapi run                                        ‚îÇ
 ‚îÇ                                                     ‚îÇ
 ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ

INFO:     Will watch for changes in these directories: ['/home/user/code/awesomeapp']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [2248755] using WatchFiles
INFO:     Started server process [2248757]
INFO:     Waiting for application startup.
INFO:     Application startup complete.

```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/tutorial/security/get-current-user

Retrieves items, requiring a valid OAuth2 bearer token for authentication. This example demonstrates how to extract the token from the Authorization header using a dependency.

```APIDOC
## GET /items/\n\n### Description\nThis endpoint demonstrates how to secure a GET request using OAuth2PasswordBearer to obtain an authentication token via dependency injection. It returns the received token.\n\n### Method\nGET\n\n### Endpoint\n/items/\n\n### Parameters\n#### Path Parameters\nNo path parameters.\n\n#### Query Parameters\nNo query parameters.\n\n#### Request Body\nNo request body.\n\n### Request Example\nNo direct request body. Authentication token is expected in the Authorization header.\n\n### Response\n#### Success Response (200)\n- **token** (string) - The authentication token received from the Authorization header.\n\n#### Response Example\n```json\n{\n  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"\n}\n```
```

--------------------------------

### GET /users/me/ - Get Current User

Source: https://fastapi.tiangolo.com/ja/tutorial/security/oauth2-jwt

Retrieves the details of the currently authenticated user. This endpoint requires a valid bearer token in the Authorization header.

```APIDOC
## GET /users/me/

### Description
This endpoint fetches the profile information of the user who is currently authenticated. It requires a valid JWT access token provided in the 'Authorization: Bearer' header.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., 'Bearer <your_access_token>').

### Request Example
No request body.

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "full_name": "John Doe",
  "email": "johndoe@example.com",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

#### Error Response (400)
- **detail** (string) - "Inactive user"

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### FastAPI Imports, App Initialization, and Mock Database

Source: https://fastapi.tiangolo.com/uk/tutorial/security/simple-oauth2

This snippet sets up essential imports for FastAPI, Pydantic, and OAuth2. It initializes the FastAPI application instance and defines a `fake_users_db` dictionary to simulate a user database for demonstration purposes.

```python
from typing import Union

from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()
```

--------------------------------

### GET /users/

Source: https://fastapi.tiangolo.com/de/reference/apirouter

This endpoint retrieves a list of predefined user names. It serves as an example of a basic GET request within a FastAPI application using APIRouters.

```APIDOC
## GET /users/

### Description
This endpoint retrieves a list of predefined user names. It serves as an example of a basic GET request within a FastAPI application using APIRouters.

### Method
GET

### Endpoint
/users/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(None)

### Response
#### Success Response (200)
- **name** (string) - The name of the user.

#### Response Example
```json
[
  {
    "name": "Rick"
  },
  {
    "name": "Morty"
  }
]
```
```

--------------------------------

### Install Python Packages from requirements.txt

Source: https://fastapi.tiangolo.com/em/virtual-environments

Demonstrates how to install all Python packages listed in a `requirements.txt` file using either `pip` or `uv`. This method ensures consistent dependency installation across different environments and is the recommended practice for reproducible builds.

```shell
pip install -r requirements.txt
```

```shell
uv pip install -r requirements.txt
```

--------------------------------

### GET /users/me/ - Get Current User

Source: https://fastapi.tiangolo.com/ja/tutorial/security/oauth2-jwt

Retrieves the details of the currently authenticated user. This endpoint requires a valid access token in the Authorization header.

```APIDOC
## GET /users/me/

### Description
Fetches the profile information of the user associated with the provided access token.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
[No request body]

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string | null) - The user's email address.
- **full_name** (string | null) - The user's full name.
- **disabled** (boolean | null) - Indicates if the user account is disabled.

#### Response Example
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}

#### Error Response (401)
- **detail** (string) - Description of the error.

#### Error Example (401)
{
  "detail": "Could not validate credentials"
}

#### Error Response (400)
- **detail** (string) - Description of the error.

#### Error Example (400)
{
  "detail": "Inactive user"
}
```

--------------------------------

### GET /users/me/ - Get Current User

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Retrieves the profile information of the currently authenticated and active user. Requires an 'me' scope in the access token.

```APIDOC
## GET /users/me/

### Description
Returns the details of the currently authenticated user. The user must be active and have the 'me' scope granted in their access token.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No direct request body, authentication via header)

### Response
#### Success Response (200)
- **username** (string) - The unique username of the user.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The full name of the user.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials" or "Not enough permissions".

#### Error Response (400)
- **detail** (string) - Error message, e.g., "Inactive user".

#### Error Example (401)
{
  "detail": "Not enough permissions"
}

#### Error Example (400)
{
  "detail": "Inactive user"
}
```

--------------------------------

### Define a basic FastAPI application in Python

Source: https://fastapi.tiangolo.com/fa/tutorial/testing

This snippet defines a simple FastAPI application with a single GET endpoint at the root path ('/'). It returns a JSON response with a 'Hello World' message. This code is typically placed in a file like `main.py` within the application's package.

```python
from fastapi import FastAPI

app = FastAPI()


@app.get("/")
async def read_main():
    return {"msg": "Hello World"}
```

--------------------------------

### GET /users/me/ - Get Current User

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

Retrieves the details of the currently authenticated and active user. This endpoint requires a valid bearer token in the Authorization header.

```APIDOC
## GET /users/me/

### Description
Fetches the profile information for the user associated with the provided access token. The user must be authenticated and not disabled.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJ...`).

### Request Example
(No direct request body or query parameters)

### Response
#### Success Response (200)
- **username** (string) - The username of the current user.
- **email** (string, optional) - The email address of the current user.
- **full_name** (string, optional) - The full name of the current user.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - Description of the error.

#### Error Response Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400)
- **detail** (string) - Description of the error.

#### Error Response Example (400)
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### Configure FastAPI Authentication, Models, and Dependencies

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

This setup block initializes FastAPI, defines essential security constants like SECRET_KEY and token expiration, and sets up a mock user database. It also includes Pydantic models for API request/response data, initializes password hashing, and configures the OAuth2PasswordBearer scheme.

```python
from datetime import datetime, timedelta, timezone
from typing import Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel
from typing_extensions import Annotated

# Configuration constants
SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30

# Fake user database
fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}

# Pydantic models for data validation
class Token(BaseModel):
    access_token: str
    token_type: str

class TokenData(BaseModel):
    username: Union[str, None] = None

class User(BaseModel):
    username: str
    email: Union[str, None] = None
    full_name: Union[str, None] = None
    disabled: Union[bool, None] = None

class UserInDB(User):
    hashed_password: str

# Security components initialization
password_hash = PasswordHash.recommended()
oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

# FastAPI app instance
app = FastAPI()
```

--------------------------------

### FastAPI Authentication Setup with Pydantic Models

Source: https://fastapi.tiangolo.com/uk/tutorial/security/simple-oauth2

This snippet initializes the FastAPI application, defines a mock user database, implements a basic password hashing function, and sets up OAuth2PasswordBearer. It also includes Pydantic models for `User` and `UserInDB` to handle user data validation and storage.

```python
from typing import Union

from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel
from typing_extensions import Annotated

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()

def fake_hash_password(password: str):
    return "fakehashed" + password

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")


class User(BaseModel):
    username: str
    email: Union[str, None] = None
    full_name: Union[str, None] = None
    disabled: Union[bool, None] = None


class UserInDB(User):
    hashed_password: str
```

--------------------------------

### GET /users/me/ - Get Current User Profile

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Retrieves the profile information of the currently authenticated user. Requires a valid access token with the 'me' scope.

```APIDOC
## GET /users/me/

### Description
Retrieves the profile information of the currently authenticated user. Requires a valid access token with the 'me' scope.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token with 'me' scope.

### Request Example
Authorization: Bearer <access_token_with_me_scope>

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" or "Not enough permissions"

#### Error Response (400)
- **detail** (string) - "Inactive user"
```

--------------------------------

### FastAPI Application Initialization and HTML Serving

Source: https://fastapi.tiangolo.com/tr/advanced/websockets

This snippet initializes the FastAPI application, including necessary imports, and defines a GET route for the root path. This route serves the HTML content containing the WebSocket client, allowing users to access the chat interface.

```python
from typing import Union

from fastapi import (
    Cookie,
    Depends,
    FastAPI,
    Query,
    WebSocket,
    WebSocketException,
    status,
)
from fastapi.responses import HTMLResponse

app = FastAPI()

# The 'html' variable is defined in the HTML client snippet.

@app.get("/")
async def get():
    return HTMLResponse(html)
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/tr/tutorial/bigger-applications

Returns a simple welcome message for the root of the application. This is a basic health check or entry point.

```APIDOC
## GET /

### Description
Returns a simple welcome message for the root of the application. This is a basic health check or entry point.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
- No path parameters.

#### Query Parameters
- No query parameters.

#### Request Body
- No request body.

### Request Example
N/A

### Response
#### Success Response (200)
- **message** (string) - A welcome message.

#### Response Example
```json
{
  "message": "Hello Bigger Applications!"
}
```
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/de/advanced/websockets

This endpoint serves an HTML page containing JavaScript for establishing a WebSocket connection. It's the entry point for the web interface.

```APIDOC
## GET /

### Description
This endpoint returns an HTML page. The HTML page includes client-side JavaScript to connect to the WebSocket endpoint and send/receive messages.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
_No specific request body for GET requests_

### Response
#### Success Response (200)
The endpoint returns an HTML document.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <label>Item ID: <input type="text" id="itemId" autocomplete="off" value="foo"/></label>
            <label>Token: <input type="text" id="token" autocomplete="off" value="some-key-token"/></label>
            <button onclick="connect(event)">Connect</button>
            <hr>
            <label>Message: <input type="text" id="messageText" autocomplete="off"/></label>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
        var ws = null;
            function connect(event) {
                var itemId = document.getElementById("itemId")
                var token = document.getElementById("token")
                ws = new WebSocket("ws://localhost:8000/items/" + itemId.value + "/ws?token=" + token.value);
                ws.onmessage = function(event) {
                    var messages = document.getElementById('messages')
                    var message = document.createElement('li')
                    var content = document.createTextNode(event.data)
                    message.appendChild(content)
                    messages.appendChild(message)
                };
                event.preventDefault()
            }
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
```
```

--------------------------------

### GET /users/me/items/ - Get Owned Items

Source: https://fastapi.tiangolo.com/ja/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated user. Access to this endpoint requires a valid bearer token.

```APIDOC
## GET /users/me/items/

### Description
This endpoint returns a list of items associated with the currently authenticated user. It uses the provided JWT access token from the 'Authorization: Bearer' header to identify the user.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., 'Bearer <your_access_token>').

### Request Example
No request body.

### Response
#### Success Response (200)
- **[array]** - An array of item objects.
  - **item_id** (string) - The unique identifier for the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

#### Error Response (400)
- **detail** (string) - "Inactive user"

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Import Dependencies and Initialize FastAPI Application

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

This block lists all necessary imports from `datetime`, `jwt`, `fastapi`, `pwdlib`, and `pydantic` required for the authentication system. It also initializes the FastAPI application instance.

```python
from datetime import datetime, timedelta, timezone

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel
from typing import Annotated, Union

app = FastAPI()
```

--------------------------------

### FastAPI Application Setup and Core Imports

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

This block imports all necessary modules from FastAPI, jwt for token handling, pwdlib for password hashing, and pydantic for data models. It also initializes the FastAPI application instance.

```python
from datetime import datetime, timedelta, timezone

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

app = FastAPI()
```

--------------------------------

### Implement TestClient `__init__` method in Python

Source: https://fastapi.tiangolo.com/fr/reference/testclient

This detailed Python `__init__` method implementation for `TestClient` shows the internal logic for initializing the test client. It handles ASGI application wrapping, sets up the `async` backend, configures the underlying transport, and integrates with the `httpx` client, ensuring all components are ready for making simulated HTTP requests for testing.

```python
def __init__(
    self,
    app: ASGIApp,
    base_url: str = "http://testserver",
    raise_server_exceptions: bool = True,
    root_path: str = "",
    backend: Literal["asyncio", "trio"] = "asyncio",
    backend_options: dict[str, Any] | None = None,
    cookies: httpx._types.CookieTypes | None = None,
    headers: dict[str, str] | None = None,
    follow_redirects: bool = True,
    client: tuple[str, int] = ("testclient", 50000),
) -> None:
    self.async_backend = _AsyncBackend(backend=backend, backend_options=backend_options or {})
    if _is_asgi3(app):
        asgi_app = app
    else:
        app = cast(ASGI2App, app)  # type: ignore[assignment]
        asgi_app = _WrapASGI2(app)  # type: ignore[arg-type]
    self.app = asgi_app
    self.app_state: dict[str, Any] = {}
    transport = _TestClientTransport(
        self.app,
        portal_factory=self._portal_factory,
        raise_server_exceptions=raise_server_exceptions,
        root_path=root_path,
        app_state=self.app_state,
        client=client,
    )
    if headers is None:
        headers = {}
    headers.setdefault("user-agent", "testclient")
    super().__init__(
        base_url=base_url,
        headers=headers,
        transport=transport,
        follow_redirects=follow_redirects,
        cookies=cookies,
    )

```

--------------------------------

### GET /users/me/items/ - Get Owned Items

Source: https://fastapi.tiangolo.com/ja/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated user. This endpoint also requires a valid access token.

```APIDOC
## GET /users/me/items/

### Description
Returns a list of items that belong to the authenticated user.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
[No request body]

### Response
#### Success Response (200)
- Array of item objects.
  - **item_id** (string) - The unique identifier of the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]

#### Error Response (401)
- **detail** (string) - Description of the error.

#### Error Example (401)
{
  "detail": "Could not validate credentials"
}

#### Error Response (400)
- **detail** (string) - Description of the error.

#### Error Example (400)
{
  "detail": "Inactive user"
}
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fa/reference/fastapi

This endpoint demonstrates a simple GET operation in FastAPI, returning a static list of food items. It serves as an example of an API endpoint defined using the `app.get` decorator.

```APIDOC
## GET /items/

### Description
Retrieves a list of available items from the API. This endpoint demonstrates a basic GET operation in FastAPI.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
- No path parameters are required for this endpoint.

#### Query Parameters
- No query parameters are accepted by this endpoint.

#### Request Body
- This endpoint does not require a request body.

### Request Example
N/A

### Response
#### Success Response (200)
A list of item objects.
- Each item object contains:
  - **name** (string) - The name of an item.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### FastAPI App Setup & User Models (Python)

Source: https://fastapi.tiangolo.com/tr/tutorial/security/simple-oauth2

This snippet initializes the FastAPI application, defines a fake user database, implements a placeholder password hashing function, sets up OAuth2PasswordBearer, and defines Pydantic models for user data. It shows two syntaxes for type hints: `Annotated` with `Union` and the newer `str | None`.

```python
from typing import Union

from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel
from typing_extensions import Annotated

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()

def fake_hash_password(password: str):
    return "fakehashed" + password

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")


class User(BaseModel):
    username: str
    email: Union[str, None] = None
    full_name: Union[str, None] = None
    disabled: Union[bool, None] = None


class UserInDB(User):
    hashed_password: str


def get_user(db, username: str):
    if username in db:
        user_dict = db[username]
        return UserInDB(**user_dict)


def fake_decode_token(token):
    # This doesn't provide any security at all
    # Check the next version
    user = get_user(fake_users_db, token)
    return user
```

```python
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()

def fake_hash_password(password: str):
    return "fakehashed" + password

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")


class User(BaseModel):
    username: str
    email: str | None = None
    full_name: str | None = None
    disabled: bool | None = None


class UserInDB(User):
    hashed_password: str


def get_user(db, username: str):
    if username in db:
        user_dict = db[username]
        return UserInDB(**user_dict)


def fake_decode_token(token):
    # This doesn't provide any security at all
    # Check the next version
    user = get_user(fake_users_db, token)
    return user
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the system status. Requires authentication.

```APIDOC
## GET /status/

### Description
Checks the current system status. Requires authentication (any authenticated user, active or disabled).

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
N/A

### Response
#### Success Response (200)
- **status** (string) - The current system status, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /users/me/ (Get Current User)

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Retrieves the details of the currently authenticated user. This endpoint requires a valid access token with the 'me' scope.

```APIDOC
## GET /users/me/

### Description
Retrieves the details of the currently authenticated user. This endpoint requires a valid access token with the 'me' scope.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No request body)

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, nullable) - The user's email address.
- **full_name** (string, nullable) - The user's full name.
- **disabled** (boolean, nullable) - Whether the user account is disabled.

#### Response Example
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

--------------------------------

### Initialize FastAPI Application and Import Modules

Source: https://fastapi.tiangolo.com/es/advanced/websockets

This snippet sets up the basic FastAPI application instance and imports all necessary modules. It includes types for type hinting, FastAPI components for HTTP responses, WebSockets, dependency injection, and status codes.

```python
from typing import Union

from fastapi import (
    Cookie,
    Depends,
    FastAPI,
    Query,
    WebSocket,
    WebSocketException,
    status,
)
from fastapi.responses import HTMLResponse
from typing_extensions import Annotated

app = FastAPI()
```

--------------------------------

### Python Imports and Setup

Source: https://fastapi.tiangolo.com/fa/tutorial/security/oauth2-jwt

Contains the necessary import statements from `datetime`, `jwt`, `fastapi`, `pwdlib`, and `pydantic` required for the FastAPI authentication system. It also includes a tip about preferring the `Annotated` version for type hints.

```python
from datetime import datetime, timedelta, timezone

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

# to get a string like this run:


# Tip
# Prefer to use the `Annotated` version if possible.
```

--------------------------------

### GET /users/me/items/ - Get Current User's Items

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated user. This endpoint requires a valid bearer token.

```APIDOC
## GET /users/me/items/

### Description
Retrieves a list of items owned by the currently authenticated user. This endpoint requires a valid bearer token.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`)

### Request Example
(No direct request body or query parameters. Authentication via header.)

### Response
#### Success Response (200)
- **item_id** (string) - Identifier for the item.
- **owner** (string) - The username of the item's owner.

#### Response Example
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials"

#### Error Response (400 Bad Request)
- **detail** (string) - "Inactive user"

#### Error Example (401)
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### Initialize GZipMiddleware in Starlette/FastAPI

Source: https://fastapi.tiangolo.com/de/reference/middleware

This constructor initializes the `GZipMiddleware` with the ASGI application, a `minimum_size` for response compression, and a `compresslevel`. It sets up the middleware to compress responses larger than the specified minimum size, improving transfer efficiency. The `app` parameter represents the next ASGI application in the stack.

```python
def __init__(self, app: ASGIApp, minimum_size: int = 500, compresslevel: int = 9) -> None:
    self.app = app
    self.minimum_size = minimum_size
    self.compresslevel = compresslevel
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fr/reference/apirouter

Retrieves a list of predefined items from the API. This example demonstrates a basic GET operation using FastAPI's APIRouter to return a static list of dictionaries.

```APIDOC
## GET /items/

### Description
Retrieves a list of predefined items from the API. This example demonstrates a basic GET operation using FastAPI's APIRouter to return a static list of dictionaries.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
_None_

### Response
#### Success Response (200)
- **name** (string) - The name of an item.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### GET /users/me/items/ - Get Current User's Items

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated user. This endpoint requires a valid bearer token.

```APIDOC
## GET /users/me/items/

### Description
Returns a predefined list of items associated with the current active user. This endpoint serves as an example of accessing a protected resource.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
```
GET /users/me/items/
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200 OK)
An array of item objects, where each object contains:
- **item_id** (string) - The unique identifier for the item.
- **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401 Unauthorized)
Returns if no token is provided or the token is invalid/expired.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400 Bad Request)
Returns if the authenticated user account is disabled.

#### Error Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### Run FastAPI Docs Live Server with Python Script for a Specific Language

Source: https://fastapi.tiangolo.com/fa/contributing

This command executes a Python script to start a live development server for the FastAPI documentation in a specified language. It requires Python and the `docs.py` script to be present in the project's `scripts` directory. The output indicates the server URL and confirms live change detection is active.

```bash
python ./scripts/docs.py live es
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Retrieves the details of the currently authenticated and active user.

```APIDOC
## GET /users/me/

### Description
Fetches the profile information for the user currently authenticated via the provided access token. The user must be active.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
_No explicit request body. Requires 'Authorization: Bearer <token>' header._

### Response
#### Success Response (200)
- **username** (string) - The user's unique username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}

#### Error Response (401)
- **detail** (string) - Description of the authentication error.

#### Error Example
{
  "detail": "Could not validate credentials"
}

#### Error Response (400)
- **detail** (string) - Description of the user status error.

#### Error Example
{
  "detail": "Inactive user"
}
```

--------------------------------

### GET /users/me/ - Get Current User

Source: https://fastapi.tiangolo.com/zh/tutorial/security/oauth2-jwt

Retrieves the details of the currently authenticated and active user. This endpoint requires a valid access token in the Authorization header.

```APIDOC
## GET /users/me/

### Description
Fetches the profile information of the user associated with the provided access token.

### Method
GET

### Endpoint
/users/me/

### Parameters
No direct parameters. Requires authentication via Authorization header.

### Request Example
```http
GET /users/me/ HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **username** (string) - The user's unique username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials"

#### Error Response (400 Bad Request)
- **detail** (string) - "Inactive user" (if the authenticated user is disabled)

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Test FastAPI Endpoint with TestClient

Source: https://fastapi.tiangolo.com/em/tutorial/testing

This example demonstrates basic testing of a FastAPI application using `fastapi.testclient.TestClient`. It sets up a simple FastAPI app, initializes `TestClient` with the app, and defines a test function to send a GET request and assert the response. Requires the `httpx` library for `TestClient` functionality.

```python
from fastapi import FastAPI
from fastapi.testclient import TestClient

app = FastAPI()


@app.get("/")
async def read_main():
    return {"msg": "Hello World"}


client = TestClient(app)


def test_read_main():
    response = client.get("/")
    assert response.status_code == 200
    assert response.json() == {"msg": "Hello World"}
```

--------------------------------

### GET /users/me/ - Get Current User Profile

Source: https://fastapi.tiangolo.com/zh/tutorial/security/oauth2-jwt

Retrieves the detailed profile information of the currently authenticated and active user. Requires a valid bearer token.

```APIDOC
## GET /users/me/

### Description
Retrieves the detailed profile information of the currently authenticated and active user. Requires a valid bearer token.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token obtained from the /token endpoint.

### Request Example
No request body.

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

#### Error Response (400)
- **detail** (string) - "Inactive user"

#### Error Example
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### Initialize FastAPI Application

Source: https://fastapi.tiangolo.com/es/reference/fastapi

This documentation describes the parameters available when initializing a FastAPI application instance. These parameters control the global behavior, metadata, and routing setup of your API.

```APIDOC
## POST /fastapi_app_initialization

### Description
Initializes a new FastAPI application instance. The parameters provided during initialization configure the application's metadata, routing behavior, dependency injection, and error handling.

### Method
Class Constructor (conceptual)

### Endpoint
N/A (Application Initialization)

### Parameters
#### Request Body (Initialization Parameters)
- **debug** (boolean) - Optional - If `True`, enables debug mode, providing more detailed error messages. Default is `False`.
- **routes** (list) - Optional - A list of routes (e.g., `Route`, `WebSocketRoute`) to include directly in the application. Default is `None`.
- **title** (string) - Optional - The title of the API, displayed in the OpenAPI (Swagger UI/ReDoc) documentation. Default is "FastAPI".
- **summary** (string) - Optional - A short summary of the API, displayed in OpenAPI docs. Default is `None`.
- **description** (string) - Optional - A longer description of the API, displayed in OpenAPI docs. Default is "".
- **version** (string) - Optional - The version of the API, displayed in OpenAPI docs. Default is "0.1.0".
- **openapi_url** (string) - Optional - The URL path where the OpenAPI schema (JSON) will be served. Set to `None` to disable. Default is "/openapi.json".
- **openapi_tags** (list of dict) - Optional - A list of dictionaries defining custom OpenAPI tags. Default is `None`.
- **servers** (list of dict) - Optional - A list of dictionaries defining the OpenAPI servers (e.g., development, staging, production URLs). Default is `None`.
- **dependencies** (list of `Depends`) - Optional - A list of global dependencies that will be applied to all path operations in the application. Default is `None`.
- **default_response_class** (type) - Optional - The default response class to use for path operations (e.g., `JSONResponse`, `HTMLResponse`). Default is `JSONResponse`.
- **redirect_slashes** (boolean) - Optional - If `True`, redirects URLs ending with a slash to their non-slash counterpart and vice-versa (e.g., `/items/` to `/items`). Default is `True`.
- **docs_url** (string) - Optional - The URL path where the Swagger UI documentation will be served. Set to `None` to disable. Default is "/docs".
- **redoc_url** (string) - Optional - The URL path where the ReDoc documentation will be served. Set to `None` to disable. Default is "/redoc".
- **swagger_ui_oauth2_redirect_url** (string) - Optional - The redirect URL for OAuth2 flows in Swagger UI. Default is "/docs/oauth2-redirect".
- **swagger_ui_init_oauth** (dict) - Optional - Parameters for initializing OAuth2 in Swagger UI. Default is `None`.
- **middleware** (list of `Middleware`) - Optional - A list of global middleware functions to apply to all incoming requests. Default is `None`.
- **exception_handlers** (dict) - Optional - A dictionary mapping exception types or HTTP status codes to custom exception handler functions. Default is `None`.
- **on_startup** (list of callable) - Optional - A list of functions to run at application startup. Default is `None`.
- **on_shutdown** (list of callable) - Optional - A list of functions to run at application shutdown. Default is `None`.
- **lifespan** (callable) - Optional - An asynchronous context manager function to handle application lifespan events (startup/shutdown). Default is `None`.
- **terms_of_service** (string) - Optional - URL to the terms of service for the API. Default is `None`.
- **contact** (dict) - Optional - Contact information for the API (e.g., name, URL, email). Default is `None`.
- **license_info** (dict) - Optional - License information for the API (e.g., name, URL). Default is `None`.
- **openapi_prefix** (string) - Optional - A prefix to be added to all OpenAPI paths, useful for deploying behind a proxy. Default is "".
- **root_path** (string) - Optional - The root path for the application, used when deploying under a subpath (e.g., `/api/v1`). Default is "".
- **root_path_in_servers** (boolean) - Optional - If `True`, includes `root_path` in the OpenAPI `servers` field. Default is `True`.
- **responses** (dict) - Optional - Global extra responses for all path operations, e.g., common error responses. Default is `None`.
- **callbacks** (dict) - Optional - Global callbacks for all operations. Default is `None`.
- **webhooks** (dict) - Optional - Global webhooks for all operations. Default is `None`.
- **deprecated** (boolean) - Optional - If `True`, marks the entire API as deprecated in the OpenAPI schema. Default is `None`.
- **include_in_schema** (boolean) - Optional - If `False`, this API instance will not be included in the OpenAPI schema. Default is `True`.
- **swagger_ui_parameters** (dict) - Optional - A dictionary of parameters to pass directly to Swagger UI. Default is `None`.
- **generate_unique_id_function** (callable) - Optional - A function to generate unique operation IDs for OpenAPI. Default is `generate_unique_id`.
- **separate_input_output_schemas** (boolean) - Optional - If `True`, generates separate OpenAPI schemas for input (request) and output (response) models. Default is `True`.
- **openapi_external_docs** (dict) - Optional - External documentation object for OpenAPI (e.g., description, URL). Default is `None`.
- **extra** (dict) - Optional - Additional keyword arguments passed directly to the underlying Starlette application.

### Request Example
```python
from fastapi import FastAPI
from fastapi.responses import HTMLResponse

app = FastAPI(
    title="My Awesome API",
    version="1.0.0",
    description="A simple API to demonstrate FastAPI features.",
    debug=True,
    openapi_url="/api/v1/openapi.json",
    docs_url="/documentation",
    redoc_url=None, # Disable ReDoc
    default_response_class=HTMLResponse
)
```

### Response
#### Success Response (200)
Upon successful initialization, a FastAPI application instance is created. This operation occurs programmatically and does not yield an HTTP response.

#### Response Example
N/A
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Retrieves the profile information of the currently authenticated user.

```APIDOC
## GET /users/me/

### Description
Retrieves the profile information (username, email, full name, disabled status) of the currently authenticated and active user.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
```json
{}
```

### Authentication
Requires an `Authorization: Bearer <access_token>` header.

### Response
#### Success Response (200)
- **username** (string) - The username of the current user.
- **email** (string, optional) - The email address of the current user.
- **full_name** (string, optional) - The full name of the current user.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" if the token is invalid or missing.

#### Error Response (400)
- **detail** (string) - "Inactive user" if the authenticated user account is disabled.

#### Error Response Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### FastAPI Application Setup and Security Configuration

Source: https://fastapi.tiangolo.com/fa/tutorial/security/oauth2-jwt

This snippet initializes the FastAPI application, defines global security parameters like JWT secret key and algorithm, sets up a mock user database, and configures the password hashing utility and OAuth2 bearer scheme. It includes all necessary imports for the authentication system.

```python
from datetime import datetime, timedelta, timezone
from typing import Union, Annotated

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}


password_hash = PasswordHash.recommended()
oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")
app = FastAPI()
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the current system status. Requires authentication.

```APIDOC
## GET /status/

### Description
Checks the current system status. Requires authentication.

### Method
GET

### Endpoint
/status/

### Parameters
This endpoint requires authentication via a Bearer token in the `Authorization` header.

### Request Example
```http
GET /status/ HTTP/1.1
Host: api.example.com
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, e.g., "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Start FastAPI with Uvicorn `root_path` Command Line Option

Source: https://fastapi.tiangolo.com/fa/advanced/behind-a-proxy

This command line example shows how to run a FastAPI application using Uvicorn while specifying the `root_path` via the `--root-path` argument. This is crucial for deployments behind reverse proxies that handle URL prefixes, such as Traefik.

```bash
fast ‚Üífastapi run main.py --forwarded-allow-ips="*" --root-path /api/v1  
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)  
  
restart ‚Üª
```

--------------------------------

### GET /items/{item_id} (HTTPException Example)

Source: https://fastapi.tiangolo.com/ko/reference/exceptions

This endpoint demonstrates how to use `HTTPException` to signal client errors, such as a 'not found' condition, within a FastAPI GET path operation.

```APIDOC
## GET /items/{item_id}

### Description
This endpoint retrieves an item by its ID. If the specified item_id is not found in the available items, it raises an `HTTPException` with a 404 Not Found status code and a descriptive detail message. Otherwise, it returns the found item.

### Method
GET

### Endpoint
`/items/{item_id}`

### Parameters
#### Path Parameters
- **item_id** (string) - Required - The unique identifier of the item to retrieve.

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
Not applicable for a simple GET request.

### Response
#### Success Response (200 OK)
- **item** (object) - The retrieved item details.
  - **key** (string) - The identifier of the item.
  - **value** (string) - The name or description of the item.

#### Response Example
```json
{
  "item": "The Foo Wrestlers"
}
```

#### Error Response (404 Not Found)
- **detail** (string) - A descriptive message indicating why the request failed, typically "Item not found".

#### Error Response Example (404 Not Found)
```json
{
  "detail": "Item not found"
}
```
```

--------------------------------

### FastAPI Authentication System Initialization

Source: https://fastapi.tiangolo.com/zh/tutorial/security/oauth2-jwt

Initializes the fake user database for demonstration purposes, the password hashing utility using `pwdlib`, the OAuth2 password bearer scheme for token authentication, and the FastAPI application instance. These are foundational components for setting up the authentication flow.

```python
fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}


password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fa/tutorial/query-params-str-validations

Retrieve a specific item by its identifier or get a random item if no ID is provided. The item ID must adhere to a specific format (starting with 'isbn-' or 'imdb-').

```APIDOC
## GET /items/

### Description
This endpoint allows you to retrieve an item from the stored data. You can specify an item ID as a query parameter to get a particular item. If no ID is provided, a random item will be returned. The provided ID is validated to ensure it starts with 'isbn-' or 'imdb-'.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
- **id** (string) - Optional - An identifier for the item. Must start with "isbn-" or "imdb-". If omitted, a random item is returned.

#### Request Body
(None)

### Request Example
GET /items/
GET /items/?id=isbn-9781529046137

### Response
#### Success Response (200)
- **id** (string) - The unique identifier of the retrieved item.
- **name** (string) - The name or title of the retrieved item.

#### Response Example
```json
{
  "id": "isbn-9781529046137",
  "name": "The Hitchhiker's Guide to the Galaxy"
}
```

Or if no ID is provided:
```json
{
  "id": "imdb-tt0371724",
  "name": "The Hitchhiker's Guide to the Galaxy"
}
```

#### Error Response (422 Unprocessable Entity) - Example for invalid ID format
```json
{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "query",
        "id"
      ],
      "msg": "Invalid ID format, it must start with \"isbn-\" or \"imdb-\"",
      "input": "invalid-id"
    }
  ]
}
```
```

--------------------------------

### GET /users/me/items/ - Get User's Own Items

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Fetches a list of items owned by the currently authenticated and active user. Requires an 'items' scope in the access token.

```APIDOC
## GET /users/me/items/

### Description
Retrieves a list of items associated with the authenticated user. This endpoint requires the 'items' scope.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No direct request body, authentication via header)

### Response
#### Success Response (200)
- **item_id** (string) - The ID of an item.
- **owner** (string) - The username of the item's owner.

#### Response Example
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials" or "Not enough permissions".

#### Error Response (400)
- **detail** (string) - Error message, e.g., "Inactive user".

#### Error Example (401)
{
  "detail": "Not enough permissions"
}

#### Error Example (400)
{
  "detail": "Inactive user"
}
```

--------------------------------

### GET /users/me/items/ - Get Current User's Items

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated and active user. This endpoint requires a valid bearer token.

```APIDOC
## GET /users/me/items/

### Description
Returns a list of hypothetical items belonging to the authenticated and active user.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJ...`).

### Request Example
(No direct request body or query parameters)

### Response
#### Success Response (200)
- Array of objects:
  - **item_id** (string) - The unique identifier for the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401)
- **detail** (string) - Description of the error.

#### Error Response Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400)
- **detail** (string) - Description of the error.

#### Error Response Example (400)
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### FastAPI Project File Structure Example

Source: https://fastapi.tiangolo.com/fa/tutorial/bigger-applications

Illustrates a common file and directory structure for a FastAPI project, emphasizing the role of `__init__.py` files in defining Python packages and subpackages for modular organization.

```text
.\n‚îú‚îÄ‚îÄ app\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ main.py\n‚îÇ¬†¬† ‚îú‚îÄ‚îÄ dependencies.py\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ routers\n‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ¬†¬† ‚îÇ   ‚îú‚îÄ‚îÄ items.py\n‚îÇ¬†¬† ‚îÇ   ‚îî‚îÄ‚îÄ users.py\n‚îÇ¬†¬† ‚îî‚îÄ‚îÄ internal\n‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ admin.py
```

--------------------------------

### GET /users/me/items/ - Get Current User's Items

Source: https://fastapi.tiangolo.com/zh/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated and active user. Requires a valid bearer token.

```APIDOC
## GET /users/me/items/

### Description
Retrieves a list of items owned by the currently authenticated and active user. Requires a valid bearer token.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token obtained from the /token endpoint.

### Request Example
No request body.

### Response
#### Success Response (200)
- **item_id** (string) - The ID of the item.
- **owner** (string) - The username of the item's owner.

#### Response Example
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

#### Error Response (400)
- **detail** (string) - "Inactive user"

#### Error Example
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### English Documentation File Path Example

Source: https://fastapi.tiangolo.com/contributing

This path illustrates the standard location for an English documentation file within the project's directory structure. It serves as a reference point for identifying source content to be translated.

```text
docs/en/docs/features.md
```

--------------------------------

### GET /info

Source: https://fastapi.tiangolo.com/vi/advanced/settings

Retrieves the application's configuration details. This endpoint demonstrates the use of dependency injection to provide settings to path operation functions.

```APIDOC
## GET /info

### Description
This endpoint returns the current application settings, including the application name, administrator email, and items per user. It utilizes a dependency to inject the `Settings` object.

### Method
GET

### Endpoint
/info

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
```json
{}
```

### Response
#### Success Response (200)
- **app_name** (string) - The name of the application.
- **admin_email** (string) - The email address of the administrator.
- **items_per_user** (integer) - The number of items assigned per user.

#### Response Example
```json
{
  "app_name": "Awesome API",
  "admin_email": "testing_admin@example.com",
  "items_per_user": 50
}
```
```

--------------------------------

### Install Pytest for Python Projects

Source: https://fastapi.tiangolo.com/fa/tutorial/testing

This command installs the Pytest testing framework into your active Python virtual environment. It's a prerequisite for running any tests written with Pytest.

```bash
pip install pytest
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/fr/advanced/websockets

Serves the main HTML page for the WebSocket chat application. This page includes client-side JavaScript to establish and manage WebSocket connections.

```APIDOC
## GET /

### Description
This endpoint serves the `index.html` page, which contains the client-side logic for connecting to the WebSocket chat.

### Method
GET

### Endpoint
/

### Parameters
None

### Request Body
None

### Request Example
```
GET /
```

### Response
#### Success Response (200)
An HTML document for the chat interface.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <label>Item ID: <input type="text" id="itemId" autocomplete="off" value="foo"/></label>
            <label>Token: <input type="text" id="token" autocomplete="off" value="some-key-token"/></label>
            <button onclick="connect(event)">Connect</button>
            <hr>
            <label>Message: <input type="text" id="messageText" autocomplete="off"/></label>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
        // ... JavaScript for WebSocket handling ...
        </script>
    </body>
</html>
```
```

--------------------------------

### Demonstrate Pydantic model instantiation and conversion to dictionary

Source: https://fastapi.tiangolo.com/fr/tutorial/extra-models

Illustrates the basic process of creating a `UserIn` Pydantic model instance with data, converting it into a standard Python dictionary using the `.dict()` method, and then printing this dictionary. This shows how Pydantic model data can be easily accessed and manipulated in a dictionary format.

```python
user_in = UserIn(username="john", password="secret", email="john.doe@example.com")

```

```python
user_dict = user_in.dict()

```

```python
print(user_dict)

```

--------------------------------

### Import Dependencies and Initialize FastAPI Application

Source: https://fastapi.tiangolo.com/ja/tutorial/security/oauth2-jwt

Imports necessary modules from `datetime`, `typing`, `jwt`, `fastapi`, `pwdlib`, and `pydantic` to support date/time operations, type hinting, JWT handling, FastAPI core functionalities, password hashing, and data model definitions. It also initializes the `FastAPI` application instance.

```python
from datetime import datetime, timedelta, timezone
from typing import Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel


app = FastAPI()
```

--------------------------------

### POST /users/

Source: https://fastapi.tiangolo.com/fr/advanced/generate-clients

Creates a new user profile with a username and email. A confirmation message will be returned upon successful creation.

```APIDOC
## POST /users/

### Description
Creates a new user with a specified username and email.

### Method
POST

### Endpoint
/users/

### Parameters
#### Request Body
- **username** (string) - Required - The unique username for the new user.
- **email** (string) - Required - The email address of the new user.

### Request Example
```json
{
  "username": "johndoe",
  "email": "john.doe@example.com"
}
```

### Response
#### Success Response (200)
- **message** (string) - A confirmation message indicating the user was received.

#### Response Example
```json
{
  "message": "User received"
}
```
```

--------------------------------

### GET /users/me/items/

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Retrieves a list of items associated with the currently authenticated user.

```APIDOC
## GET /users/me/items/

### Description
Retrieves a predefined list of items associated with the currently authenticated and active user.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
```json
{}
```

### Authentication
Requires an `Authorization: Bearer <access_token>` header.

### Response
#### Success Response (200)
- **item_id** (string) - The unique identifier of an item.
- **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" if the token is invalid or missing.

#### Error Response (400)
- **detail** (string) - "Inactive user" if the authenticated user account is disabled.

#### Error Response Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the current system status. Requires authentication.

```APIDOC
## GET /status/

### Description
This endpoint provides a basic system status check. It requires a valid JWT access token in the Authorization header for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```http
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - The current system status.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/ja/tutorial/security/oauth2-jwt

Retrieves the details of the currently authenticated and active user.

```APIDOC
## GET /users/me/

### Description
Fetches the profile information of the user associated with the provided access token. The user must be authenticated and active.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token, e.g., `Bearer <access_token>`.

### Request Example
(No request body)

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Response (400)
- **detail** (string) - Error message, e.g., "Inactive user" if the authenticated user is disabled.

```

--------------------------------

### Configure FastAPI Application and Import Dependencies (Python)

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

This snippet initializes the FastAPI application and includes all necessary imports from various libraries like `datetime`, `jwt`, `fastapi`, `pwdlib`, and `pydantic`. It also sets up the `OAuth2PasswordBearer` scheme for token authentication and initializes the password hashing utility.

```python
from datetime import datetime, timedelta, timezone
from typing import Annotated, Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

app = FastAPI()

password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/fa/advanced/websockets

Serves the initial HTML page that contains the client-side JavaScript for connecting to the WebSocket and sending/receiving messages.

```APIDOC
## GET /

### Description
This endpoint serves the main HTML page for the WebSocket chat client. It provides the user interface to connect to the WebSocket and interact with the chat.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
None

### Response
#### Success Response (200)
Returns an HTML page with the chat interface.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <!-- ... (truncated for brevity) ... -->
        <script>
        var ws = null;
            function connect(event) { /* ... */ }
            function sendMessage(event) { /* ... */ }
        </script>
    </body>
</html>
```
```

--------------------------------

### GET /users/me/items/ - Get Current User's Items

Source: https://fastapi.tiangolo.com/zh/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated user. This endpoint also requires a valid bearer token.

```APIDOC
## GET /users/me/items/

### Description
Retrieves a list of sample items associated with the currently authenticated user. Requires a valid JWT bearer token.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
(Requires Authorization header: `Bearer <access_token>`)

### Request Example
(No request body)

### Response
#### Success Response (200)
- (array of objects)
  - **item_id** (string) - The ID of the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401)
- **detail** (string) - A message indicating token validation failure.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400)
- **detail** (string) - A message indicating the user is inactive.

#### Error Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/uk/reference/apirouter

Registers an endpoint to retrieve a list of predefined items using the HTTP GET method. This example demonstrates a basic API endpoint definition within a FastAPI application.

```APIDOC
## GET /items/

### Description
Registers an endpoint to retrieve a list of predefined items using the HTTP GET method. This example demonstrates a basic API endpoint definition within a FastAPI application.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
No path parameters for this endpoint.

#### Query Parameters
No query parameters for this endpoint.

#### Request Body
No request body for GET requests.

### Request Example
No request example for this GET endpoint.

### Response
#### Success Response (200)
- **name** (string) - The name of an item.

#### Response Example
```json
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```
```

--------------------------------

### Define User Models and Database

Source: https://fastapi.tiangolo.com/uk/tutorial/security/simple-oauth2

Sets up Pydantic models for user data and a mock database for user information. Includes a User model and a UserInDB model with a hashed password.

```python
from typing import Union

from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()


def fake_hash_password(password: str):
    return "fakehashed" + password


oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")


class User(BaseModel):
    username: str
    email: Union[str, None] = None
    full_name: Union[str, None] = None
    disabled: Union[bool, None] = None


class UserInDB(User):
    hashed_password: str


def get_user(db, username: str):
    if username in db:
        user_dict = db[username]
        return UserInDB(**user_dict)

```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires basic authentication.

```APIDOC
## GET /status/

### Description
Provides a simple check on the system's operational status. This endpoint requires a valid, but not necessarily active or scoped, user access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Authentication
Requires a valid access token in the `Authorization: Bearer <token>` header. The token just needs to be valid, specific scopes or user activity are not enforced by this endpoint's dependency (`get_current_user`).

### Request Example
```
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
{
  "status": "ok"
}

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example (401)
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the current status of the system. Requires authentication.

```APIDOC
## GET /status/

### Description
Provides a simple status check for the system. This endpoint requires any valid authenticated user token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token received from the /token endpoint.
  Example: `Bearer <access_token>`

### Request Example
(No specific request body for GET requests, authentication is via headers.)

### Response
#### Success Response (200)
- **status** (string) - The status of the system, e.g., "ok".
- **message** (string) - A descriptive message about the system's operational status.

#### Response Example
```json
{
  "status": "ok",
  "message": "System is operational"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials" (if no token or an invalid token is provided).
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Checks the system status. Requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token, e.g., `Bearer <access_token>`.

### Request Example
```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200 OK)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - Error message, e.g., "Could not validate credentials".
```

--------------------------------

### FastAPI Application Setup and Pydantic User Models (Python)

Source: https://fastapi.tiangolo.com/vi/tutorial/security/simple-oauth2

This snippet initializes the FastAPI application, defines Pydantic models for 'User' and 'UserInDB' to handle user data, and sets up necessary imports. The 'User' model represents basic user information, while 'UserInDB' extends it to include a hashed password for database storage.

```python
from typing import Union

from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel

app = FastAPI()


class User(BaseModel):
    username: str
    email: Union[str, None] = None
    full_name: Union[str, None] = None
    disabled: Union[bool, None] = None


class UserInDB(User):
    hashed_password: str
```

--------------------------------

### Provide Example Values for Field in FastAPI

Source: https://fastapi.tiangolo.com/em/reference/parameters

This parameter (`examples`) allows providing a list of example values for the field. These examples are primarily used for documentation in the generated OpenAPI schema (e.g., in `/docs`).

```Python
examples: Annotated[\n        Optional[List[Any]],\n        Doc(\n            """\n            Example values for this field.\n            """\n        ),\n    ] = None,
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/ko/reference/apirouter

Retrieves a list of items. This endpoint demonstrates a basic GET operation for a collection of resources, returning a predefined list of item names as shown in the FastAPI decorator example.

```APIDOC
## GET /items/

### Description
Retrieves a list of items. This endpoint demonstrates a basic GET operation for a collection of resources, returning a predefined list of item names as shown in the FastAPI decorator example.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
```
GET /items/ HTTP/1.1
Host: example.com
```

### Response
#### Success Response (200)
- **name** (string) - The name of the item.

#### Response Example
```json
[
  {"name": "Empanada"},
  {"name": "Arepa"}
]
```
```

--------------------------------

### FastAPI Application Setup and Global Constants

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

This snippet initializes the FastAPI application, defines global constants for JWT secret key, algorithm, and token expiration, and sets up the OAuth2 password bearer scheme. It also includes necessary imports for the authentication system.

```python
from datetime import datetime, timedelta, timezone
from typing import Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel
from typing_extensions import Annotated

SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30

password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### FastAPI Application Setup and Configuration

Source: https://fastapi.tiangolo.com/fa/tutorial/security/oauth2-jwt

Sets up the FastAPI application, defines security constants (SECRET_KEY, ALGORITHM, ACCESS_TOKEN_EXPIRE_MINUTES), initializes a fake user database, and configures password hashing and OAuth2 scheme. This block is crucial for the application's security and data management, and includes all necessary imports.

```python
from datetime import datetime, timedelta, timezone
from typing import Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

# to get a string like this run:
# openssl rand -hex 32
SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}

password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### GET /users/me/items/ - Get Current User's Items

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Retrieves a list of items owned by the currently authenticated user. Requires a valid access token with the 'items' scope.

```APIDOC
## GET /users/me/items/

### Description
Retrieves a list of items owned by the currently authenticated user. Requires a valid access token with the 'items' scope.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token with 'items' scope.

### Request Example
Authorization: Bearer <access_token_with_items_scope>

### Response
#### Success Response (200)
- **Array of Objects**
  - **item_id** (string) - The ID of the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" or "Not enough permissions"

#### Error Response (400)
- **detail** (string) - "Inactive user"
```

--------------------------------

### GET /users/me/items/

Source: https://fastapi.tiangolo.com/uk/tutorial/security/oauth2-jwt

Fetches a list of items owned by the currently authenticated user. This endpoint serves as an example of a protected resource.

```APIDOC
## GET /users/me/items/

### Description
Retrieves a list of items owned by the currently authenticated user. This endpoint requires a valid access token.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., 'Bearer <access_token>').

### Request Example
No request body.

### Response
#### Success Response (200)
- An array of objects, where each object represents an item.
  - **item_id** (string) - The unique identifier of the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  },
  {
    "item_id": "Bar",
    "owner": "johndoe"
  }
]
```

#### Error Response (401)
- **detail** (string) - Message indicating invalid credentials.

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400)
- **detail** (string) - Message indicating an inactive user.

#### Error Example (400)
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the current system status. Requires any authenticated user.

```APIDOC
## GET /status/

### Description
Checks the current system status. This endpoint requires any authenticated user.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
N/A

#### Query Parameters
N/A

#### Request Body
N/A

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - The current system status (e.g., "ok").

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
```json
{
  "detail": "Could not validate credentials",
  "headers": {"WWW-Authenticate": "Bearer"}
}
```
```

--------------------------------

### GET /users/me/items/ - Get Current User's Items

Source: https://fastapi.tiangolo.com/zh/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated and active user. This endpoint requires a valid access token.

```APIDOC
## GET /users/me/items/

### Description
Returns a list of items belonging to the authenticated user.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
No direct parameters. Requires authentication via Authorization header.

### Request Example
```http
GET /users/me/items/ HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- Array of objects, each representing an item:
  - **item_id** (string) - The unique identifier for the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials"

#### Error Response (400 Bad Request)
- **detail** (string) - "Inactive user" (if the authenticated user is disabled)

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Run FastAPI Application in Development Mode

Source: https://fastapi.tiangolo.com/pt/contributing

This command demonstrates how to start a FastAPI application using the `fastapi dev` command-line tool. It runs a specified Python file (e.g., `tutorial001.py`) and typically outputs information about the Uvicorn server running on `http://127.0.0.1:8000`. This is useful for local development and testing of FastAPI applications.

```shell
fast ‚Üífastapi dev tutorial001.py  
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)  
  
restart ‚Üª
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the system status or provides basic authenticated user details.

```APIDOC
## GET /status/

### Description
Retrieves basic information about the current authenticated user or can be used to check system status. Only requires a valid access token, no specific scopes.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`)

### Request Example
(No request body)

### Response
#### Success Response (200 OK)
- **username** (string) - The user's unique username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - Error message, e.g., "Could not validate credentials".
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fr/tutorial/dependencies/dependencies-in-path-operation-decorators

This endpoint retrieves a list of sample items. Access is protected by two custom header dependencies: 'X-Token' for authentication and 'X-Key' for authorization. Both headers must match predefined secret values to gain access.

```APIDOC
## GET /items/

### Description
Retrieves a list of sample items. This endpoint is secured and requires specific custom headers for access. The `X-Token` header must be 'fake-super-secret-token' and the `X-Key` header must be 'fake-super-secret-key'.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
```json
{}
```

### Response
#### Success Response (200)
- **array of objects** - A list of item objects.
  - **item** (string) - The name of an item.

#### Response Example
```json
[
  {
    "item": "Foo"
  },
  {
    "item": "Bar"
  }
]
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Retrieves the current status of the system. This endpoint serves as a basic health check and requires authentication.

### Method
GET

### Endpoint
/status/

### Parameters
No explicit parameters. Authentication is handled via the 'Authorization' header.

### Request Example
```
GET /status/
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200)
- (object) - An empty object, indicating successful access.

#### Response Example
```json
{}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" if the token is invalid or missing.

```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires authentication.

```APIDOC
## GET /status/

### Description
Provides a simple status check for the system. Requires authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`)

### Request Example
N/A

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires authentication.

```APIDOC
## GET /status/

### Description
Provides a simple status check for the API. This endpoint requires any authenticated user to access.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`)

### Request Example
(No direct request body)

### Response
#### Success Response (200)
- **status** (string) - The current operational status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

### Error Handling
- **401 Unauthorized**: If no valid token is provided or the token is expired. (e.g., `{"detail": "Could not validate credentials"}`)
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Provides a basic system status check. Requires an authenticated user, but no specific scopes are enforced beyond general authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJhbGci...`)

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200 OK)
- This endpoint returns an empty array or a simple message indicating success, as no specific data is returned by the implementation.

#### Response Example
```json
{}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials"

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Retrieves the status information, accessible by any authenticated user.

```APIDOC
## GET /status/

### Description
Retrieves the status information, accessible by any authenticated user.

### Method
GET

### Endpoint
/status/

### Parameters
No explicit parameters. Requires a valid JWT in the 'Authorization: Bearer <token>' header.

### Request Example
N/A

### Response
#### Success Response (200)
- **username** (string) - The user's unique username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
Could not validate credentials.
```

--------------------------------

### Define Traefik Entry Points and Providers for Local Testing (TOML)

Source: https://fastapi.tiangolo.com/advanced/behind-a-proxy

This Traefik configuration file (`traefik.toml`) sets up entry points, specifically an HTTP entry point on port 9999, and defines a file provider to load dynamic routing rules from `routes.toml`. This is used to test proxy configurations locally without requiring admin privileges for standard HTTP ports.

```toml
[entryPoints]
  [entryPoints.http]
    address = ":9999"

[providers]
  [providers.file]
    filename = "routes.toml"
```

--------------------------------

### FastAPI Endpoint: Get Current User's Items with Scope

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

This FastAPI GET endpoint at `/users/me/items/` allows an authenticated and active user with the 'items' scope to retrieve a list of

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
This endpoint returns a simple 'ok' status to indicate the system is running. It requires any valid authenticated user to access.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200 OK)
- **status** (string) - The status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - Error message for invalid credentials.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /users/me/items/ (Get User's Items)

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Retrieves a list of items owned by the currently authenticated user. This endpoint requires a valid access token with the 'items' scope.

```APIDOC
## GET /users/me/items/

### Description
Retrieves a list of items owned by the currently authenticated user. This endpoint requires a valid access token with the 'items' scope.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No request body)

### Response
#### Success Response (200)
- **item_id** (string) - The ID of the item.
- **owner** (string) - The username of the item's owner.

#### Response Example
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-in-path-operation-decorators

Retrieves a list of items, protected by header-based authentication and key verification dependencies. Requires specific 'X-Token' and 'X-Key' headers to be present and valid.

```APIDOC
## GET /items/

### Description
This endpoint retrieves a list of predefined items. It is protected by two header-based dependencies, `verify_token` and `verify_key`, which check for valid `X-Token` and `X-Key` headers respectively. If headers are missing or invalid, a 400 error is returned.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
No path parameters.

#### Query Parameters
No query parameters.

#### Request Body
No request body.

#### Headers
- **X-Token** (string) - Required - A secret token required for authentication. Expected value: "fake-super-secret-token".
- **X-Key** (string) - Required - A secret key required for verification. Expected value: "fake-super-secret-key".

### Request Example
No request body.

### Response
#### Success Response (200 OK)
- **array** (array of objects) - A list of item objects.
    - **item** (string) - The name of an item.

#### Response Example
```json
[
  {
    "item": "Foo"
  },
  {
    "item": "Bar"
  }
]
```

#### Error Response (400 Bad Request)
- **detail** (string) - A description of the error.

#### Error Response Example
```json
{
  "detail": "X-Token header invalid"
}
```
or
```json
{
  "detail": "X-Key header invalid"
}
```
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/fa/tutorial/first-steps

This endpoint handles GET requests to the root path of the application. It serves as a basic health check or a welcome message.

```APIDOC
## GET /

### Description
This endpoint handles GET requests to the root path and returns a simple JSON message, typically "Hello World". It demonstrates the basic structure of a FastAPI path operation.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(Not applicable)

### Response
#### Success Response (200)
- **message** (string) - A greeting message.

#### Response Example
```json
{
  "message": "Hello World"
}
```
```

--------------------------------

### GET /items/{item_id} - Combining Response Information

Source: https://fastapi.tiangolo.com/ko/advanced/additional-responses

This example demonstrates how to combine response_model, status_code, and responses parameters to provide detailed OpenAPI documentation, including custom examples and error responses.

```APIDOC
## GET /items/{item_id}

### Description
Retrieves an item by its ID. Demonstrates combining a Pydantic model for the success response with custom descriptions and an explicit error response model for 404 Not Found.

### Method
GET

### Endpoint
/items/{item_id}

### Parameters
#### Path Parameters
- **item_id** (str) - Required - The ID of the item to retrieve.

#### Query Parameters
None

#### Request Body
None

### Request Example
```json
{}
```

### Response
#### Success Response (200)
- **description**: Item requested by ID
- **id** (str) - The ID of the item.
- **value** (str) - The value associated with the item.

#### Response Example (200)
```json
{
  "id": "bar",
  "value": "The bar tenders"
}
```

#### Error Response (404)
- **model**: Message
- **description**: The item was not found
- **message** (str) - A message indicating the item was not found.

#### Response Example (404)
```json
{
  "message": "Item not found"
}
```
```

--------------------------------

### Import Dependencies and Initialize FastAPI Application (Python)

Source: https://fastapi.tiangolo.com/zh/tutorial/security/oauth2-jwt

This block lists all necessary imports from `datetime`, `typing`, `jwt`, `fastapi`, `pwdlib`, and `pydantic` required for the JWT authentication system. It also initializes the main FastAPI application instance to define routes and dependencies.

```python
from datetime import datetime, timedelta, timezone
from typing import Annotated

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

app = FastAPI()
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Retrieves the current system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
This endpoint checks and returns the overall system status. It requires a valid JWT access token for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
No direct parameters. Authentication is handled via the 'Authorization' header.

#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`).

### Request Example
```json
{}
```

### Response
#### Success Response (200)
- **status** (string) - A string indicating the system's status (e.g., "ok").

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the system status, requiring any valid authenticated user.

```APIDOC
## GET /status/

### Description
This endpoint provides a basic system status check. It requires any valid authenticated user, regardless of specific scopes, to access.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token, e.g., `Bearer <access_token>`.

### Request Example
(No request body)

### Response
#### Success Response (200)
(No specific response body defined, typically an empty object or a simple status message.)

#### Response Example
{}

#### Error Response (401)
- **detail** (string) - Error message indicating authentication failure.

#### Error Example
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/ja/tutorial/dependencies/classes-as-dependencies

Retrieves a list of items from a fake database. This endpoint demonstrates how to apply common query parameters (q, skip, limit) for search and pagination using FastAPI's dependency injection system.

```APIDOC
## GET /items/

### Description
Retrieves a list of items from a fake database, allowing for search, skipping, and limiting results using common query parameters.

### Method
GET

### Endpoint
/items/

### Parameters
#### Query Parameters
- **q** (str) - Optional - A search query string to filter items. If not provided, no search filter is applied.
- **skip** (int) - Optional - Default 0. The number of items to skip for pagination.
- **limit** (int) - Optional - Default 100. The maximum number of items to return.

### Request Example
```
GET /items/?q=Foo&skip=1&limit=2
```

### Response
#### Success Response (200)
- **q** (str) - Optional - The search query string used.
- **items** (array) - A list of item objects, each with an 'item_name' field.

#### Response Example
```json
{
  "q": "Foo",
  "items": [
    {
      "item_name": "Bar"
    },
    {
      "item_name": "Baz"
    }
  ]
}
```
```

--------------------------------

### Example .env File for Environment Variables

Source: https://fastapi.tiangolo.com/fr/advanced/settings

This text snippet shows an example `.env` file. It defines environment variables like `ADMIN_EMAIL` and `APP_NAME` that Pydantic `BaseSettings` can automatically load, providing a flexible way to configure applications across different environments.

```plaintext
ADMIN_EMAIL="deadpool@example.com"
APP_NAME="ChimichangApp"

```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the system status, requiring basic user authentication.

```APIDOC
## GET /status/

### Description
Provides a simple endpoint to check the operational status of the system. Requires a valid access token for authentication, but no specific scopes.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - Indicates the system's operational status.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Response Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Create a Basic FastAPI GET Endpoint

Source: https://fastapi.tiangolo.com/de/reference/fastapi

This Python snippet illustrates the fundamental setup of a FastAPI application and the creation of a simple GET path operation. It defines an endpoint `/items/` that returns a hardcoded list of items, demonstrating how to expose data via an API route.

```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/items/")
def read_items():
    return [{"name": "Empanada"}, {"name": "Arepa"}]
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires user authentication.

```APIDOC
## GET /status/

### Description
Provides a basic system status check. Authentication is required to access this endpoint.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
(No request body, authentication via Authorization header)

### Response
#### Success Response (200)
- (No explicit fields defined, but indicates successful authentication and system availability.)

#### Response Example
{
  "status": "System is operational",
  "user_authenticated": "true"
}

#### Error Response (401)
- **detail** (string) - Description of the error.

#### Error Example
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the overall system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Checks the overall system status. Requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`)

### Request Example
```
GET /status/
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200)
- **status** (string) - Indicates the system's operational status.

#### Response Example
```json
{
  "status": "ok"
}
```
```

--------------------------------

### Define FastAPI User Models, Mock Database, and Helpers

Source: https://fastapi.tiangolo.com/tutorial/security/simple-oauth2

This foundational snippet establishes the core components for user management. It includes Pydantic models (`User`, `UserInDB`) for user data structure, a simulated `fake_users_db` for persistence, and utility functions like `fake_hash_password` for security and `get_user` for database lookup. It also initializes the FastAPI app and `OAuth2PasswordBearer` scheme, crucial for later authentication steps.

```python
from typing import Union

from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()

def fake_hash_password(password: str):
    return "fakehashed" + password

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")


class User(BaseModel):
    username: str
    email: Union[str, None] = None
    full_name: Union[str, None] = None
    disabled: Union[bool, None] = None


class UserInDB(User):
    hashed_password: str


def get_user(db, username: str):
    if username in db:
        user_dict = db[username]
        return UserInDB(**user_dict)
```

--------------------------------

### GET /users/me/items/

Source: https://fastapi.tiangolo.com/vi/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the current authenticated and active user. This is an example of an endpoint protected by authentication.

```APIDOC
## GET /users/me/items/

### Description
This endpoint provides a list of items associated with the current active user. It serves as an example of a resource that requires both authentication and an active user status.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token received from the `/token` endpoint.

### Request Example
```
GET /users/me/items/
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200 OK)
- Array of objects, each containing:
  - **item_id** (string) - The unique identifier for the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials" (if token is invalid or missing)

#### Error Response (400 Bad Request)
- **detail** (string) - "Inactive user" (if the authenticated user is disabled)

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/tr/advanced/websockets

Serves a simple HTML page that provides a client-side interface to connect to the WebSocket chat endpoint.

```APIDOC
## GET /

### Description
This endpoint serves an HTML document containing a client-side JavaScript application. The application allows users to connect to a WebSocket chat and send/receive messages.

### Method
GET

### Endpoint
/

### Parameters
None

### Request Body
None

### Request Example
```
N/A
```

### Response
#### Success Response (200)
Returns an HTML document for the chat client.
- **Content-Type** (string) - `text/html`

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <label>Item ID: <input type="text" id="itemId" autocomplete="off" value="foo"/></label>
            <label>Token: <input type="text" id="token" autocomplete="off" value="some-key-token"/></label>
            <button onclick="connect(event)">Connect</button>
            <hr>
            <label>Message: <input type="text" id="messageText" autocomplete="off"/></label>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
        var ws = null;
            function connect(event) {
                var itemId = document.getElementById("itemId")
                var token = document.getElementById("token")
                ws = new WebSocket("ws://localhost:8000/items/" + itemId.value + "/ws?token=" + token.value);
                ws.onmessage = function(event) {
                    var messages = document.getElementById('messages')
                    var message = document.createElement('li')
                    var content = document.createTextNode(event.data)
                    message.appendChild(content)
                    messages.appendChild(message)
                };
                event.preventDefault()
            }
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
```
```

--------------------------------

### Define FastAPI Application Constructor `__init__` Method

Source: https://fastapi.tiangolo.com/zh/reference/fastapi

This snippet shows the internal definition of the `__init__` method for a FastAPI application, detailing its various configuration parameters and their type annotations with `Doc` strings. It illustrates the structure for setting up core application properties.

```python
def __init__(
    self: AppType,
    *,
    debug: Annotated[
        bool,
        Doc(
            """
            Boolean indicating if debug tracebacks should be returned on server
            errors.

            Read more in the
            [Starlette docs for Applications](https://www.starlette.dev/applications/#instantiating-the-application).
            """
        ),
    ] = False,
    routes: Annotated[
        Optional[List[BaseRoute]],
        Doc(
            """
            **Note**: you probably shouldn't use this parameter, it is inherited
            from Starlette and supported for compatibility.

            ---

            A list of routes to serve incoming HTTP and WebSocket requests.
            """
        ),
        deprecated(
            """
            You normally wouldn't use this parameter with FastAPI, it is inherited
            from Starlette and supported for compatibility.

            In FastAPI, you normally would use the *path operation methods*,
            like `app.get()`, `app.post()`, etc.
            """
        ),
    ] = None,
    title: Annotated[
        str,
        Doc(
            """
            The title of the API.

            It will be added to the generated OpenAPI (e.g. visible at `/docs`).

            Read more in the
            [FastAPI docs for Metadata and Docs URLs](https://fastapi.tiangolo.com/tutorial/metadata/#metadata-for-api).

            **Example**

            ```python
            from fastapi import FastAPI

            app = FastAPI(title="ChimichangApp")
            ```
            """
        ),
    ] = "FastAPI",
    summary: Annotated[
        Optional[str],
        Doc(
            """
            A short summary of the API.

            It will be added to the generated OpenAPI (e.g. visible at `/docs`).

            Read more in the
            [FastAPI docs for Metadata and Docs URLs](https://fastapi.tiangolo.com/tutorial/metadata/#metadata-for-api).

            **Example**

            ```python
            from fastapi import FastAPI

            app = FastAPI(summary="Deadpond's favorite app. Nuff said.")
            ```
            """
        ),
    ] = None,
    description: Annotated[
        str,
        Doc(
            '''
            A description of the API. Supports Markdown (using
            [CommonMark syntax](https://commonmark.org/)).

            It will be added to the generated OpenAPI (e.g. visible at `/docs`).

            Read more in the
            [FastAPI docs for Metadata and Docs URLs](https://fastapi.tiangolo.com/tutorial/metadata/#metadata-for-api).

            **Example**

            ```python
            from fastapi import FastAPI

            app = FastAPI(
                description="""
                            ChimichangApp API helps you do awesome stuff. üöÄ

                            ## Items

                            You can **read items**.

                            ## Users

                            You will be able to:

                            * **Create users** (_not implemented_).
                            * **Read users** (_not implemented_).

                            """
            )
            ```
            '''
        ),
    ] = "",
    version: Annotated[
        str,
        Doc(
            """
            The version of the API.

            **Note** This is the version of your application, not the version of
            the OpenAPI specification nor the version of FastAPI being used.

            It will be added to the generated OpenAPI (e.g. visible at `/docs`).

            Read more in the
            [FastAPI docs for Metadata and Docs URLs](https://fastapi.tiangolo.com/tutorial/metadata/#metadata-for-api).

            **Example**

            ```python
            from fastapi import FastAPI

            app = FastAPI(version="0.0.1")
            ```
            """
        ),
    ] = "0.1.0",
    openapi_url: Annotated[
        Optional[str],
        Doc(
            """
            The URL where the OpenAPI schema will be served from.

            If you set it to `None`, no OpenAPI schema will be served publicly, and
            the default automatic endpoints `/docs` and `/redoc` will also be
            disabled.

            Read more in the
            [FastAPI docs for Metadata and Docs URLs](https://fastapi.tiangolo.com/tutorial/metadata/#openapi-url).

            **Example**

            ```python
            from fastapi import FastAPI

            app = FastAPI(openapi_url="/api/v1/openapi.json")
            ```
            """
        ),
    ] = "/openapi.json",
    openapi_tags:
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the current operational status of the system. Requires basic authentication.

```APIDOC
## GET /status/

### Description
Provides a simple endpoint to verify if the API is running and responsive. Authentication is required, but specific scopes are not enforced beyond basic token validation.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```http
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system status. Requires authentication with any valid access token.

```APIDOC
## GET /status/

### Description
Checks the system status. Requires authentication with any valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Query Parameters
- **Authorization** (string) - Required - Bearer token for authentication.

### Request Example
(No specific request body, authentication via header)

### Response
#### Success Response (200)
- **status** (string) - The current operational status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```
```

--------------------------------

### GET /users/me/items/

Source: https://fastapi.tiangolo.com/vi/tutorial/security/oauth2-jwt

Retrieves a list of items associated with the current authenticated and active user. This is an example endpoint for user-specific data.

```APIDOC
## GET /users/me/items/

### Description
Provides a placeholder list of items belonging to the current active user. This demonstrates access to protected resources.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`)

### Request Example
```
GET /users/me/items/ HTTP/1.1
Host: example.com
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- Array of objects, each containing:
  - **item_id** (string) - An identifier for the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  },
  {
    "item_id": "Bar",
    "owner": "johndoe"
  }
]
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" if the token is invalid or missing.

#### Error Response (400)
- **detail** (string) - "Inactive user" if the authenticated user account is disabled.
```

--------------------------------

### GET /users/me/items/

Source: https://fastapi.tiangolo.com/ja/tutorial/security/oauth2-jwt

Retrieves a list of items belonging to the current authenticated user.

```APIDOC
## GET /users/me/items/

### Description
This endpoint returns a list of hypothetical items owned by the currently authenticated and active user. It requires a valid access token.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(Headers)
```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200 OK)
- Array of objects, each containing:
  - **item_id** (string) - The unique identifier for the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials" if the token is missing, invalid, or expired.

#### Error Response (400 Bad Request)
- **detail** (string) - "Inactive user" if the authenticated user account is disabled.

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/pt/reference/apirouter

Retrieves a list of example items from the API. This endpoint serves a static list of item names.

```APIDOC
## GET /items/

### Description
Retrieves a list of example items from the API. This endpoint serves a static list of item names.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
- None

#### Query Parameters
- None

#### Request Body
- None

### Request Example
{}

### Response
#### Success Response (200)
- **name** (string) - The name of an item.

#### Response Example
[
  {
    "name": "Empanada"
  },
  {
    "name": "Arepa"
  }
]
```

--------------------------------

### Import Dependencies and Initialize FastAPI App (Python)

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

Imports all necessary modules for the FastAPI application, including datetime utilities, JWT handling, FastAPI components for routing and security, password hashing, and Pydantic for data modeling. It also initializes the FastAPI application instance.

```python
from datetime import datetime, timedelta, timezone
from typing import Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

# to get a string like this run:
# openssl rand -hex 32

app = FastAPI()
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Retrieves the profile information of the currently authenticated and active user.

```APIDOC
## GET /users/me/

### Description
Retrieves the detailed profile information for the user associated with the provided access token. The user must be authenticated and active.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Authentication
Requires a valid access token in the `Authorization: Bearer <token>` header. The token must be for an active user and have the 'me' scope (implicitly required by `get_current_active_user`).

### Request Example
```
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200)
- **username** (string) - The user's unique username.
- **email** (string | null) - The user's email address.
- **full_name** (string | null) - The user's full name.
- **disabled** (boolean | null) - Indicates if the user account is disabled.

#### Response Example
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials" or "Not enough permissions".

#### Error Response (400)
- **detail** (string) - Error message, e.g., "Inactive user".

#### Error Example (401)
{
  "detail": "Could not validate credentials"
}

#### Error Example (400)
{
  "detail": "Inactive user"
}
```

--------------------------------

### Python Imports and FastAPI Application Setup

Source: https://fastapi.tiangolo.com/ja/tutorial/security/oauth2-jwt

This snippet imports all necessary modules from `datetime`, `jwt`, `fastapi`, `pwdlib`, and `pydantic`. It then initializes the FastAPI application instance and configures the OAuth2PasswordBearer for token authentication.

```python
from datetime import datetime, timedelta, timezone

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### FastAPI JWT Authentication Setup and Configuration

Source: https://fastapi.tiangolo.com/tutorial/security/oauth2-jwt

This snippet defines the necessary imports, security constants (SECRET_KEY, ALGORITHM), a mock user database, Pydantic models for tokens and users, and initializes FastAPI-related components like password hashing, OAuth2 scheme, and the FastAPI application instance.

```python
from datetime import datetime, timedelta, timezone
from typing import Annotated, Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}


class Token(BaseModel):
    access_token: str
    token_type: str


class TokenData(BaseModel):
    username: str | None = None


class User(BaseModel):
    username: str
    email: str | None = None
    full_name: str | None = None
    disabled: bool | None = None


class UserInDB(User):
    hashed_password: str


password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### Initialize New Language Directory for FastAPI Docs using Script

Source: https://fastapi.tiangolo.com/fa/contributing

This command illustrates how to use the `docs.py` script with the `new-lang` argument to set up the basic directory structure and initial configuration files for a completely new language (e.g., Latin, `la`). The output confirms successful initialization.

```python
python ./scripts/docs.py new-lang la
```

```shell
Successfully initialized: docs/la
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fa/tutorial/dependencies

Retrieves a list of items, applying common query parameters for filtering and pagination. The parameters `q`, `skip`, and `limit` are injected via a dependency.

```APIDOC
## GET /items/

### Description
Retrieves a list of items, applying common query parameters for filtering and pagination.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
- **q** (string) - Optional - A search query string for filtering items.
- **skip** (integer) - Optional - The number of items to skip before returning results. Defaults to 0.
- **limit** (integer) - Optional - The maximum number of items to return. Defaults to 100.

#### Request Body
(None)

### Request Example
(None)

### Response
#### Success Response (200)
- **q** (string) - The processed search query.
- **skip** (integer) - The number of items skipped.
- **limit** (integer) - The maximum number of items requested.

#### Response Example
{
  "q": "example_query",
  "skip": 0,
  "limit": 100
}
```

--------------------------------

### GET /users/me/items/

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Fetches a list of items associated with the current authenticated and active user.

```APIDOC
## GET /users/me/items/

### Description
This endpoint retrieves a list of items belonging to the currently authenticated and active user. It requires a valid access token in the Authorization header.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token for authentication.

### Request Example
(No direct request body for GET. Authentication via 'Authorization: Bearer <token>' header.)

### Response
#### Success Response (200)
- Array of objects, each containing:
  - **item_id** (string) - The ID of the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401)
Returns an error if credentials cannot be validated (e.g., invalid or expired token).

#### Response Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400)
Returns an error if the authenticated user is disabled.

#### Response Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### Initialize FastAPI App and Authentication Helpers (Python)

Source: https://fastapi.tiangolo.com/ru/tutorial/security/simple-oauth2

This section initializes the FastAPI application instance and defines helper functions crucial for authentication. It includes 'fake_hash_password' for simulating password hashing, sets up 'OAuth2PasswordBearer' for managing access tokens, and provides a 'get_user' function to retrieve user data from the mock database.

```Python
from fastapi import FastAPI
from fastapi.security import OAuth2PasswordBearer

app = FastAPI()

def fake_hash_password(password: str):
    return "fakehashed" + password

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

def get_user(db, username: str):
    if username in db:
        user_dict = db[username]
        return UserInDB(**user_dict)
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Retrieves the current system status. This endpoint requires user authentication.

```APIDOC
## GET /status/

### Description
Checks and returns the operational status of the system. Requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No direct request body, requires Authorization header with Bearer token)

### Response
#### Success Response (200 OK)
- **status** (string) - A message indicating the system's operational status.

#### Response Example
```json
{
  "status": "System operational"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - A message indicating the authentication error, e.g., "Could not validate credentials".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Checks the system status. Requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No direct request body)

### Response
#### Success Response (200)
- **status** (string) - The current status of the system (e.g., "ok").

#### Response Example
{
  "status": "ok"
}

#### Error Response (401)
- **detail** (string) - Error message for authentication failure.

#### Error Response Example (401)
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system status. Requires authentication with any valid access token.

```APIDOC
## GET /status/

### Description
Checks the system status. Requires authentication with any valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
No direct request parameters. Authentication via 'Authorization' header.

### Request Example
GET /status/
Authorization: Bearer <access_token>

### Response
#### Success Response (200)
- **status** (string) - The current status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Checks the system status. Requires a valid access token for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
(Requires Bearer token authentication via 'Authorization' header.)

### Request Example
(No request body)

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Response Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### FastAPI Application Setup and OAuth2 Scheme Initialization

Source: https://fastapi.tiangolo.com/zh/tutorial/security/simple-oauth2

Initializes the FastAPI application, defines a mock in-memory user database, and sets up the OAuth2PasswordBearer scheme with a token URL for authentication. This block also includes all necessary imports for the authentication flow.

```python
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")
```

--------------------------------

### Implement FastAPI GET Endpoint with Pydantic AfterValidator for Custom ID Validation

Source: https://fastapi.tiangolo.com/tr/tutorial/query-params-str-validations

This snippet showcases how to create a FastAPI GET endpoint (`/items/`) that accepts an optional `id` parameter. It uses Pydantic's `AfterValidator` to apply custom validation logic, ensuring the `id` string starts with either 'isbn-' or 'imdb-'. The endpoint retrieves an item based on the provided `id` or a random one if `id` is omitted, returning the item's ID and name. This example utilizes `Annotated` for type hinting and validator integration, with syntax variations for Python 3.10+, 3.9+, and 3.8+.

```python
import random
from typing import Annotated

from fastapi import FastAPI
from pydantic import AfterValidator

app = FastAPI()

data = {
    "isbn-9781529046137": "The Hitchhiker's Guide to the Galaxy",
    "imdb-tt0371724": "The Hitchhiker's Guide to the Galaxy",
    "isbn-9781439512982": "Isaac Asimov: The Complete Stories, Vol. 2"
}


def check_valid_id(id: str):
    if not id.startswith(("isbn-", "imdb-")):
        raise ValueError('Invalid ID format, it must start with "isbn-" or "imdb-"')
    return id


@app.get("/items/")
async def read_items(
    id: Annotated[str | None, AfterValidator(check_valid_id)] = None,
):
    if id:
        item = data.get(id)
    else:
        id, item = random.choice(list(data.items()))
    return {"id": id, "name": item}
```

```python
import random
from typing import Annotated, Union

from fastapi import FastAPI
from pydantic import AfterValidator

app = FastAPI()

data = {
    "isbn-9781529046137": "The Hitchhiker's Guide to the Galaxy",
    "imdb-tt0371724": "The Hitchhiker's Guide to the Galaxy",
    "isbn-9781439512982": "Isaac Asimov: The Complete Stories, Vol. 2"
}


def check_valid_id(id: str):
    if not id.startswith(("isbn-", "imdb-")):
        raise ValueError('Invalid ID format, it must start with "isbn-" or "imdb-"')
    return id


@app.get("/items/")
async def read_items(
    id: Annotated[Union[str, None], AfterValidator(check_valid_id)] = None,
):
    if id:
        item = data.get(id)
    else:
        id, item = random.choice(list(data.items()))
    return {"id": id, "name": item}
```

```python
import random
from typing import Union

from fastapi import FastAPI
from pydantic import AfterValidator
from typing_extensions import Annotated

app = FastAPI()

data = {
    "isbn-9781529046137": "The Hitchhiker's Guide to the Galaxy",
    "imdb-tt0371724": "The Hitchhiker's Guide to the Galaxy",
    "isbn-9781439512982": "Isaac Asimov: The Complete Stories, Vol. 2"
}


def check_valid_id(id: str):
    if not id.startswith(("isbn-", "imdb-")):
        raise ValueError('Invalid ID format, it must start with "isbn-" or "imdb-"')
    return id


@app.get("/items/")
async def read_items(
    id: Annotated[Union[str, None], AfterValidator(check_valid_id)] = None,
):
    if id:
        item = data.get(id)
    else:
        id, item = random.choice(list(data.items()))
    return {"id": id, "name": item}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the current status of the system. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Provides a simple health check or status update for the API. Requires an authenticated user.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
(Implicit via Authorization header)

### Response
#### Success Response (200 OK)
- **status** (string) - The current operational status of the system (e.g., "ok").

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Retrieves the current status of the system. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Retrieves the current status of the system. Requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No request body required. Authentication via Bearer token in header.)

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
{
  "status": "ok"
}

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### Execute Traefik with a Configuration File (Shell)

Source: https://fastapi.tiangolo.com/advanced/behind-a-proxy

This shell command starts the Traefik proxy server, specifying the `traefik.toml` configuration file to use. This initiates Traefik to listen on the defined entry points and apply the configured routing rules and middlewares.

```shell
./traefik --configFile=traefik.toml
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the system's operational status. Requires basic authentication.

```APIDOC
## GET /status/

### Description
Provides a simple status check for the system. This endpoint requires basic authentication.

### Method
GET

### Endpoint
/status/

### Parameters
_This endpoint requires an access token passed in the Authorization header._

### Request Example
_No request body for GET request._

### Response
#### Success Response (200)
- **status** (string) - The current status of the system (e.g., "ok").

#### Response Example
{
  "status": "ok"
}

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

```

--------------------------------

### GET /items/ (API Key Header Authentication Example)

Source: https://fastapi.tiangolo.com/zh/reference/security

An example of an API endpoint secured using `APIKeyHeader` for header-based authentication. The endpoint retrieves items, requiring a valid API key to be present in the 'x-key' HTTP header.

```APIDOC
## GET /items/

### Description
Retrieves a list of items, demonstrating API key authentication using `APIKeyHeader`. This endpoint requires an API key to be provided in the 'x-key' HTTP header. The key's value is then returned in the response.

### Method
GET

### Endpoint
/items/

### Parameters
#### Query Parameters
N/A

#### Request Body
N/A

#### Header Parameters
- **x-key** (str) - Required - The API key for authentication.

### Request Example
```
GET /items/
x-key: your-api-key-here
```

### Response
#### Success Response (200 OK)
- **key** (str) - The API key provided in the request header.

#### Response Example
```json
{
  "key": "your-api-key-here"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Checks the system status. Requires a valid access token for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token obtained from /token endpoint.

### Request Example
```http
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- (No explicit model defined, typically returns a status object or simple message indicating operational status.)

#### Response Example
```json
{
  "status": "ok",
  "message": "System is operational"
}
```

### Error Responses
#### 401 Unauthorized
- Detail: "Could not validate credentials"

```

--------------------------------

### Set FastAPI Application Description with Markdown in Python

Source: https://fastapi.tiangolo.com/de/reference/fastapi

This example demonstrates setting a detailed `description` for the FastAPI application, supporting CommonMark Markdown syntax. This description is prominently displayed in the OpenAPI documentation, enhancing API clarity and user understanding.

```python
from fastapi import FastAPI

app = FastAPI(
    description="""
                ChimichangApp API helps you do awesome stuff. üöÄ

                ## Items

                You can **read items**.

                ## Users

                You will be able to:

                * **Create users** (_not implemented_).
                * **Read users** (_not implemented_).

                """
)
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Checks the system status. Requires a valid access token for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - Indicates the system's operational status.

#### Response Example
```json
{
  "status": "ok"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the system status. Requires any valid access token for authentication.

```APIDOC
## GET /status/

### Description
Returns a simple status message indicating the system's operational state. Requires an authenticated user.

### Method
GET

### Endpoint
/status/

### Parameters
This endpoint requires authentication via a Bearer token in the 'Authorization' header. No path, query, or request body parameters are needed.

### Request Example
```
GET /status/
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Description of the error.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Retrieves the current system status. This endpoint requires user authentication.

```APIDOC
## GET /status/

### Description
Retrieves the current system status. This endpoint requires user authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
_No request body required_

### Response
#### Success Response (200)
- **status** (string) - A message indicating the system's operational status.

#### Response Example
```json
{
  "status": "ok"
}
```
```

--------------------------------

### GET /users/me

Source: https://fastapi.tiangolo.com/uk/tutorial/bigger-applications

Retrieves the profile of the current authenticated user. This endpoint typically requires authentication, though in this example, it returns a placeholder.

```APIDOC
## GET /users/me

### Description
Retrieves information about the current authenticated user.

### Method
GET

### Endpoint
/users/me

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No request body)

### Response
#### Success Response (200)
- **username** (string) - The username of the current user.

#### Response Example
{
  "username": "fakecurrentuser"
}
```

--------------------------------

### Build all language documentation for FastAPI

Source: https://fastapi.tiangolo.com/contributing

Compiles documentation for all languages in the FastAPI project. Executing `python ./scripts/docs.py build-all` generates independent MkDocs sites for each translated language. This process aggregates all documentation into a final `./site/` output directory, preparing it for local preview or deployment.

```bash
python ./scripts/docs.py build-all
```

--------------------------------

### GET /users/me/items/

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated and active user.

```APIDOC
## GET /users/me/items/

### Description
Returns a list of items that belong to the currently authenticated and active user.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
_No explicit request body. Requires 'Authorization: Bearer <token>' header._

### Response
#### Success Response (200)
- Array of objects, each containing:
  - **item_id** (string) - The unique identifier of the item.
  - **owner** (string) - The username of the item's owner.

#### Response Example
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]

#### Error Response (401)
- **detail** (string) - Description of the authentication error.

#### Error Example
{
  "detail": "Could not validate credentials"
}

#### Error Response (400)
- **detail** (string) - Description of the user status error.

#### Error Example
{
  "detail": "Inactive user"
}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the system's operational status. Requires basic authentication.

```APIDOC
## GET /status/

### Description
Provides a simple status check for the system. Requires any valid authentication token, but no specific scopes.

### Method
GET

### Endpoint
/status/

### Parameters
No direct parameters. Authentication via the 'Authorization' header.

### Request Example
N/A

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
{
  "status": "ok"
}

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires any valid authenticated user.

```APIDOC
## GET /status/

### Description
Provides an indication of the system's operational status. Requires a valid authenticated user, but no specific scopes.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token, e.g., `Bearer <access_token>`.

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200 OK)
(No explicit return value, typically implies success or an empty object).

#### Response Example
```json
{}
```

#### Error Response (401 Unauthorized)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the current system status. This endpoint requires user authentication.

```APIDOC
## GET /status/

### Description
Provides a basic system status check. Access requires a valid JWT access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
```json
{
  "headers": {
    "Authorization": "Bearer <access_token>"
  }
}
```

### Response
#### Success Response (200 OK)
_Returns an empty object or a simple status message if not explicitly defined by the application. This example implies a successful authentication and operation without specific return data._

#### Response Example
```json
{}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials" or "Not enough permissions"

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires basic user authentication.

```APIDOC
## GET /status/

### Description
Returns the current operational status of the system. This endpoint requires authentication to access, but does not enforce specific scopes or active user status.

### Method
GET

### Endpoint
/status/

### Parameters
No direct parameters. Authentication is via `Authorization: Bearer <access_token>` header.

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - A string indicating the system's status, e.g., "ok".

#### Response Example
```json
{
  "status": "ok"
}
```
#### Error Response (401)
- `detail`: "Could not validate credentials" (if token is invalid or missing)
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fr/tutorial/dependencies/dependencies-in-path-operation-decorators

Retrieves a list of items, protected by two header-based dependencies (`verify_token` and `verify_key`). Both headers, `X-Token` and `X-Key`, must be valid for the request to succeed.

```APIDOC
## GET /items/

### Description
This endpoint returns a list of predefined items. Access is restricted by two required headers: `X-Token` for authentication and `X-Key` for authorization. If either header is missing or incorrect, an HTTP 400 error is returned.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Headers
- **X-Token** (string) - Required - A secret token for authentication. Expected value: "fake-super-secret-token"
- **X-Key** (string) - Required - A secret key for authorization. Expected value: "fake-super-secret-key"

#### Request Body
_None_

### Request Example
```http
GET /items/ HTTP/1.1
X-Token: fake-super-secret-token
X-Key: fake-super-secret-key
Host: example.com
```

### Response
#### Success Response (200 OK)
A list of items if both `X-Token` and `X-Key` headers are valid.
- **item** (string) - The name of an item.

#### Response Example
```json
[
  {
    "item": "Foo"
  },
  {
    "item": "Bar"
  }
]
```

#### Error Response (400 Bad Request)
Returned if `X-Token` or `X-Key` is missing or invalid.
- **detail** (string) - A message indicating which header is invalid.

#### Error Response Example
```json
{
  "detail": "X-Token header invalid"
}
```

```json
{
  "detail": "X-Key header invalid"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the current system status. This endpoint requires basic authentication.

```APIDOC
## GET /status/

### Description
Checks the current system status. This endpoint requires basic authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
```
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200 OK)
- **status** (string) - The current status of the system, e.g., "ok".

#### Error Response (401 Unauthorized)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Response Example
```json
{
  "status": "ok"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the overall status of the system. This endpoint requires basic authentication.

```APIDOC
## GET /status/

### Description
Checks the system status. Requires authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., "Bearer YOUR_ACCESS_TOKEN")

### Request Example
(No request body)

### Response
#### Success Response (200)
- **status** (string) - The status of the system (e.g., "ok").

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" or "Not enough permissions"

#### Response Example
{
  "status": "ok"
}
```

--------------------------------

### Initialize FastAPI App and Import Dependencies

Source: https://fastapi.tiangolo.com/fa/tutorial/security/oauth2-jwt

This snippet initializes the FastAPI application instance and imports all necessary modules for handling dates, JWT, FastAPI components, password hashing, and Pydantic models. These are foundational for the authentication system.

```python
from datetime import datetime, timedelta, timezone
from typing import Annotated, Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel


app = FastAPI()
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires basic user authentication.

```APIDOC
## GET /status/

### Description
Checks the operational status of the system. Requires basic user authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token acquired from the /token endpoint.

### Request Example
(No request body)

### Response
#### Success Response (200)
(Returns an empty JSON object by default if no explicit return value is specified by the endpoint, implying success if no error is raised.)

#### Response Example
{}

#### Error Response (401)
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### GET /users/

Source: https://fastapi.tiangolo.com/tr/tutorial/bigger-applications

Retrieve a list of all available users from the system.

```APIDOC
## GET /users/

### Description
Retrieves a list of all available users.

### Method
GET

### Endpoint
/users/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(None)

### Response
#### Success Response (200)
- **username** (string) - The username of the user.

#### Response Example
[
  {
    "username": "Rick"
  },
  {
    "username": "Morty"
  }
]
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the current system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
This endpoint provides a basic health check of the system. It requires an authenticated user, but no specific scopes are enforced by the endpoint itself (scopes are checked by the `get_current_user` dependency).

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```bash
curl -X GET "http://localhost:8000/status/" \
-H "Authorization: Bearer <access_token>"
```

### Response
#### Success Response (200 OK)
- **status** (string) - The current status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Install pydantic-settings as part of FastAPI's 'all' extras

Source: https://fastapi.tiangolo.com/uk/advanced/settings

This command installs FastAPI along with all its common dependencies and optional features, including `pydantic-settings`. It's a convenient way to set up a comprehensive FastAPI development environment without individually installing each component.

```bash
pip install "fastapi[all]"
```

--------------------------------

### FastAPI Application Setup and Token Endpoint

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

Initializes the FastAPI application and defines the `/token` endpoint for user login. It authenticates users and returns a JWT access token upon successful login.

```python
app = FastAPI()

@app.post("/token")
async def login_for_access_token(
    form_data: OAuth2PasswordRequestForm = Depends(),
) -> Token:
    user = authenticate_user(fake_users_db, form_data.username, form_data.password)
    if not user:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail="Incorrect username or password",
            headers={"WWW-Authenticate": "Bearer"},
        )
    access_token_expires = timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)
    access_token = create_access_token(
        data={"sub": user.username},
        expires_delta=access_token_expires
    )
    return Token(access_token=access_token, token_type="bearer")
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires a valid access token.

```APIDOC
## GET /status/

### Description
This endpoint returns the current status of the system. It requires a valid authentication token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...').

### Request Example
(No request body)

### Response
#### Success Response (200)
- **status** (string) - The current operational status of the system.

#### Response Example
{
  "status": "ok"
}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Checks the operational status of the system. Requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
- None

#### Query Parameters
- None

#### Request Body
- None

### Request Example
(Requires 'Authorization: Bearer <access_token>' header)

### Response
#### Success Response (200)
- **status** (string) - Indicates the system's status, e.g., "ok".

#### Response Example
{
  "status": "ok"
}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the current operational status of the system. Requires basic authentication.

```APIDOC
## GET /status/

### Description
This endpoint provides a simple check of the system's operational status. It requires an authenticated user, but no specific scopes are mentioned.

### Method
GET

### Endpoint
/status/

### Parameters
No explicit parameters. Requires a valid JWT bearer token in the Authorization header.

### Request Example
No request body.

### Response
#### Success Response (200)
- **status** (string) - The status message, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" or "Not enough permissions".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the current system status. Requires any valid authentication token.

```APIDOC
## GET /status/

### Description
This endpoint provides a basic system status check. It requires a valid access token for authentication, but no specific scopes are enforced beyond general authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
```
GET /status/
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200 OK)
Returns the current system status.

- **status** (string) - A string indicating the system's operational status.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
Returned if no token is provided or the token is invalid.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Provides a simple endpoint to check the operational status of the system. Requires user authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
(No request body for GET)

### Response
#### Success Response (200)
- **status** (string) - A message indicating the system's status.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

#### Error Response Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Imports and FastAPI Application Initialization (Python)

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

Imports necessary modules from `datetime`, `typing`, `jwt`, `fastapi`, `pwdlib`, `pydantic`, and initializes the FastAPI application instance. These are foundational for the application's functionality.

```python
from datetime import datetime, timedelta, timezone
from typing import Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel
from typing_extensions import Annotated

app = FastAPI()
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the current system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Checks the current operational status of the system. This endpoint requires a valid JWT access token, but does not enforce specific scopes beyond general authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token, e.g., `Bearer <ACCESS_TOKEN>`.

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- (object) - A generic object indicating the system's status.
  - **status** (string) - A message indicating the status, e.g., "ok" or "online".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" for invalid/missing token.
- **detail** (string) - "Not enough permissions" if the token lacks basic authentication (though unlikely for this endpoint without specific scopes).
```

--------------------------------

### POST /users/

Source: https://fastapi.tiangolo.com/fr/advanced/generate-clients

Creates a new user with the provided username and email. This endpoint is part of the 'users' tag and processes user registration.

```APIDOC
## POST /users/

### Description
Registers a new user with the provided username and email address.

### Method
POST

### Endpoint
/users/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
- **username** (string) - Required - The desired username for the new user.
- **email** (string) - Required - The email address of the new user.

### Request Example
```json
{
  "username": "johndoe",
  "email": "john.doe@example.com"
}
```

### Response
#### Success Response (200)
- **message** (string) - A confirmation message indicating the user was received.

#### Response Example
```json
{
  "message": "User received"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the operational status of the system. This endpoint requires basic authentication.

```APIDOC
## GET /status/

### Description
Checks the operational status of the system. This endpoint requires basic authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token, e.g., `Bearer <access_token>`.

### Request Example
(No request body for GET requests)

### Response
#### Success Response (200)
- **message** (string) - A message indicating the system's status.

#### Response Example
{
  "message": "System operational"
}

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".
- **headers** (object) - Contains `WWW-Authenticate` header.
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/fr/advanced/websockets

Serves the HTML content for the WebSocket chat client. This endpoint provides the user interface for interacting with the WebSocket.

```APIDOC
## GET /

### Description
Serves the HTML content for the WebSocket chat client. This endpoint provides the user interface for interacting with the WebSocket.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
GET /

### Response
#### Success Response (200)
- **html_content** (string) - The full HTML page for the chat client interface.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <input type="text" id="messageText" autocomplete="off"/>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
            var ws = new WebSocket("ws://localhost:8000/ws");
            ws.onmessage = function(event) {
                var messages = document.getElementById('messages')
                var message = document.createElement('li')
                var content = document.createTextNode(event.data)
                message.appendChild(content)
                messages.appendChild(message)
            };
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
```
```

--------------------------------

### FastAPI Application Core Configuration and Initialization

Source: https://fastapi.tiangolo.com/fr/tutorial/security/oauth2-jwt

This snippet sets up the foundational elements for the FastAPI application, including all required imports for authentication, JWT, and Pydantic. It defines security constants, initializes the FastAPI app instance, configures password hashing using `pwdlib`, and sets up the OAuth2PasswordBearer scheme. A `fake_users_db` is provided for local user data simulation.

```python
from datetime import datetime, timedelta, timezone
from typing import Annotated, Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}


password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### Run FastAPI server with environment variables

Source: https://fastapi.tiangolo.com/advanced/settings

This command demonstrates how to launch a FastAPI application using `fastapi run` while dynamically setting environment variables for Pydantic `BaseSettings`. It shows how to provide values like `ADMIN_EMAIL` and `APP_NAME` directly on the command line, which `BaseSettings` will automatically pick up and validate. This is useful for quick testing or local development.

```bash
fast \u2192ADMIN_EMAIL="deadpool@example.com" APP_NAME="ChimichangApp" fastapi run main.py
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Provides a basic system status check for an authenticated user.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No request body)

### Response
#### Success Response (200 OK)
- **status** (string) - The current status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/fr/advanced/websockets

This endpoint serves a simple HTML page that includes inline JavaScript to create and manage a WebSocket chat client. It's designed for demonstration purposes, allowing users to interact with the WebSocket endpoint directly from their browser.

```APIDOC
## GET /

### Description
Serves an HTML page containing a basic chat interface powered by WebSockets. This client-side code connects to the `/ws` endpoint to send and receive messages.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
N/A (Browser navigates to root URL)

### Response
#### Success Response (200)
Returns an HTML document. The content includes a form to send messages and a list to display received messages. The embedded JavaScript establishes a WebSocket connection to `ws://localhost:8000/ws`.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <input type="text" id="messageText" autocomplete="off"/>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
            var ws = new WebSocket("ws://localhost:8000/ws");
            ws.onmessage = function(event) {
                var messages = document.getElementById('messages')
                var message = document.createElement('li')
                var content = document.createTextNode(event.data)
                message.appendChild(content)
                messages.appendChild(message)
            };
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the current system status. This endpoint requires an authenticated user.

```APIDOC
## GET /status/

### Description
Checks the current system status. This endpoint requires an authenticated user.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No direct request body. Authentication via Bearer token in header.)

### Response
#### Success Response (200)
- **status** (string) - The current status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```
```

--------------------------------

### POST /user/

Source: https://fastapi.tiangolo.com/tutorial/extra-models

Creates a new user account. This endpoint takes user input, hashes the password for internal storage, and returns a public representation of the newly created user.

```APIDOC
## POST /user/

### Description
Create a new user account. The provided password will be internally hashed before storage, and only safe, public user details will be returned in the response.

### Method
POST

### Endpoint
/user/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
- **username** (string) - Required - The user's unique username.
- **password** (string) - Required - The user's chosen password.
- **email** (string) - Required - The user's email address (must be a valid email format).
- **full_name** (string | null) - Optional - The user's full name.

### Request Example
```json
{
  "username": "johndoe",
  "password": "MyStrongP@ssw0rd",
  "email": "john.doe@example.com",
  "full_name": "John Doe"
}
```

### Response
#### Success Response (200)
- **username** (string) - The unique username of the newly created user.
- **email** (string) - The email address of the new user.
- **full_name** (string | null) - The full name of the new user, if provided.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "john.doe@example.com",
  "full_name": "John Doe"
}
```
```

--------------------------------

### FastAPI Application-Level Parameters Configuration

Source: https://fastapi.tiangolo.com/de/release-notes

This section details the parameters that can be set directly when initializing a `FastAPI` application, applying them globally to all path operations.

```APIDOC
## FastAPI Application-Level Parameters Configuration

### Description
Parameters that can be set directly when initializing a `FastAPI` application, applying them globally to all path operations. These parameters enable top-level control over various aspects of the application's behavior and OpenAPI schema generation.

### Method
N/A (Framework Configuration)

### Endpoint
N/A (App Initialization)

### Parameters
#### Configuration Parameters
- **default_response_class** (Response Class) - Optional - Updates the default response class for the entire application.
- **dependencies** (List[Depends]) - Optional - Includes top-level dependencies that apply to all path operations in the application. Useful for global authentication or shared setup.
- **callbacks** (Dict[str, Callback]) - Optional - OpenAPI callbacks that apply to all path operations in the application.
- **deprecated** (bool) - Optional - If set to `True`, marks all path operations in the application as deprecated in the OpenAPI schema.
- **include_in_schema** (bool) - Optional - If set to `False`, excludes all path operations from the OpenAPI schema. Default is `True`.
- **responses** (Dict[int, Dict[str, Any]]) - Optional - OpenAPI responses that apply to all path operations in the application.

### Request Example
```python
from fastapi import FastAPI, Depends

async def some_dependency():
    # global dependency logic
    pass

app = FastAPI(dependencies=[Depends(some_dependency)], deprecated=True)
```

### Response
N/A (Configuration applied internally)
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/fr/advanced/websockets

Renders and serves the main HTML page for the WebSocket chat interface. This endpoint is responsible for displaying the client-side UI where users can connect to the WebSocket.

```APIDOC
## GET /

### Description
Renders and serves the main HTML page for the WebSocket chat interface. This endpoint provides the client-side UI for users to connect to the WebSocket and send messages.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(None)

### Response
#### Success Response (200)
Returns an HTML document containing the chat interface.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <label>Item ID: <input type="text" id="itemId" autocomplete="off" value="foo"/></label>
            <label>Token: <input type="text" id="token" autocomplete="off" value="some-key-token"/></label>
            <button onclick="connect(event)">Connect</button>
            <hr>
            <label>Message: <input type="text" id="messageText" autocomplete="off"/></label>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
        var ws = null;
            function connect(event) {
                var itemId = document.getElementById("itemId")
                var token = document.getElementById("token")
                ws = new WebSocket("ws://localhost:8000/items/" + itemId.value + "/ws?token=" + token.value);
                ws.onmessage = function(event) {
                    var messages = document.getElementById('messages')
                    var message = document.createElement('li')
                    var content = document.createTextNode(event.data)
                    message.appendChild(content)
                    messages.appendChild(message)
                };
                event.preventDefault()
            }
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
```
```

--------------------------------

### FastAPI Authentication Setup with Pydantic Models and OAuth2

Source: https://fastapi.tiangolo.com/fa/tutorial/security/simple-oauth2

This setup block initializes the FastAPI application, defines Pydantic models for user data (User and UserInDB), creates a fake in-memory user database, and implements a basic password hashing function. It also sets up the OAuth2PasswordBearer scheme, which is crucial for handling authentication tokens in FastAPI.

```python
from typing import Union

from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()

def fake_hash_password(password: str):
    return "fakehashed" + password

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")


class User(BaseModel):
    username: str
    email: Union[str, None] = None
    full_name: Union[str, None] = None
    disabled: Union[bool, None] = None


class UserInDB(User):
    hashed_password: str


def get_user(db, username: str):
    if username in db:
        user_dict = db[username]
        return UserInDB(**user_dict)


def fake_decode_token(token):
    # This doesn't provide any security at all
    # Check the next version
    user = get_user(fake_users_db, token)
    return user
```

--------------------------------

### Initialize FastAPI App and Define Asynchronous GET Route

Source: https://fastapi.tiangolo.com/fa/tutorial/first-steps

This snippet demonstrates how to initialize a FastAPI application and define an asynchronous GET route for the root path (`/`). It highlights the use of `@app.get("/")` as a path operation decorator that registers the `root` function to handle HTTP GET requests. The `async def` function returns a dictionary, which FastAPI automatically converts to a JSON response.

```python
from fastapi import FastAPI

app = FastAPI()


@app.get("/")
async def root():
    return {"message": "Hello World"}
```

--------------------------------

### Initialize FastAPI App and Serve Chat UI with HTML

Source: https://fastapi.tiangolo.com/vi/advanced/websockets

This Python snippet sets up a FastAPI application instance, defines the entire HTML content for a basic chat interface, and creates a GET endpoint ('/') to serve this HTML. It includes all necessary imports for FastAPI, WebSocket handling, response types, and advanced type hinting using `Annotated`.

```python
from typing import Union

from fastapi import (
    Cookie,
    Depends,
    FastAPI,
    Query,
    WebSocket,
    WebSocketException,
    status,
)
from fastapi.responses import HTMLResponse
from typing_extensions import Annotated

app = FastAPI()

html = """
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <label>Item ID: <input type="text" id="itemId" autocomplete="off" value="foo"/></label>
            <label>Token: <input type="text" id="token" autocomplete="off" value="some-key-token"/></label>
            <button onclick="connect(event)">Connect</button>
            <hr>
            <label>Message: <input type="text" id="messageText" autocomplete="off"/></label>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
        var ws = null;
            function connect(event) {
                var itemId = document.getElementById("itemId")
                var token = document.getElementById("token")
                ws = new WebSocket("ws://localhost:8000/items/" + itemId.value + "/ws?token=" + token.value);
                ws.onmessage = function(event) {
                    var messages = document.getElementById('messages')
                    var message = document.createElement('li')
                    var content = document.createTextNode(event.data)
                    message.appendChild(content)
                    messages.appendChild(message)
                };
                event.preventDefault()
            }
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
"""


@app.get("/")
async def get():
    return HTMLResponse(html)
```

--------------------------------

### Initialize FastAPI App and Import Dependencies

Source: https://fastapi.tiangolo.com/ja/tutorial/security/simple-oauth2

This snippet sets up the FastAPI application instance and imports necessary modules like `Depends`, `HTTPException`, `status` for error handling, `OAuth2PasswordBearer`, `OAuth2PasswordRequestForm` for authentication, and `BaseModel` from Pydantic for data validation.

```python
from typing import Union

from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel

app = FastAPI()
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Check the system's status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Provides the current system status information.

### Method
GET

### Endpoint
/status/

### Parameters
#### Query Parameters
*None*

#### Request Body
*None*

### Request Example
```json
{
  "Authorization": "Bearer YOUR_ACCESS_TOKEN"
}
```

### Response
#### Success Response (200 OK)
- **status** (string) - The current status of the system (e.g., "ok").

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials".
```

--------------------------------

### Example of FastAPI generated OpenAPI schema

Source: https://fastapi.tiangolo.com/fa/tutorial/first-steps

This partial JSON snippet illustrates the structure of the OpenAPI schema automatically generated by FastAPI. It defines API metadata like title and version, and details about available paths and their responses, which powers interactive documentation tools like Swagger UI and ReDoc.

```json
{
    "openapi": "3.1.0",
    "info": {
        "title": "FastAPI",
        "version": "0.1.0"
    },
    "paths": {
        "/items/": {
            "get": {
                "responses": {
                    "200": {
                        "description": "Successful Response",
                        "content": {
                            "application/json": {



...


```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the general system status. This endpoint requires user authentication.

```APIDOC
## GET /status/

### Description
Provides a basic system status check for authenticated users.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token for authentication. Format: `Bearer <access_token>`.

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - Indicates the system status.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".
```

--------------------------------

### GET /users/me/items/

Source: https://fastapi.tiangolo.com/ja/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated and active user.

```APIDOC
## GET /users/me/items/

### Description
Returns a list of items that belong to the currently authenticated user. This endpoint requires an active user session.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token, e.g., `Bearer <access_token>`.

### Request Example
(No request body)

### Response
#### Success Response (200)
- **item_id** (string) - The unique identifier for an item.
- **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Response (400)
- **detail** (string) - Error message, e.g., "Inactive user" if the authenticated user is disabled.

```

--------------------------------

### FastAPI Application and Security Setup (Python)

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Sets up the FastAPI application instance, defines crucial constants for JWT security (secret key, algorithm, expiration), and initializes the password hashing utility and OAuth2 password bearer scheme for token handling.

```python
SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(
    tokenUrl="token",
    scopes={"me": "Read information about the current user.", "items": "Read items."},
)

app = FastAPI()
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires authentication but no specific scopes.

```APIDOC
## GET /status/

### Description
Provides a basic health check or status update for the system. This endpoint only requires a valid access token for authentication, regardless of specific scopes.

### Method
GET

### Endpoint
/status/

### Parameters
No direct parameters. Authentication is via the Authorization header.

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- If authentication fails or token is invalid:
  ```json
  {
    "detail": "Could not validate credentials"
  }
  ```
```

--------------------------------

### POST /users/

Source: https://fastapi.tiangolo.com/tr/advanced/generate-clients

Creates a new user. The user's username and email are provided in the request body, and a success message is returned.

```APIDOC
## POST /users/

### Description
Creates a new user with a username and email.

### Method
POST

### Endpoint
/users/

### Parameters
#### Request Body
- **username** (string) - Required - The username of the new user.
- **email** (string) - Required - The email address of the new user.

### Request Example
```json
{
  "username": "johndoe",
  "email": "john.doe@example.com"
}
```

### Response
#### Success Response (200)
- **message** (string) - A confirmation message indicating the user was received.

#### Response Example
```json
{
  "message": "User received"
}
```
```

--------------------------------

### Configure FastAPI with External OpenAPI Documentation

Source: https://fastapi.tiangolo.com/de/reference/fastapi

This example demonstrates how to configure external documentation links in a FastAPI application. It creates a `FastAPI` instance and passes a dictionary containing a description and a URL to the `openapi_external_docs` parameter, making the external documentation discoverable in the generated OpenAPI schema.

```python
from fastapi import FastAPI

external_docs = {
    "description": "Detailed API Reference",
    "url": "https://example.com/api-docs",
}

app = FastAPI(openapi_external_docs=external_docs)
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks and returns the current system status. This endpoint requires user authentication.

```APIDOC
## GET /status/

### Description
Provides a simple status check for the system. This endpoint requires any valid authenticated user, but does not enforce specific scopes beyond basic authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200 OK)
- **status** (string) - A message indicating the system's status.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - A message indicating the error if authentication fails.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Set Up FastAPI App and User Authentication Utilities (Python)

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

This snippet initializes the FastAPI application and essential utilities for user authentication. It sets up `OAuth2PasswordBearer` for handling token requests, and defines functions like `get_user` for retrieving user data from the database and `authenticate_user` for validating user credentials against stored information.

```python
oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()


def get_user(db, username: str):
    if username in db:
        user_dict = db[username]
        return UserInDB(**user_dict)


def authenticate_user(fake_db, username: str, password: str):
    user = get_user(fake_db, username)
    if not user:
        return False
    if not verify_password(password, user.hashed_password):
        return False
    return user
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/fa/tutorial/bigger-applications

Returns a simple welcome message for the root path of the application. This demonstrates a path operation defined directly on the main FastAPI application instance.

```APIDOC
## GET /

### Description
Returns a simple welcome message for the root path of the application.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(None)

### Response
#### Success Response (200)
- **message** (string) - A welcome message.

#### Response Example
```json
{
  "message": "Hello Bigger Applications!"
}
```
```

--------------------------------

### FastAPI Application Constructor Parameters

Source: https://fastapi.tiangolo.com/de/reference/fastapi

This section outlines the various parameters that can be passed to the `FastAPI()` constructor to configure the application's behavior and its generated OpenAPI documentation.

```APIDOC
## CONSTRUCTOR /app_instance\n\n### Description\nInitializes a FastAPI application instance. The parameters below configure various aspects of the application, including OpenAPI documentation, debugging, and routing behavior.\n\n### Method\nCONSTRUCTOR (Conceptual)\n\n### Endpoint\n/app_instance (Conceptual for application creation)\n\n### Parameters\n#### Request Body (FastAPI Constructor Parameters)\n- **debug** (bool) - Optional - Boolean indicating if debug tracebacks should be returned on server errors. Read more in the Starlette docs for Applications. Default: `False`.\n- **routes** (Optional[List[BaseRoute]]) - Optional - A list of routes to serve incoming HTTP and WebSocket requests. Note: you probably shouldn't use this parameter, it is inherited from Starlette and supported for compatibility. Default: `None`.\n- **title** (str) - Optional - The title of the API. It will be added to the generated OpenAPI (e.g. visible at `/docs`). Read more in the FastAPI docs for Metadata and Docs URLs. Default: `'FastAPI'`.\n- **summary** (Optional[str]) - Optional - A short summary of the API. It will be added to the generated OpenAPI (e.g. visible at `/docs`). Read more in the FastAPI docs for Metadata and Docs URLs. Default: `None`.\n- **description** (str) - Optional - A description of the API. Supports Markdown (using CommonMark syntax). It will be added to the generated OpenAPI (e.g. visible at `/docs`). Read more in the FastAPI docs for Metadata and Docs URLs. Default: `''`.\n- **version** (str) - Optional - The version of the API. Note This is the version of your application, not the version of the OpenAPI specification nor the version of FastAPI being used. It will be added to the generated OpenAPI (e.g. visible at `/docs`). Read more in the FastAPI docs for Metadata and Docs URLs. Default: `'0.1.0'`.\n- **openapi_url** (Optional[str]) - Optional - The URL where the OpenAPI schema will be served from. If you set it to `None`, no OpenAPI schema will be served publicly, and the default automatic endpoints `/docs` and `/redoc` will also be disabled. Read more in the FastAPI docs for Metadata and Docs URLs. Default: `'/openapi.json'`.\n- **openapi_tags** (Optional[List[Dict[str, Any]]]) - Optional - A list of tags used by OpenAPI, like `tags` in path operations. The order of the tags can be used to specify the order shown in tools like Swagger UI. Each tag name in the list MUST be unique. Default: `None`.\n- **servers** (Optional[List[Dict[str, Any]]]) - Optional - A list of dictionaries with connectivity information to a target server. Each item in the list is a dictionary typically containing `url` and `description`. Default: A `dict` with a `url` value of `/` if not provided.\n\n### Request Example\n```python\nfrom fastapi import FastAPI\n\ntags_metadata = [\n    {\n        "name": "users",\n        "description": "Operations with users. The **login** logic is also here.",\n    },\n    {\n        "name": "items",\n        "description": "Manage items. So _fancy_ they have their own docs.",\n        "externalDocs": {\n            "description": "Items external docs",\n            "url": "https://fastapi.tiangolo.com/",\n        },\n    },\n]\n\napp = FastAPI(\n    title="ChimichangApp",\n    summary="Deadpond's favorite app. Nuff said.",\n    description="""\n                ChimichangApp API helps you do awesome stuff. üöÄ\n\n                ## Items\n\n                You can **read items**.\n\n                ## Users\n\n                You will be able to:\n\n                * **Create users** (_not implemented_).\n                * **Read users** (_not implemented_).\n\n                """,\n    version="0.0.1",\n    openapi_url="/api/v1/openapi.json",\n    openapi_tags=tags_metadata\n)\n```\n\n### Response\n#### Success Response (200)\n- **app_instance** (FastAPI) - The initialized FastAPI application instance, ready to serve requests.\n\n#### Response Example\n```python\n# The constructor directly returns an object (FastAPI application instance)\n# rather than a JSON response.\n#\n# Example of using the initialized app:\n# @app.get("/hello")\n# async def read_root():\n#     return {"message": "Hello FastAPI"}\n```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the overall system status. This endpoint requires a valid access token.

```APIDOC
## GET /status/

### Description
Provides a simple check of the system's operational status. Requires a valid access token for authentication, but no specific scopes are enforced beyond basic user authentication.

### Method
GET

### Endpoint
/status/

### Parameters
No explicit parameters. Authentication is handled via the `Authorization` header with a Bearer token.

### Request Example
```
GET /status/
Authorization: Bearer <ACCESS_TOKEN>
```

### Response
#### Success Response (200 OK)
- **status** (string) - Indicates the system's status, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials"

#### Error Response Example (401 Unauthorized)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /users/

Source: https://fastapi.tiangolo.com/fa/tutorial/dependencies

Retrieves a list of users, applying common query parameters for filtering and pagination. The parameters `q`, `skip`, and `limit` are injected via a dependency.

```APIDOC
## GET /users/

### Description
Retrieves a list of users, applying common query parameters for filtering and pagination.

### Method
GET

### Endpoint
/users/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
- **q** (string) - Optional - A search query string for filtering users.
- **skip** (integer) - Optional - The number of users to skip before returning results. Defaults to 0.
- **limit** (integer) - Optional - The maximum number of users to return. Defaults to 100.

#### Request Body
(None)

### Request Example
(None)

### Response
#### Success Response (200)
- **q** (string) - The processed search query.
- **skip** (integer) - The number of users skipped.
- **limit** (integer) - The maximum number of users requested.

#### Response Example
{
  "q": "another_query",
  "skip": 10,
  "limit": 50
}
```

--------------------------------

### FastAPI Project Directory Structure Example

Source: https://fastapi.tiangolo.com/fa/deployment/docker

This snippet illustrates the recommended directory structure for a FastAPI project, showing the placement of the `app` directory (containing `__init__.py` and `main.py`), `Dockerfile`, and `requirements.txt` at the project root for clarity and organization.

```plaintext
.
‚îú‚îÄ‚îÄ app
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ requirements.txt
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/advanced/websockets

Serves the main HTML page that contains the client-side JavaScript for establishing and interacting with the WebSocket connection.

```APIDOC
## GET /

### Description
This endpoint serves the HTML content for the client-side WebSocket chat application. It provides the user interface to connect to the WebSocket and send/receive messages.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(N/A)

### Response
#### Success Response (200)
- **content** (text/html) - The HTML page for the WebSocket client.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <label>Item ID: <input type="text" id="itemId" autocomplete="off" value="foo"/></label>
            <label>Token: <input type="text" id="token" autocomplete="off" value="some-key-token"/></label>
            <button onclick="connect(event)">Connect</button>
            <hr>
            <label>Message: <input type="text" id="messageText" autocomplete="off"/></label>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
        var ws = null;
            function connect(event) {
                var itemId = document.getElementById("itemId")
                var token = document.getElementById("token")
                ws = new WebSocket("ws://localhost:8000/items/" + itemId.value + "/ws?token=" + token.value);
                ws.onmessage = function(event) {
                    var messages = document.getElementById('messages')
                    var message = document.createElement('li')
                    var content = document.createTextNode(event.data)l
                    message.appendChild(content)
                    messages.appendChild(message)
                };
                event.preventDefault()
            }
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
```
```

--------------------------------

### Define FastAPI Authentication Constants and Initial Setup

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

This code block defines essential configuration constants for JWT and initializes key components like a fake user database, password hasher, OAuth2 scheme, and the FastAPI application instance. It includes the secret key, algorithm, token expiry, a mock user database, and the application object.

```python
SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}


password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the current system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Provides a basic health check for the system, returning an 'ok' status if the service is running. This endpoint requires any valid access token for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
_No request body for GET requests. Requires Authorization header._

### Response
#### Success Response (200 OK)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials" if the token is invalid or missing.

#### Error Response Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Initialize FastAPI Application Router and Core Components

Source: https://fastapi.tiangolo.com/ko/reference/fastapi

This extensive code block demonstrates the internal initialization logic for a FastAPI application's APIRouter, setting up its core functionalities. It includes configuring routes, dependency overrides providers, startup/shutdown events, default response classes, and exception handlers for HTTP, request validation, and WebSocket validation errors. It also initializes user middleware and prepares the ASGI application stack.

```python
    ] = {}
    self.router: routing.APIRouter = routing.APIRouter(
        routes=routes,
        redirect_slashes=redirect_slashes,
        dependency_overrides_provider=self,
        on_startup=on_startup,
        on_shutdown=on_shutdown,
        lifespan=lifespan,
        default_response_class=default_response_class,
        dependencies=dependencies,
        callbacks=callbacks,
        deprecated=deprecated,
        include_in_schema=include_in_schema,
        responses=responses,
        generate_unique_id_function=generate_unique_id_function,
    )
    self.exception_handlers: Dict[
        Any, Callable[[Request, Any], Union[Response, Awaitable[Response]]]
    ] = {} if exception_handlers is None else dict(exception_handlers)
    self.exception_handlers.setdefault(HTTPException, http_exception_handler)
    self.exception_handlers.setdefault(
        RequestValidationError, request_validation_exception_handler
    )
    self.exception_handlers.setdefault(
        WebSocketRequestValidationError,
        # Starlette still has incorrect type specification for the handlers
        websocket_request_validation_exception_handler,  # type: ignore
    )

    self.user_middleware: List[Middleware] = (
        [] if middleware is None else list(middleware)
    )
    self.middleware_stack: Union[ASGIApp, None] = None
    self.setup()
```

--------------------------------

### Build Multi-Stage Docker Image for FastAPI with Poetry

Source: https://fastapi.tiangolo.com/em/deployment/docker

This advanced Dockerfile utilizes multi-stage builds to create an optimized FastAPI image using Poetry for dependency management. The first stage (`requirements-stage`) installs Poetry and exports `requirements.txt`, while the second stage builds the final image by installing dependencies from the generated file and copying the application code, resulting in a smaller final image.

```Dockerfile
FROM python:3.9 as requirements-stage

WORKDIR /tmp

RUN pip install poetry

COPY ./pyproject.toml ./poetry.lock* /tmp/

RUN poetry export -f requirements.txt --output requirements.txt --without-hashes

FROM python:3.9

WORKDIR /code

COPY --from=requirements-stage /tmp/requirements.txt /code/requirements.txt

RUN pip install --no-cache-dir --upgrade -r /code/requirements.txt

COPY ./app /code/app

CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "80"]

```

--------------------------------

### FastAPI Application Constructor Parameters

Source: https://fastapi.tiangolo.com/pt/reference/fastapi

This section details the various parameters available when initializing a FastAPI application instance, influencing its behavior, metadata, and OpenAPI documentation.

```APIDOC
## FastAPI Application Constructor

### Description
This section details the various parameters available when initializing a FastAPI application instance, influencing its behavior, metadata, and OpenAPI documentation. These parameters are passed directly to the `FastAPI()` constructor.

### Parameters
#### Constructor Parameters
- **debug** (bool) - Optional - Boolean indicating if debug tracebacks should be returned on server errors. Defaults to `False`.
- **routes** (Optional[List[BaseRoute]]) - Optional - A list of routes to serve incoming HTTP and WebSocket requests. Inherited from Starlette for compatibility, generally not recommended for direct use. Defaults to `None`.
- **title** (str) - Optional - The title of the API, displayed in generated OpenAPI documentation (e.g., `/docs`). Defaults to `'FastAPI'`.
- **summary** (Optional[str]) - Optional - A short summary of the API, displayed in generated OpenAPI documentation. Defaults to `None`.
- **description** (str) - Optional - A detailed description of the API, supporting Markdown. Displayed in generated OpenAPI documentation. Defaults to `''`.
- **version** (str) - Optional - The version of your application's API, distinct from OpenAPI or FastAPI versions. Displayed in generated OpenAPI documentation. Defaults to `'0.1.0'`.
- **openapi_url** (Optional[str]) - Optional - The URL where the OpenAPI schema will be served. Setting to `None` disables public OpenAPI schema and automatic `/docs`, `/redoc` endpoints. Defaults to `'/openapi.json'`.
- **openapi_tags** (Optional[List[Dict[str, Any]]]) - Optional - A list of dictionaries defining tags for OpenAPI documentation, influencing their order and descriptions in tools like Swagger UI. Each dict requires a `name` and can include `description` and `externalDocs`. Defaults to `None`.
- **servers** (Optional[List[Dict]]) - Optional - A list of dictionaries specifying connectivity information for target servers. Used for configuring Swagger UI to interact with applications served from different domains. Defaults to `None` (implied, results in default server `/`).

### Request Example
```python
from fastapi import FastAPI

app = FastAPI(
    debug=True,
    title="ChimichangApp",
    summary="Deadpond's favorite app. Nuff said.",
    description="""
        ChimichangApp API helps you do awesome stuff. üöÄ

        ## Items

        You can **read items**.

        ## Users

        You will be able to:

        * **Create users** (_not implemented_).
        * **Read users** (_not implemented_).

        """,
    version="0.0.1",
    openapi_url="/api/v1/openapi.json",
    openapi_tags=[
        {
            "name": "users",
            "description": "Operations with users. The **login** logic is also here.",
        },
        {
            "name": "items",
            "description": "Manage items. So _fancy_ they have their own docs.",
            "externalDocs": {
                "description": "Items external docs",
                "url": "https://fastapi.tiangolo.com/",
            },
        },
    ]
)
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Checks the system status. Requires a valid access token for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```
curl -X GET "http://localhost:8000/status/" \
-H "Authorization: Bearer <access_token>"
```

### Response
#### Success Response (200)
- **status** (string) - The current system status, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Install FastAPI Development Requirements with uv

Source: https://fastapi.tiangolo.com/ru/contributing

If you have 'uv' installed, use this command to efficiently install all development dependencies and the local FastAPI project from 'requirements.txt'. This also installs FastAPI in editable mode, similar to 'pip install -e'.

```bash
uv pip install -r requirements.txt
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
This endpoint provides a simple check of the system's operational status. It requires a valid JWT access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token, e.g., "Bearer <access_token>".

### Request Example
(No request body)

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, e.g., "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### FastAPI OAuth2 Authentication Setup (Python 3.9+ and Simplified Depends)

Source: https://fastapi.tiangolo.com/pt/tutorial/security/simple-oauth2

This snippet illustrates an alternative approach for FastAPI OAuth2 setup, leveraging Python 3.9+ type hint syntax (`str | None`) and a more concise dependency declaration (`token: str = Depends(oauth2_scheme)`). It demonstrates the initial setup components, including models and the `get_current_user` dependency function, tailored for modern Python syntax. The provided snippet is truncated.

```python
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()


def fake_hash_password(password: str):
    return "fakehashed" + password


oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")


class User(BaseModel):
    username: str
    email: str | None = None
    full_name: str | None = None
    disabled: bool | None = None


class UserInDB(User):
    hashed_password: str


def get_user(db, username: str):
    if username in db:
        user_dict = db[username]
        return UserInDB(**user_dict)


def fake_decode_token(token):
    # This doesn't provide any security at all
    # Check the next version
    user = get_user(fake_users_db, token)
    return user


async def get_current_user(token: str = Depends(oauth2_scheme)):
    user = fake_decode_token(token)
    if not user:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
```

--------------------------------

### Configure FastAPI with Multiple Server URLs

Source: https://fastapi.tiangolo.com/uk/reference/fastapi

This example demonstrates how to define multiple server URLs for a FastAPI application using the `servers` parameter. It allows specifying distinct environments like staging and production, which can be useful for proxy setups and OpenAPI documentation generation.

```python
from fastapi import FastAPI

app = FastAPI(
    servers=[
        {"url": "https://stag.example.com", "description": "Staging environment"},
        {"url": "https://prod.example.com", "description": "Production environment"}
    ]
)

```

--------------------------------

### Run FastAPI with proxy headers and root path configuration

Source: https://fastapi.tiangolo.com/fa/advanced/behind-a-proxy

This shell command demonstrates how to start a FastAPI application using `fastapi run` with `--forwarded-allow-ips` to trust proxy headers and `--root-path` to specify the application's base path when behind a proxy. This configures FastAPI to correctly handle redirects and URL generation in a proxy environment.

```bash
fast fastapi run main.py --forwarded-allow-ips="*" --root-path /api/v1  
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Checks the system status. This endpoint requires user authentication with a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No request body required)

### Response
#### Success Response (200)
- **status** (string) - A general status message, typically "ok" or similar.
- **message** (string, optional) - A more detailed status description.

#### Response Example
```json
{
  "status": "ok",
  "message": "System is fully operational"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the current system status. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Provides a basic health check or status report for the system. Requires a valid, authenticated user to access.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" for invalid/expired tokens.

#### Error Response Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Initialize FastAPI Application and Serve HTML Client

Source: https://fastapi.tiangolo.com/em/advanced/websockets

This Python snippet sets up the FastAPI application, includes all necessary imports for the entire application, defines the 'html' content for the WebSocket chat client, and creates a root endpoint ('/') to serve this HTML. It forms the foundational structure of the web application.

```python
from typing import Annotated

from fastapi import (
    Cookie,
    Depends,
    FastAPI,
    Query,
    WebSocket,
    WebSocketException,
    status,
)
from fastapi.responses import HTMLResponse

app = FastAPI()

html = """
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <label>Item ID: <input type="text" id="itemId" autocomplete="off" value="foo"/></label>
            <label>Token: <input type="text" id="token" autocomplete="off" value="some-key-token"/></label>
            <button onclick="connect(event)">Connect</button>
            <hr>
            <label>Message: <input type="text" id="messageText" autocomplete="off"/></label>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
        var ws = null;
            function connect(event) {
                var itemId = document.getElementById("itemId")
                var token = document.getElementById("token")
                ws = new WebSocket("ws://localhost:8000/items/" + itemId.value + "/ws?token=" + token.value);
                ws.onmessage = function(event) {
                    var messages = document.getElementById('messages')
                    var message = document.createElement('li')
                    var content = document.createTextNode(event.data)
                    message.appendChild(content)
                    messages.appendChild(message)
                };
                event.preventDefault()
            }
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
"""

@app.get("/")
async def get():
    return HTMLResponse(html)
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/vi/advanced/websockets

Serves the main HTML page for the WebSocket chat interface. This is the entry point for the client-side application.

```APIDOC
## GET /

### Description
This endpoint serves the HTML content for the WebSocket chat application.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No direct request body for GET)

### Response
#### Success Response (200)
- **content** (string) - The full HTML page content.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <form action="" onsubmit="sendMessage(event)">
            <label>Item ID: <input type="text" id="itemId" autocomplete="off" value="foo"/></label>
            <label>Token: <input type="text" id="token" autocomplete="off" value="some-key-token"/></label>
            <button onclick="connect(event)">Connect</button>
            <hr>
            <label>Message: <input type="text" id="messageText" autocomplete="off"/></label>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
        // ... JavaScript functions for WebSocket ...
        </script>
    </body>
</html>
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system's operational status. Requires basic user authentication.

```APIDOC
## GET /status/

### Description
Checks the system's operational status. Requires basic user authentication.

### Method
GET

### Endpoint
/status/

### Parameters
(Requires Authorization header)

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200 OK)
- **status** (string) - The current status of the system, e.g., "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires any valid access token for authentication.

```APIDOC
## GET /status/

### Description
This endpoint provides a basic system status check. It requires a valid authentication token, but no specific scopes are enforced beyond general authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token acquired from the '/token' endpoint.

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
This endpoint typically returns an empty object or a simple status indicator, as per FastAPI's default for functions without explicit returns.

#### Response Example
```json
{}
```

#### Error Response (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token (any scope).

```APIDOC
## GET /status/

### Description
Checks the system status. Requires a valid access token (any scope).

### Method
GET

### Endpoint
/status/

### Parameters
(Requires `Authorization: Bearer <access_token>` header)

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - The status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```
#### Error Response (401)
- Detail: "Could not validate credentials"
```

--------------------------------

### Initialize FastAPI StaticFiles Class for Static File Serving

Source: https://fastapi.tiangolo.com/ja/reference/staticfiles

This code defines the constructor for the `StaticFiles` class, illustrating how to set up static file serving with various configurations. It accepts parameters such as `directory` for a local path, `packages` for static files embedded in Python packages, `html` to enable serving `index.html` for root requests, `check_dir` for initial directory validation, and `follow_symlink` to control symbolic link resolution.

```python
StaticFiles(
    *,
    directory=None,
    packages=None,
    html=False,
    check_dir=True,
    follow_symlink=False
)

```

```python
def __init__(
    self,
    *,
    directory: PathLike | None = None,
    packages: list[str | tuple[str, str]] | None = None,
    html: bool = False,
    check_dir: bool = True,
    follow_symlink: bool = False,
) -> None:
    self.directory = directory
    self.packages = packages
    self.all_directories = self.get_directories(directory, packages)
    self.html = html
    self.config_checked = False
    self.follow_symlink = follow_symlink
    if check_dir and directory is not None and not os.path.isdir(directory):
        raise RuntimeError(f"Directory '{directory}' does not exist")

```

--------------------------------

### Configure FastAPI Request Body Examples with Body()

Source: https://fastapi.tiangolo.com/em/tutorial/schema-extra-example

This snippet demonstrates how to define an `Item` Pydantic model and use FastAPI's `Body()` dependency with the `examples` parameter to provide example request payloads for a PUT endpoint. It supports different Python versions and type-hinting conventions, making the API documentation more informative.

```Python 3.8+ (non-Annotated)
from typing import Union

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()


class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None


@app.put("/items/{item_id}")
async def update_item(
    item_id: int,
    item: Item = Body(
        examples=[
            {
                "name": "Foo",
                "description": "A very nice Item",
                "price": 35.4,
                "tax": 3.2,
            }
        ],
    ),
):
    results = {"item_id": item_id, "item": item}
    return results
```

```Python 3.10+ (Annotated)
from typing import Annotated

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()


class Item(BaseModel):
    name: str
    description: str | None = None
    price: float
    tax: float | None = None


@app.put("/items/{item_id}")
async def update_item(
    item_id: int,
    item: Annotated[
        Item,
        Body(
            examples=[
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                }
            ],
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

```Python 3.9+ (Annotated, Union)
from typing import Annotated, Union

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()


class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None


@app.put("/items/{item_id}")
async def update_item(
    item_id: int,
    item: Annotated[
        Item,
        Body(
            examples=[
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                }
            ],
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

```Python 3.8+ (Annotated, typing_extensions)
from typing import Union

from fastapi import Body, FastAPI
from pydantic import BaseModel
from typing_extensions import Annotated

app = FastAPI()


class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None


@app.put("/items/{item_id}")
async def update_item(
    item_id: int,
    item: Annotated[
        Item,
        Body(
            examples=[
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                }
            ],
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

```Python 3.10+ (non-Annotated)
from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()


class Item(BaseModel):
    name: str
    description: str | None = None
    price: float
    tax: float | None = None


@app.put("/items/{item_id}")
async def update_item(
    item_id: int,
    item: Item = Body(
        examples=[
            {
                "name": "Foo",
                "description": "A very nice Item",
                "price": 35.4,
                "tax": 3.2,
            }
        ],
    ),
):
    results = {"item_id": item_id, "item": item}
    return results
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Provides a basic system status check. Access to this endpoint requires a valid bearer token, but no specific scopes are enforced beyond basic authentication.

### Method
GET

### Endpoint
/status/

### Parameters
_None (authentication via Authorization header)_

### Request Example
_No explicit request body_

### Response
#### Success Response (200)
- _No explicit return value in code, typically implies success or basic status information._

#### Response Example
```json
{}
```
_Or potentially a status message_

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"
- **WWW-Authenticate** (string) - "Bearer"
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token from any authenticated user.

```APIDOC
## GET /status/

### Description
Checks the system status. Requires a valid access token from any authenticated user.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., "Bearer <access_token>").

### Request Example
(No request body or query parameters)

### Response
#### Success Response (200)
- **status** (string) - The current status of the system (e.g., "ok").

#### Response Example
{
  "status": "ok"
}

#### Error Response (401)
- "Could not validate credentials" (Invalid or missing token)
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/tr/tutorial/dependencies

Retrieves a list of items, allowing for optional search queries and pagination using common parameters.

```APIDOC
## GET /items/

### Description
Retrieves a list of items, supporting optional search queries and pagination.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
None

#### Query Parameters
- **q** (string) - Optional - A search query string to filter items. Defaults to `None`.
- **skip** (integer) - Optional - The number of items to skip for pagination. Defaults to `0`.
- **limit** (integer) - Optional - The maximum number of items to return. Defaults to `100`.

#### Request Body
None

### Request Example
```
GET /items/?q=example&skip=10&limit=50
```

### Response
#### Success Response (200)
- **q** (string | null) - The search query string used.
- **skip** (integer) - The number of items skipped.
- **limit** (integer) - The maximum number of items returned.

#### Response Example
```json
{
  "q": "example",
  "skip": 10,
  "limit": 50
}
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/tr/advanced/generate-clients

Retrieves a list of all available items. Each item includes its name and price.

```APIDOC
## GET /items/

### Description
Returns a list of all items currently stored.

### Method
GET

### Endpoint
/items/

### Parameters
No parameters.

### Request Example
```json
{}
```

### Response
#### Success Response (200)
- **[Item]** (array of objects) - A list of items.
  - **name** (string) - The name of the item.
  - **price** (float) - The price of the item.

#### Response Example
```json
[
  {
    "name": "Plumbus",
    "price": 3.0
  },
  {
    "name": "Portal Gun",
    "price": 9001.0
  }
]
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Checks the system status, requiring authentication from any valid user.

```APIDOC
## GET /status/

### Description
This endpoint provides a basic system status check. It requires a valid access token but does not enforce specific scopes beyond general user authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200 OK)
- **status** (string) - A message indicating the system status.

#### Response Example
```json
{
  "status": "System is operational"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - Error message, e.g., "Could not validate credentials".
- **WWW-Authenticate** (string) - Specifies authentication scheme.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Initialize Password Hashing Library

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Initializes the `pwdlib` library for secure password hashing and verification. Using `PasswordHash.recommended()` ensures that best practices for password security, such as Argon2id, are applied.

```python
password_hash = PasswordHash.recommended()
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires user authentication.

```APIDOC
## GET /status/

### Description
Provides a basic system status check. Requires an authenticated user, but no specific scopes are enforced beyond basic authentication.

### Method
GET

### Endpoint
/status/

### Parameters
No explicit parameters. Authentication is handled via the Authorization header with a Bearer token.

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - Indicates the system's operational status. (Assumed, as function returns nothing explicitly)

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" or "Not enough permissions"
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires an active access token for authentication.

```APIDOC
## GET /status/

### Description
This endpoint allows for a basic check of the system's operational status. It requires a valid JWT access token in the Authorization header to ensure the caller is authenticated.

### Method
GET

### Endpoint
/status/

### Parameters
No explicit path, query, or request body parameters. Authentication is handled via the Authorization header.

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200 OK)
- **status** (string) - A message indicating the system's status.

#### Response Example
```json
{
  "status": "System operational"
}
```

#### Error Response (401 Unauthorized)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the current system status. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Returns the current operational status of the system. This endpoint requires a valid access token for basic authentication, but does not enforce specific scopes or user activity status beyond token validity.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200 OK)
- **status** (string) - The current status of the system, e.g., "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the current system status. This endpoint requires any valid access token.

```APIDOC
## GET /status/

### Description
Checks the current system status to ensure the API is operational. This endpoint requires any valid JWT access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJhbGci...`).

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGci...
```

### Response
#### Success Response (200 OK)
- **status** (string) - Indicates the system's operational status.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - Description of the error.

#### Error Example (401 Unauthorized)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Checks the operational status of the system. This endpoint requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token acquired from `/token` endpoint. Example: `Bearer <access_token>`.

### Request Example
(No request body)

### Response
#### Success Response (200)
- (User object) - If successful, returns the current user object (or simply 200 OK if no specific return type is defined).

#### Response Example
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".
- **WWW-Authenticate** (string) - Authentication challenge.
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system's operational status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
This endpoint provides a simple check of the system's status. It requires any valid access token for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
(Requires Bearer Token in Authorization header)

### Request Example
```http
GET /status/ HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials".

```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires user authentication.

```APIDOC
## GET /status/

### Description
Checks the operational status of the system. This endpoint requires a valid authenticated user.

### Method
GET

### Endpoint
/status/

### Parameters
No parameters. Authentication is handled via the Authorization header.

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
Returns an empty response (null) indicating successful operation.

#### Response Example
```json
null
```

#### Error Response (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the current system status. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Provides a simple status check for the system. This endpoint requires user authentication via an access token, but no specific scopes are enforced beyond basic authentication.

### Method
GET

### Endpoint
/status/

### Parameters
(Requires 'Authorization: Bearer <access_token>' header)

### Request Example
```
GET /status/
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200)
- **status** (string) - A string indicating the system's operational status (e.g., "ok").

#### Response Example
```json
{
  "status": "ok"
}
```
#### Error Response (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Instantiate Pydantic UserIn Model (Python)

Source: https://fastapi.tiangolo.com/uk/tutorial/extra-models

This snippet demonstrates how to create an instance of the `UserIn` Pydantic model, providing basic user data. It shows the straightforward process of instantiating a Pydantic model for data validation and representation.

```python
user_in = UserIn(username="john", password="secret", email="john.doe@example.com")
```

--------------------------------

### GET /users/me/ - Read Current User

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

Retrieves the detailed information of the currently authenticated user.

```APIDOC
## GET /users/me/

### Description
Retrieves the detailed information of the currently authenticated user. Requires a valid bearer token in the Authorization header.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token received from the /token endpoint.

### Request Example
```
GET /users/me/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200 OK)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401 Unauthorized)
- If no valid bearer token is provided or the token is expired/invalid.

#### Error Response (400 Bad Request)
- If the authenticated user is disabled.

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Example (400)
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### OPTIONS /items/

Source: https://fastapi.tiangolo.com/ru/reference/fastapi

This endpoint demonstrates an OPTIONS request for the `/items/` path, returning a list of available additions for the resource.

```APIDOC
## OPTIONS /items/

### Description
Retrieves available options or additions for an item resource. This example demonstrates a simple OPTIONS endpoint in FastAPI that returns a predefined list.

### Method
OPTIONS

### Endpoint
/items/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
No request body is typically sent with an OPTIONS request.

### Request Example
```json
{}
```

### Response
#### Success Response (200)
- **additions** (array of string) - A list of available additions for the item.

#### Response Example
```json
{
  "additions": [
    "Aji",
    "Guacamole"
  ]
}
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fa/tutorial/dependencies/dependencies-in-path-operation-decorators

Retrieves a list of predefined items. This endpoint is secured using two distinct dependencies that validate 'X-Token' for authentication and 'X-Key' for authorization, both passed as HTTP headers.

```APIDOC
## GET /items/

### Description
Retrieves a list of items from the API. This endpoint demonstrates how to apply multiple dependencies to a single path operation. It requires clients to provide both a valid 'X-Token' (for authentication) and 'X-Key' (for access verification) in the request headers. If either header is missing or invalid, an HTTPException is raised by the respective dependency, preventing access to the resource.

### Method
GET

### Endpoint
/items/

### Parameters
#### Header Parameters
- **X-Token** (string) - Required - An authentication token. Must match "fake-super-secret-token".
- **X-Key** (string) - Required - An API key. Must match "fake-super-secret-key".

#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(Requires 'X-Token' and 'X-Key' headers, no request body for GET)

### Response
#### Success Response (200 OK)
Returns a list of item objects.
- **item** (string) - The name of an item.

#### Error Response (400 Bad Request)
Returned if 'X-Token' or 'X-Key' header is missing or invalid.
- **detail** (string) - A descriptive error message.

#### Response Example
```json
[
  {
    "item": "Foo"
  },
  {
    "item": "Bar"
  }
]
```

```json
{
  "detail": "X-Token header invalid"
}
```

```json
{
  "detail": "X-Key header invalid"
}
```
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Retrieves the details of the current authenticated user. Requires a valid access token.

```APIDOC
## GET /users/me/

### Description
This endpoint retrieves the personal information of the currently authenticated user. A valid JWT access token must be provided in the 'Authorization' header.

### Method
GET

### Endpoint
/users/me/

### Parameters
No explicit parameters. Requires authentication via Authorization header.

### Request Example
```
GET /users/me/
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200 OK)
- **username** (string) - The unique username of the user.
- **email** (string, optional) - The email address of the user.
- **full_name** (string, optional) - The full name of the user.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400 Bad Request)
- **detail** (string) - Error message, e.g., "Inactive user" if the authenticated user account is disabled.

#### Error Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the overall system status. Requires a valid bearer token for authentication.

```APIDOC
## GET /status/

### Description
Checks the overall system status. Requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
None. Authentication is done via the `Authorization` header with a Bearer token.

### Request Example
```json
{}
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Description of the error.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/uk/tutorial/bigger-applications

Retrieve a list of all available items from the fake database. This endpoint is protected by the 'X-Token' dependency.

```APIDOC
## GET /items/

### Description
Retrieves a list of all items stored in the fake database.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
- No path parameters.

#### Query Parameters
- No query parameters.

#### Request Body
- No request body.

### Request Example
```json
{}
```

### Response
#### Success Response (200)
- **plumbus** (object) - An item object with name.
- **gun** (object) - An item object with name.

#### Response Example
```json
{
  "plumbus": {
    "name": "Plumbus"
  },
  "gun": {
    "name": "Portal Gun"
  }
}
```

#### Error Response (404)
- **detail** (string) - Error message.

#### Error Example
```json
{
  "detail": "Not found"
}
```
```

--------------------------------

### Initialize FastAPI Application and Import Dependencies (Python)

Source: https://fastapi.tiangolo.com/tutorial/security/oauth2-jwt

This snippet imports all necessary modules for building the FastAPI authentication system, including `fastapi` for the web framework, `jwt` for token handling, `pwdlib` for password hashing, and `pydantic` for data validation. It also initializes the FastAPI app instance and sets up the `OAuth2PasswordBearer` for token extraction.

```python
from datetime import datetime, timedelta, timezone

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Provides a simple status check for the API. This endpoint requires a valid access token, but specific scopes are not enforced beyond basic token validity.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`)

### Request Example
```text
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the system's operational status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Returns the current operational status of the system. This endpoint requires a valid JWT access token for authentication, but no specific scopes are enforced beyond basic authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Security
- **OAuth2PasswordBearer** (header) - Required - A valid JWT access token in the `Authorization: Bearer <token>` header.

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" for invalid or missing token.
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the system's operational status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Provides a basic health check for the system. Requires a valid OAuth2 bearer token (any scope).

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`).

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token for any authenticated user.

```APIDOC
## GET /status/

### Description
This endpoint provides a simple check of the system's operational status. It requires basic user authentication with any valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
No direct parameters. Authentication is handled via the `Authorization` header with a Bearer token.

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Description of the error.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Install HTTPX for FastAPI TestClient

Source: https://fastapi.tiangolo.com/fr/tutorial/testing

Before using `TestClient` for testing FastAPI applications, `httpx` needs to be installed. This command installs `httpx` into your Python environment, preferably within a virtual environment, to enable HTTP requests in your tests.

```bash
$ pip install httpx
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the current operational status of the system. This endpoint requires basic authentication.

```APIDOC
## GET /status/

### Description
Provides a simple health check or status update for the system. Requires an authenticated user.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200 OK)
- **status** (string) - A string indicating the system's status, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials" if the token is missing, invalid, or expired.
```

--------------------------------

### GET /users/me/items/ - Read Own Items

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

Retrieves a list of items owned by the currently authenticated user.

```APIDOC
## GET /users/me/items/

### Description
Retrieves a list of items owned by the currently authenticated user. Requires a valid bearer token in the Authorization header.

### Method
GET

### Endpoint
/users/me/items/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token received from the /token endpoint.

### Request Example
```
GET /users/me/items/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200 OK)
- **item_id** (string) - The identifier of an item.
- **owner** (string) - The username of the item's owner.

#### Response Example
```json
[
  {
    "item_id": "Foo",
    "owner": "johndoe"
  }
]
```

#### Error Response (401 Unauthorized)
- If no valid bearer token is provided or the token is expired/invalid.

#### Error Response (400 Bad Request)
- If the authenticated user is disabled.

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Example (400)
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### Initializing `WSGIMiddleware` in Python

Source: https://fastapi.tiangolo.com/fa/reference/middleware

This snippet demonstrates the initialization of `WSGIMiddleware`, passing an ASGI application instance. This middleware is used to seamlessly integrate existing WSGI applications into a modern ASGI server

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/em/advanced/websockets

This endpoint serves the main HTML page for the WebSocket chat application. Clients access this page to initiate the chat interface and establish a WebSocket connection.

```APIDOC
## GET /

### Description
This endpoint serves the main HTML page for the WebSocket chat application. It provides the client-side interface for users to connect to the chat and send messages.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No specific request body for GET)

### Response
#### Success Response (200)
- **content** (HTML) - The HTML content of the chat application's frontend.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <h2>Your ID: <span id="ws-id"></span></h2>
        <form action="" onsubmit="sendMessage(event)">
            <input type="text" id="messageText" autocomplete="off"/>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
            var client_id = Date.now()
            document.querySelector("#ws-id").textContent = client_id;
            var ws = new WebSocket(`ws://localhost:8000/ws/${client_id}`);
            ws.onmessage = function(event) {
                var messages = document.getElementById('messages')
                var message = document.createElement('li')
                var content = document.createTextNode(event.data)
                message.appendChild(content)
                messages.appendChild(message)
            };
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
```
```

--------------------------------

### FastAPI Authentication Configuration, Models, and Initial Setup

Source: https://fastapi.tiangolo.com/fa/advanced/security/oauth2-scopes

This snippet defines essential constants for JWT handling, a mock user database for demonstration, Pydantic models for representing tokens and users, and initializes core security components like password hashing and the OAuth2PasswordBearer scheme. It also instantiates the FastAPI application.

```python
SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Chains",
        "email": "alicechains@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$g2/AV1zwopqUntPKJavBFw$BwpRGDCyUHLvHICnwijyX8ROGoiUPwNKZ7915MeYfCE",
        "disabled": True,
    },
}


class Token(BaseModel):
    access_token: str
    token_type: str


class TokenData(BaseModel):
    username: Union[str, None] = None
    scopes: list[str] = []


class User(BaseModel):
    username: str
    email: Union[str, None] = None
    full_name: Union[str, None] = None
    disabled: Union[bool, None] = None


class UserInDB(User):
    hashed_password: str


password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(
    tokenUrl="token",
    scopes={"me": "Read information about the current user.", "items": "Read items."},
)

app = FastAPI()
```

--------------------------------

### Implement FastAPI OAuth2 Authentication and User Management (Legacy Depends)

Source: https://fastapi.tiangolo.com/ja/tutorial/security/simple-oauth2

This snippet provides an alternative FastAPI authentication setup, functionally similar to the `Annotated` version but using the older `Depends` syntax for dependency injection and `|` for `Union` type hints. It defines user models, utility functions, and routes for login and current user retrieval. Note that the login endpoint (`/token`) code is partially truncated in this example.

```python
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()

def fake_hash_password(password: str):
    return "fakehashed" + password

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")


class User(BaseModel):
    username: str
    email: str | None = None
    full_name: str | None = None
    disabled: bool | None = None


class UserInDB(User):
    hashed_password: str


def get_user(db, username: str):
    if username in db:
        user_dict = db[username]
        return UserInDB(**user_dict)


def fake_decode_token(token):
    # This doesn't provide any security at all
    # Check the next version
    user = get_user(fake_users_db, token)
    return user


async def get_current_user(token: str = Depends(oauth2_scheme)):
    user = fake_decode_token(token)
    if not user:
        raise HTTPException(
            status_code=status.HTTP_401_UNAUTHORIZED,
            detail="Invalid authentication credentials",
            headers={"WWW-Authenticate": "Bearer"},
        )
    return user


async def get_current_active_user(current_user: User = Depends(get_current_user)):
    if current_user.disabled:
        raise HTTPException(status_code=400, detail="Inactive user")
    return current_user


@app.post("/token")
async def login(form_data: OAuth2PasswordRequestForm = Depends()):
    user_dict = fake_users_db.get(form_data.username)
```

--------------------------------

### Initialize FastAPI Application and Imports

Source: https://fastapi.tiangolo.com/ja/tutorial/security/oauth2-jwt

This section imports all necessary libraries and modules, including FastAPI for the web framework, Pydantic for data validation, JWT for token handling, and security components. It also initializes the FastAPI app instance and configures the OAuth2 password bearer scheme for token retrieval.

```python
from datetime import datetime, timedelta, timezone

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

app = FastAPI()
oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")
```

--------------------------------

### Implement FastAPI WebSocket Chat Server and Client

Source: https://fastapi.tiangolo.com/em/advanced/websockets

This snippet provides a full-stack example of a WebSocket chat application. It includes the FastAPI server-side logic for managing connections and message broadcasting, and the client-side HTML and JavaScript to establish WebSocket connections, send messages, and display incoming chat messages.

```Python (3.8+)
from typing import List

from fastapi import FastAPI, WebSocket, WebSocketDisconnect
from fastapi.responses import HTMLResponse

app = FastAPI()

html = """
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>

```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Provides a simple status check for the API. Requires user authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No request body required, use Authorization header)

### Response
#### Success Response (200)
- **status** (string) - The current status of the system.

#### Response Example
{
  "status": "ok"
}

#### Error Response (401)
- **detail** (string) - Description of the authorization error.

#### Error Example (401)
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Checks the operational status of the system. Requires a valid access token for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(Requires Bearer Token in Authorization header)
```
GET /status/
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```
```

--------------------------------

### FastAPI App Setup, User Models, and Utility Functions

Source: https://fastapi.tiangolo.com/pt/tutorial/security/simple-oauth2

Initializes the FastAPI application, defines Pydantic models for user data and users in the database, and sets up a fake database for demonstration. It includes utility functions for password hashing and retrieving user details, along with the OAuth2PasswordBearer scheme definition.

```python
from typing import Union

from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from pydantic import BaseModel
from typing_extensions import Annotated

fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "fakehashedsecret",
        "disabled": False,
    },
    "alice": {
        "username": "alice",
        "full_name": "Alice Wonderson",
        "email": "alice@example.com",
        "hashed_password": "fakehashedsecret2",
        "disabled": True,
    },
}

app = FastAPI()


def fake_hash_password(password: str):
    return "fakehashed" + password


oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")


class User(BaseModel):
    username: str
    email: Union[str, None] = None
    full_name: Union[str, None] = None
    disabled: Union[bool, None] = None


class UserInDB(User):
    hashed_password: str


def get_user(db, username: str):
    if username in db:
        user_dict = db[username]
        return UserInDB(**user_dict)


def fake_decode_token(token):
    # This doesn't provide any security at all
    # Check the next version
    user = get_user(fake_users_db, token)
    return user
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Retrieves the profile information of the currently authenticated user. Requires the `me` scope.

```APIDOC
## GET /users/me/

### Description
Returns detailed information about the currently authenticated user. Requires the `me` scope.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`)

### Request Example
N/A

### Response
#### Success Response (200)
- **username** (string) - The user's unique username.
- **email** (string, nullable) - The user's email address.
- **full_name** (string, nullable) - The user's full name.
- **disabled** (boolean, nullable) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" or "Not enough permissions"

#### Error Response (400)
- **detail** (string) - "Inactive user"
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/fr/advanced/websockets

This endpoint serves the main HTML page for the WebSocket chat client. It provides the front-end interface necessary to establish a WebSocket connection and interact with the chat.

```APIDOC
## GET /

### Description
Serves the main HTML page that provides the client-side interface for the WebSocket chat application.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
Not applicable (GET request for a web page)

### Response
#### Success Response (200 OK)
Returns an HTML document that sets up the WebSocket connection and user interface.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <h2>Your ID: <span id="ws-id"></span></h2>
        <form action="" onsubmit="sendMessage(event)">
            <input type="text" id="messageText" autocomplete="off"/>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
            var client_id = Date.now()
            document.querySelector("#ws-id").textContent = client_id;
            var ws = new WebSocket(`ws://localhost:8000/ws/${client_id}`);
            ws.onmessage = function(event) {
                var messages = document.getElementById('messages')
                var message = document.createElement('li')
                var content = document.createTextNode(event.data)
                message.appendChild(content)
                messages.appendChild(message)
            };
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the current status of the system. This endpoint requires an active access token.

```APIDOC
## GET /status/

### Description
Checks the system's operational status. Requires authentication with a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token, e.g., `Bearer <ACCESS_TOKEN>`.

### Request Example
```
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, e.g., "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/ja/tutorial/security/oauth2-jwt

Retrieves the details of the currently authenticated user based on the provided access token.

```APIDOC
## GET /users/me/

### Description
This endpoint returns the profile information of the user whose access token is provided in the Authorization header. The user must be authenticated and active.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(Headers)
```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200 OK)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials" if the token is missing, invalid, or expired.

#### Error Response (400 Bad Request)
- **detail** (string) - "Inactive user" if the authenticated user account is disabled.

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/tutorial/dependencies/dependencies-in-path-operation-decorators

Retrieves a list of predefined items. This endpoint is secured by two header-based dependencies: 'X-Token' for authentication and 'X-Key' for authorization.

```APIDOC
## GET /items/

### Description
This endpoint returns a list of items. It requires both an 'X-Token' and an 'X-Key' header for successful access, which are validated by dependencies.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Headers
- **X-Token** (string) - Required - The authentication token. Must be 'fake-super-secret-token'.
- **X-Key** (string) - Required - The API key. Must be 'fake-super-secret-key'.

### Request Example
```http
GET /items/ HTTP/1.1
Host: example.com
X-Token: fake-super-secret-token
X-Key: fake-super-secret-key
```

### Response
#### Success Response (200 OK)
- **array** (array of objects) - A list of item objects.
  - **item** (string) - The name of an item.

#### Response Example (200 OK)
```json
[
  {
    "item": "Foo"
  },
  {
    "item": "Bar"
  }
]
```

#### Error Response (400 Bad Request)
- **detail** (string) - A description of the error.

#### Response Example (400 Bad Request - X-Token invalid)
```json
{
  "detail": "X-Token header invalid"
}
```

#### Response Example (400 Bad Request - X-Key invalid)
```json
{
  "detail": "X-Key header invalid"
}
```
```

--------------------------------

### FastAPI Application Setup and Configuration Constants

Source: https://fastapi.tiangolo.com/uk/tutorial/security/oauth2-jwt

Initializes the FastAPI application, defines security-related constants like the JWT secret key, algorithm, and token expiry, and sets up an in-memory fake user database. It also configures the password hasher and OAuth2 scheme.

```python
from datetime import datetime, timedelta, timezone
from typing import Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel
from typing_extensions import Annotated

SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}


password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### Define Synchronous GET Route in FastAPI

Source: https://fastapi.tiangolo.com/fa/tutorial/first-steps

This Python example shows how to define a basic path operation function in FastAPI using a standard synchronous function definition. Similar to the asynchronous version, it handles GET requests to the root path and returns a simple JSON dictionary.

```python
from fastapi import FastAPI

app = FastAPI()


@app.get("/")
def root():
    return {"message": "Hello World"}
```

--------------------------------

### GET /users/

Source: https://fastapi.tiangolo.com/tr/tutorial/dependencies

Retrieves a list of users, applying common pagination and optional search query parameters defined by a dependency.

```APIDOC
## GET /users/

### Description
Retrieves a list of users, applying common pagination and optional search query parameters.

### Method
GET

### Endpoint
/users/

### Parameters
#### Query Parameters
- **q** (str) - Optional - An optional search query string.
- **skip** (int) - Optional - The number of users to skip. Defaults to 0.
- **limit** (int) - Optional - The maximum number of users to return. Defaults to 100.

### Request Example
```
GET /users/?skip=5
```

### Response
#### Success Response (200)
- **q** (str) - The search query used, or null if not provided.
- **skip** (int) - The number of users skipped.
- **limit** (int) - The maximum limit of users returned.

#### Response Example
```json
{
  "q": null,
  "skip": 5,
  "limit": 100
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token, but the user can be disabled.

```APIDOC
## GET /status/

### Description
Provides a simple status check for the system. This endpoint requires a valid access token for authentication, but does not check if the user is active or disabled.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
```http
GET /status/
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200)
- **status** (string) - The current system status, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".
- **WWW-Authenticate** (string) - Header indicating authentication scheme.

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Illustrate Python `str.startswith()` with a Tuple for Multiple Prefixes

Source: https://fastapi.tiangolo.com/tr/tutorial/query-params-str-validations

This snippet demonstrates the `startswith()` method of Python strings, showing how it can accept a tuple of prefixes. The method returns `True` if the string starts with any of the prefixes provided in the tuple, simplifying checks for multiple starting conditions.

```Python 3.10+
# Code above omitted üëÜ

def check_valid_id(id: str):
    if not id.startswith(("isbn-", "imdb-")):
        raise ValueError('Invalid ID format, it must start with "isbn-" or "imdb-"')
    return id
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Retrieves the details of the currently authenticated user. Requires a valid access token.

```APIDOC
## GET /users/me/

### Description
This endpoint returns the profile information of the user associated with the provided access token. The user must be authenticated and active.

### Method
GET

### Endpoint
/users/me/

### Parameters
No direct parameters. Authentication is handled via the `Authorization` header with a Bearer token.

### Request Example
```
GET /users/me/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - Description of the error.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400)
- **detail** (string) - Description of the error.

#### Error Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Retrieves the details of the current authenticated user. Requires the 'me' scope.

```APIDOC
## GET /users/me/

### Description
Returns the profile information for the currently authenticated user. This endpoint requires a valid access token with the 'me' scope.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token received from the /token endpoint.
  Example: `Bearer <access_token>`

### Request Example
(No specific request body for GET requests, authentication is via headers.)

### Response
#### Success Response (200)
- **username** (string) - The user's unique username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials" or "Not enough permissions" (if 'me' scope is missing).

#### Error Response (400)
- **detail** (string) - Error message, e.g., "Inactive user" (if the user is disabled).
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the operational status of the system. This endpoint requires a valid access token.

```APIDOC
## GET /status/

### Description
Checks the operational status of the system. This endpoint requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Security
- Requires a valid Bearer token.

### Request Example
(No request body)

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, e.g., "ok".

#### Response Example
{
  "status": "ok"
}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Provides a simple check for the system's operational status. Requires basic authentication to confirm connectivity.

```APIDOC
## GET /status/

### Description
Provides a simple check for the system's operational status. Requires basic authentication to confirm connectivity.

### Method
GET

### Endpoint
/status/

### Parameters
No explicit parameters. Requires a valid JWT in the Authorization header.

### Request Example
GET /status/
Authorization: Bearer <access_token>

### Response
#### Success Response (200)
- **status** (string) - The current operational status of the system.

#### Response Example
{
  "status": "ok"
}

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"
- **headers** (object) - {"WWW-Authenticate": "Bearer"}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires authentication with any valid access token.

```APIDOC
## GET /status/

### Description
Returns the current operational status of the system. This endpoint requires a valid access token, but no specific scopes are enforced.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token acquired from `/token` endpoint.

### Request Example
```
N/A
```

### Response
#### Success Response (200)
- **status** (string) - A string indicating the system's status, e.g., "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/tr/tutorial/dependencies

Retrieves a list of items, applying common pagination and optional search query parameters defined by a dependency.

```APIDOC
## GET /items/

### Description
Retrieves a list of items, applying common pagination and optional search query parameters.

### Method
GET

### Endpoint
/items/

### Parameters
#### Query Parameters
- **q** (str) - Optional - An optional search query string.
- **skip** (int) - Optional - The number of items to skip. Defaults to 0.
- **limit** (int) - Optional - The maximum number of items to return. Defaults to 100.

### Request Example
```
GET /items/?q=example&skip=10&limit=50
```

### Response
#### Success Response (200)
- **q** (str) - The search query used, or null if not provided.
- **skip** (int) - The number of items skipped.
- **limit** (int) - The maximum limit of items returned.

#### Response Example
```json
{
  "q": "example",
  "skip": 10,
  "limit": 50
}
```
```

--------------------------------

### Change Directory to English Documentation Folder

Source: https://fastapi.tiangolo.com/de/contributing

This command navigates the terminal into the main English documentation directory of the project. This is a prerequisite step for manually serving the documentation using MkDocs.

```bash
$ cd docs/en/
```

--------------------------------

### Define FastAPI Request Body Examples in Python

Source: https://fastapi.tiangolo.com/em/tutorial/schema-extra-example

This set of Python examples illustrates how to provide multiple example payloads for a request body using FastAPI's `Body` dependency. It shows variations for different Python versions and type hinting styles, including `Union`, `|` (pipe operator), and `Annotated`, to generate comprehensive OpenAPI documentation. The examples are defined as a list of dictionaries, each containing a `name`, `description`, `price`, and `tax` for an `Item` model.

```python
from typing import Union

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()


class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None


@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Item = Body(
        examples=[
            {
                "name": "Foo",
                "description": "A very nice Item",
                "price": 35.4,
                "tax": 3.2,
            },
            {
                "name": "Bar",
                "price": "35.4",
            },
            {
                "name": "Baz",
                "price": "thirty five point four",
            },
        ],
    ),
):
    results = {"item_id": item_id, "item": item}
    return results
```

```python
from typing import Annotated

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()


class Item(BaseModel):
    name: str
    description: str | None = None
    price: float
    tax: float | None = None


@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Annotated[
        Item,
        Body(
            examples=[
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                },
                {
                    "name": "Bar",
                    "price": "35.4",
                },
                {
                    "name": "Baz",
                    "price": "thirty five point four",
                },
            ],
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

```python
from typing import Annotated, Union

from fastapi import Body, FastAPI
from pydantic import BaseModel

app = FastAPI()


class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None


@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Annotated[
        Item,
        Body(
            examples=[
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                },
                {
                    "name": "Bar",
                    "price": "35.4",
                },
                {
                    "name": "Baz",
                    "price": "thirty five point four",
                },
            ],
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

```python
from typing import Union

from fastapi import Body, FastAPI
from pydantic import BaseModel
from typing_extensions import Annotated

app = FastAPI()


class Item(BaseModel):
    name: str
    description: Union[str, None] = None
    price: float
    tax: Union[float, None] = None


@app.put("/items/{item_id}")
async def update_item(
    *,
    item_id: int,
    item: Annotated[
        Item,
        Body(
            examples=[
                {
                    "name": "Foo",
                    "description": "A very nice Item",
                    "price": 35.4,
                    "tax": 3.2,
                },
                {
                    "name": "Bar",
                    "price": "35.4",
                },
                {
                    "name": "Baz",
                    "price": "thirty five point four",
                },
            ],
        ),
    ],
):
    results = {"item_id": item_id, "item": item}
    return results
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the operational status of the system. This endpoint requires any valid authenticated user.

```APIDOC
## GET /status/

### Description
Checks the operational status of the system. This endpoint requires any valid authenticated user.

### Method
GET

### Endpoint
/status/

### Parameters
No parameters. Authentication is handled via the Authorization header.

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - A general status message, e.g., "OK".
- **user** (string) - The username of the authenticated user making the request.

#### Response Example
```json
{
  "status": "OK",
  "user": "johndoe"
}
```

#### Error Response (401)
- **detail** (string) - A message indicating authentication failure.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the operational status of the system. This endpoint requires any valid authenticated user.

```APIDOC
## GET /status/

### Description
Checks the operational status of the system. This endpoint requires any valid authenticated user.

### Method
GET

### Endpoint
/status/

### Parameters
#### Authentication
- Requires a valid JWT access token in the `Authorization` header (Bearer token).

### Request Example
(No request body)

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the current system status. Requires basic authentication (any valid user).

```APIDOC
## GET /status/

### Description
Returns the operational status of the system. This endpoint requires a valid access token for any authenticated user, regardless of specific scopes.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token for authentication. Format: `Bearer <access_token>`.

### Request Example
(No request body)

### Response
#### Success Response (200)
- **status** (string) - A string indicating the system's status (e.g., "ok").

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" (invalid token)

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Define FastAPI Application Constructor with Parameters

Source: https://fastapi.tiangolo.com/es/reference/fastapi

This snippet defines the `__init__` method for a FastAPI application, detailing various configuration parameters. It showcases how `Annotated` and `Doc` are used to provide rich documentation and metadata for each parameter, which aids in generating comprehensive API documentation.

```python
def __init__(
    self: AppType,
    *,
    debug: Annotated[
        bool,
        Doc(
            """
            Boolean indicating if debug tracebacks should be returned on server
            errors.

            Read more in the
            [Starlette docs for Applications](https://www.starlette.dev/applications/#instantiating-the-application).
            """
        ),
    ] = False,
    routes: Annotated[
        Optional[List[BaseRoute]],
        Doc(
            """
            **Note**: you probably shouldn't use this parameter, it is inherited
            from Starlette and supported for compatibility.

            ---

            A list of routes to serve incoming HTTP and WebSocket requests.
            """
        ),
        deprecated(
            """
            You normally wouldn't use this parameter with FastAPI, it is inherited
            from Starlette and supported for compatibility.

            In FastAPI, you normally would use the *path operation methods*,
            like `app.get()`, `app.post()`, etc.
            """
        ),
    ] = None,
    title: Annotated[
        str,
        Doc(
            """
            The title of the API.

            It will be added to the generated OpenAPI (e.g. visible at `/docs`).

            Read more in the
            [FastAPI docs for Metadata and Docs URLs](https://fastapi.tiangolo.com/tutorial/metadata/#metadata-for-api).

            **Example**

            ```python
            from fastapi import FastAPI

            app = FastAPI(title="ChimichangApp")
            ```
            """
        ),
    ] = "FastAPI",
    summary: Annotated[
        Optional[str],
        Doc(
            """
            A short summary of the API.

            It will be added to the generated OpenAPI (e.g. visible at `/docs`).

            Read more in the
            [FastAPI docs for Metadata and Docs URLs](https://fastapi.tiangolo.com/tutorial/metadata/#metadata-for-api).

            **Example**

            ```python
            from fastapi import FastAPI

            app = FastAPI(summary="Deadpond's favorite app. Nuff said.")
            ```
            """
        ),
    ] = None,
    description: Annotated[
        str,
        Doc(
            '''
            A description of the API. Supports Markdown (using
            [CommonMark syntax](https://commonmark.org/)).

            It will be added to the generated OpenAPI (e.g. visible at `/docs`).

            Read more in the
            [FastAPI docs for Metadata and Docs URLs](https://fastapi.tiangolo.com/tutorial/metadata/#metadata-for-api).

            **Example**

            ```python
            from fastapi import FastAPI

            app = FastAPI(
                description="""
                            ChimichangApp API helps you do awesome stuff. üöÄ

                            ## Items

                            You can **read items**.

                            ## Users

                            You will be able to:

                            * **Create users** (_not implemented_).
                            * **Read users** (_not implemented_).

                            """
            )
            ```
            '''
        ),
    ] = "",
    version: Annotated[
        str,
        Doc(
            """
            The version of the API.

            **Note** This is the version of your application, not the version of
            the OpenAPI specification nor the version of FastAPI being used.

            It will be added to the generated OpenAPI (e.g. visible at `/docs`).

            Read more in the
            [FastAPI docs for Metadata and Docs URLs](https://fastapi.tiangolo.com/tutorial/metadata/#metadata-for-api).

            **Example**

            ```python
            from fastapi import FastAPI

            app = FastAPI(version="0.0.1")
            ```
            """
        ),
    ] = "0.1.0",
    openapi_url: Annotated[
        Optional[str],
        Doc(
            """
            The URL where the OpenAPI schema will be served from.

            If you set it to `None`, no OpenAPI schema will be served publicly, and
            the default automatic endpoints `/docs` and `/redoc` will also be
            disabled.

            Read more in the
            [FastAPI docs for Metadata and Docs URLs](https://fastapi.tiangolo.com/tutorial/metadata/#openapi-url).

            **Example**

            ```python
            from fastapi import FastAPI

            app = FastAPI(openapi_url="/api/v1/openapi.json")
            ```
            """
        ),
    ] = "/openapi.json",
```

--------------------------------

### Configure FastAPI Server URLs

Source: https://fastapi.tiangolo.com/de/reference/fastapi

This example demonstrates how to configure multiple server URLs for a FastAPI application using the `servers` parameter. It allows defining different environments (e.g., staging, production) with descriptive names, which will be reflected in the OpenAPI documentation.

```python
from fastapi import FastAPI

app = FastAPI(
    servers=[
        {"url": "https://stag.example.com", "description": "Staging environment"},
        {"url": "https://prod.example.com", "description": "Production environment"}
    ]
)
```

--------------------------------

### FastAPI Protected Endpoint to Get Current User Info

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

A protected GET endpoint (`/users/me/`) that returns details of the currently authenticated and active user. It leverages the `get_current_active_user` dependency to ensure the request comes from a valid and enabled user.

```python
@app.get("/users/me/", response_model=User)
async def read_users_me(current_user: User = Depends(get_current_active_user)):
    return current_user
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system status, requiring basic authentication. Returns details of the authenticated user.

```APIDOC
## GET /status/

### Description
Retrieves the system status. This endpoint requires an authenticated user; however, it does not enforce specific scopes or user activity status.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```
GET /status/
Authorization: Bearer <any_valid_access_token>
```

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Initialize FastAPI App with Authentication Dependencies in Python

Source: https://fastapi.tiangolo.com/fa/tutorial/security/oauth2-jwt

Sets up the FastAPI application instance and initializes necessary components like OAuth2PasswordBearer. This block also includes all required imports from FastAPI, Pydantic, JWT, and pwdlib for the authentication system.

```python
from datetime import datetime, timedelta, timezone
from typing import Annotated, Union
import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Checks the system status. Requires a valid access token for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token: `Bearer <access_token>`

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, e.g., "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Provides the current system status. This endpoint requires user authentication.

```APIDOC
## GET /status/

### Description
Provides the current system status. This endpoint requires user authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
None

#### Query Parameters
None

#### Request Body
None

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - A simple status message, typically "ok" or similar.

#### Response Example
```json
{
  "status": "ok"
}
```
*Note: The response body is an inferred example as the source code does not explicitly define it, but a 200 status code implies a successful outcome.*

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".
```

--------------------------------

### Install Hypercorn with Trio Async Backend Support

Source: https://fastapi.tiangolo.com/em/deployment/manually

Install Hypercorn specifically configured to include support for the Trio async library. This enables Hypercorn to utilize Trio as its async backend, which is useful for applications designed with Trio's structured concurrency model.

```shell
pip install "hypercorn[trio]"
```

--------------------------------

### Run a FastAPI application using fastapi dev

Source: https://fastapi.tiangolo.com/fr/tutorial/bigger-applications

This command line snippet shows how to start a FastAPI application using the `fastapi dev` command. This tool facilitates development by automatically reloading the application upon code changes, making it ideal for a rapid development workflow.

```shell
fastapi dev app/main.py
```

--------------------------------

### Initialize FastAPI Application and Include Routers (Python)

Source: https://fastapi.tiangolo.com/em/tutorial/bigger-applications

This snippet initializes the main FastAPI application instance. It demonstrates how to include multiple `APIRouter` instances (from `users`, `items`, and `admin` modules) into the main application. It also shows applying application-wide dependencies and how to customize included routers with specific prefixes, tags, dependencies, and responses.

```python
from fastapi import Depends, FastAPI

from .dependencies import get_query_token, get_token_header
from .internal import admin
from .routers import items, users

app = FastAPI(dependencies=[Depends(get_query_token)])


app.include_router(users.router)
app.include_router(items.router)
app.include_router(
    admin.router,
    prefix="/admin",
    tags=["admin"],
    dependencies=[Depends(get_token_header)],
    responses={418: {"description": "I'm a teapot"}},
)


@app.get("/")
async def root():
    return {"message": "Hello Bigger Applications!"}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Checks the system's operational status. Requires basic authentication.

```APIDOC
## GET /status/

### Description
This endpoint provides a simple check of the system's operational status. It requires basic authentication (a valid token, no specific scopes).

### Method
GET

### Endpoint
/status/

### Parameters
No path or query parameters.

#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`)

### Request Example
```http
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huZG9lIiwiZXhwIjoxNjc4OTA1NjAwfQ.signature
```

### Response
#### Success Response (200 OK)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - "Could not validate credentials"
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the overall system status. This endpoint requires any valid access token for authentication.

```APIDOC
## GET /status/

### Description
Checks the overall system status.

### Method
GET

### Endpoint
/status/

### Parameters
(Authentication via Bearer Token in Authorization header)

### Request Example
(No direct request body or query parameters)

### Response
#### Success Response (200)
- **status** (string) - The current system status, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires general authentication (any valid token).

```APIDOC
## GET /status/

### Description
Provides the current status of the system. Access to this endpoint requires a valid access token, but no specific scopes.

### Method
GET

### Endpoint
/status/

### Parameters
None

### Request Example
```text
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
*   No explicit response model in the source. Typically returns a simple status message or object.

#### Response Example
```json
{
  "status": "healthy",
  "timestamp": "2023-10-27T10:00:00Z"
}
```

#### Error Response (401)
*   **detail** (string) - Description of the error.

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the system's operational status. Requires any valid access token.

```APIDOC
## GET /status/

### Description
Checks the system's operational status. Requires any valid access token.

### Method
GET

### Endpoint
/status/

### Authentication
- **Bearer Token**: An access token obtained from `/token` endpoint is required in the `Authorization` header (e.g., `Authorization: Bearer <your_access_token>`).

### Parameters
None.

### Request Example
_No request body. Requires Authorization header._

### Response
#### Success Response (200)
- **status** (string) - The status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Checks the system status. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
This endpoint provides a basic system status check. It only requires a valid, unexpired access token for authentication, regardless of specific scopes.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No body, requires Authorization: Bearer <access_token> header)

### Response
#### Success Response (200)
- **message** (string) - A simple status message.

#### Response Example
```json
{
  "message": "System is up and running"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Checks the current system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Checks the current system status. Requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
_No request body for GET request._

### Response
#### Success Response (200)
- **status** (string) - The operational status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials".
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires user authentication but no specific scopes.

```APIDOC
## GET /status/

### Description
This endpoint provides a basic system status check. It requires any valid authenticated user to access, typically via a JWT access token in the Authorization header.

### Method
GET

### Endpoint
/status/

### Parameters
(Requires a valid 'Authorization: Bearer <access_token>' header)

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - Indicates the system's operational status.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Define TrustedHostMiddleware `__init__` Method in Python

Source: https://fastapi.tiangolo.com/fr/reference/middleware

This is the source code for the `__init__` method of the `TrustedHostMiddleware` class. It sets up the ASGI application, processes the list of allowed hosts (defaulting to all if none are provided), and configures the `www_redirect` behavior. It also includes validation for wildcard host patterns.

```python
def __init__(
    self,
    app: ASGIApp,
    allowed_hosts: Sequence[str] | None = None,
    www_redirect: bool = True,
) -> None:
    if allowed_hosts is None:
        allowed_hosts = ["*"]

    for pattern in allowed_hosts:
        assert "*" not in pattern[1:], ENFORCE_DOMAIN_WILDCARD
        if pattern.startswith("*") and pattern != "*":
            assert pattern.startswith("*."), ENFORCE_DOMAIN_WILDCARD
    self.app = app
    self.allowed_hosts = list(allowed_hosts)
    self.allow_any = "*" in allowed_hosts
    self.www_redirect = www_redirect

```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Checks the current status of the system. Requires basic user authentication (any valid token).

```APIDOC
## GET /status/

### Description
Checks the current operational status of the system. This endpoint requires an active access token, but no specific scopes are enforced beyond basic authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJhbGciOiJIUzI1Ni...`).

### Request Example
(No specific body for GET, authentication via Header)

### Response
#### Success Response (200)
- **status** (string) - A simple status message, typically "ok" for success.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" if the token is invalid or missing.
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires general authentication (any valid access token).

```APIDOC
## GET /status/

### Description
Returns the current system status. Requires authentication with a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
None (Authentication via Bearer Token in Authorization header)

### Request Example
(No specific body for GET request)

### Response
#### Success Response (200)
- **status** (string) - The current status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Checks the operational status of the system. Requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - Indicates the system's operational status (e.g., "ok").
- **message** (string, optional) - Additional status information.

#### Response Example
```json
{
  "status": "ok",
  "message": "System is operational"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the current status of the system. This endpoint requires basic authentication (any valid token).

```APIDOC
## GET /status/

### Description
Provides a simple health check or status update for the system. Requires a valid, but not necessarily active or scoped, access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...`).

### Request Example
```http
GET /status/
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Description of the authentication error.

#### Error Response Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### Initialize FastAPI Application, Imports, and Configuration Constants

Source: https://fastapi.tiangolo.com/tutorial/security/oauth2-jwt

This snippet sets up the FastAPI application, imports necessary modules, and defines global configuration constants for JWT secret key, algorithm, token expiration, and an in-memory fake user database. It also initializes `pwdlib` for password hashing and `OAuth2PasswordBearer` for token extraction.

```python
from datetime import datetime, timedelta, timezone
from typing import Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel

# to get a string like this run:
# openssl rand -hex 32
SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}


password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### Provide Example Values for Field (Python)

Source: https://fastapi.tiangolo.com/ja/reference/parameters

This parameter allows providing a list of example values for the field. These examples are typically used in generated documentation (e.g., OpenAPI/Swagger UI) to illustrate valid inputs.

```python
examples: Annotated[
        Optional[List[Any]],
        Doc(
            """
            Example values for this field.
            """
        ),
    ] = None,
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Checks the current system status. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Performs a basic check of the system's operational status. This endpoint requires a valid access token, though no specific scopes are enforced by the provided code.

### Method
GET

### Endpoint
/status/

### Parameters
(Requires Bearer Token in Authorization header)

### Request Example
(Header)
```
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
(No explicit response body defined in source, implying an empty JSON object or success status)

#### Response Example
```json
{}
```

#### Error Response (401)
- **detail** (string) - Description of the authorization error.

#### Error Response Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Retrieves the details of the currently authenticated user. Requires the 'me' scope for access.

```APIDOC
## GET /users/me/

### Description
This endpoint returns the profile information for the authenticated user. It requires an access token with the 'me' scope.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
_No request body for GET requests_

### Response
#### Success Response (200)
- **username** (string) - The user's unique username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Responses
- **401 Unauthorized**: If credentials cannot be validated, or the required 'me' scope is missing.
- **400 Bad Request**: If the authenticated user is inactive.
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Retrieves the details of the currently authenticated active user. Requires 'me' scope.

```APIDOC
## GET /users/me/

### Description
This endpoint retrieves detailed information about the user who is currently authenticated. It requires a valid access token with the 'me' scope and ensures the user is not disabled.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token, e.g., `Bearer <access_token>`.

### Request Example
(No request body)

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}

#### Error Response (401)
- **detail** (string) - Error message indicating authentication failure or insufficient permissions.

#### Error Example
{
  "detail": "Could not validate credentials"
}

#### Error Response (400)
- **detail** (string) - Error message indicating an inactive user.

#### Error Example
{
  "detail": "Inactive user"
}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Provides a simple status check for the system. Requires user authentication.

```APIDOC
## GET /status/

### Description
Returns the operational status of the system. This endpoint is protected and requires a valid access token for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
*This endpoint requires a valid `Authorization: Bearer <token>` header.*

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system (e.g., "ok").

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the system status. This endpoint requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Checks the system status. This endpoint requires a valid access token for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
No direct parameters. Authentication is handled via the `Authorization` header with a Bearer token.

### Request Example
```
GET /status/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - A simple message indicating the system's operational status.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/tutorial/dependencies

Retrieves a list of items, applying common query parameters such as search query, skip, and limit using a shared dependency.

```APIDOC
## GET /items/

### Description
This endpoint retrieves a list of items. It utilizes a shared dependency function (`common_parameters`) to parse and apply common query parameters like `q` for filtering, `skip` for offset, and `limit` for pagination.

### Method
GET

### Endpoint
/items/

### Parameters
#### Query Parameters
- **q** (string) - Optional - A search query string to filter items. Defaults to `None`.
- **skip** (integer) - Optional - The number of items to skip from the beginning of the list. Defaults to `0`.
- **limit** (integer) - Optional - The maximum number of items to return. Defaults to `100`.

### Request Example
```
GET /items/?q=search_term&skip=10&limit=50
```

### Response
#### Success Response (200)
- **q** (string or null) - The received query string parameter.
- **skip** (integer) - The received skip parameter.
- **limit** (integer) - The received limit parameter.

#### Response Example
```json
{
  "q": "search_term",
  "skip": 10,
  "limit": 50
}
```
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Retrieves the profile information of the currently authenticated user. Requires the 'me' scope.

```APIDOC
## GET /users/me/

### Description
Retrieves the profile information for the currently authenticated user. This endpoint requires an active access token with the 'me' scope.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJhbGciOiJIUzI1Ni...`).

### Request Example
(No specific body for GET, authentication via Header)

### Response
#### Success Response (200)
- **username** (string) - The user's unique username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" if the token is invalid or missing.
- **detail** (string) - "Not enough permissions" if the 'me' scope is not granted in the access token.

#### Error Response (400)
- **detail** (string) - "Inactive user" if the authenticated user's account is disabled.
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/es/advanced/security/oauth2-scopes

Retrieves the profile information of the currently authenticated user. Requires 'me' scope.

```APIDOC
## GET /users/me/

### Description
Retrieves the profile information for the user associated with the provided access token. This endpoint requires an authenticated user with the 'me' scope.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`)

### Request Example
(No request body)

### Response
#### Success Response (200 OK)
- **username** (string) - The user's unique username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - Error message, e.g., "Could not validate credentials", "Not enough permissions", or "Inactive user".
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the current system status. Requires a valid access token (any scope).

```APIDOC
## GET /status/

### Description
Checks the current system status. Requires a valid access token (any scope).

### Method
GET

### Endpoint
/status/

### Parameters
None (Authentication via Bearer Token in Authorization header)

### Request Example
No body required. Authenticate with an Authorization: Bearer <token> header.

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, e.g., "ok".

#### Response Example
{
  "status": "ok"
}

#### Error Response (401)
- **detail** (string) - Error message, e.g., "Could not validate credentials".

#### Error Example
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the current operational status of the system. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Checks the current operational status of the system. Requires a valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
```http
GET /status/ HTTP/1.1
Host: example.com
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" if no token or invalid token.
```

--------------------------------

### Add a Summary to FastAPI Application

Source: https://fastapi.tiangolo.com/uk/reference/fastapi

This example illustrates how to provide a short summary for the FastAPI application using the `summary` parameter. This summary will be included in the generated OpenAPI documentation, offering a concise overview of the API's purpose.

```python
from fastapi import FastAPI

app = FastAPI(summary="Deadpond's favorite app. Nuff said.")

```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the current operational status of the system. Requires a valid access token.

```APIDOC
## GET /status/

### Description
Provides a basic health check or status update for the system. Authentication is required to access this endpoint.

### Method
GET

### Endpoint
/status/

### Parameters
This endpoint requires a valid `Authorization` header with a bearer token.

### Request Example
```http
GET /status/ HTTP/1.1
Host: example.com
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok" for healthy.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - Description of the authorization error.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/em/advanced/security/oauth2-scopes

Checks the current system status. This endpoint requires user authentication.

```APIDOC
## GET /status/

### Description
This endpoint provides a basic health check for the system, returning its operational status. It requires any valid authenticated user.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJhbGci...`).

### Request Example
```http
GET /status/ HTTP/1.1
Host: api.example.com
Authorization: Bearer eyJhbGci...
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" if the token is invalid/missing.

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Retrieves the details of the currently authenticated and active user. Requires a valid access token.

```APIDOC
## GET /users/me/

### Description
Fetches the profile information for the user who is currently authenticated. Access requires a valid bearer token in the Authorization header.

### Method
GET

### Endpoint
/users/me/

### Parameters
No explicit parameters. Authentication is handled via the 'Authorization: Bearer <token>' header.

### Request Example
(No request body)

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
{
  "username": "johndoe",
  "full_name": "John Doe",
  "email": "johndoe@example.com",
  "disabled": false
}

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

#### Error Response (400)
- **detail** (string) - "Inactive user"

#### Error Example (401)
{
  "detail": "Could not validate credentials"
}
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/ja/tutorial/security/oauth2-jwt

Retrieves the detailed profile information for the currently authenticated user. Requires a valid access token.

```APIDOC
## GET /users/me/

### Description
Fetches the profile details of the user who is currently authenticated.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token obtained from `/token` endpoint. Example: `Bearer <access_token>`

### Request Example
(No request body required for GET, authentication via header)

### Response
#### Success Response (200)
- **username** (string) - The unique username of the user.
- **email** (string, optional) - The email address of the user.
- **full_name** (string, optional) - The full name of the user.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

#### Error Response (400)
- **detail** (string) - "Inactive user" (if the authenticated user is disabled)

#### Response Example
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the current system status. This endpoint requires basic authentication (any valid token).

```APIDOC
## GET /status/

### Description
This endpoint provides a simple check of the system's operational status. It requires any valid access token for authentication, but no specific scopes are necessary.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer eyJhbGci...`).

### Request Example
```http
GET /status/
Authorization: Bearer eyJhbGci...
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok" for success.

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" if the provided token is invalid or missing.
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/de/tutorial/security/oauth2-jwt

Retrieves the profile details of the currently authenticated user. Requires a valid access token.

```APIDOC
## GET /users/me/

### Description
This endpoint returns the details of the authenticated user whose token is provided in the 'Authorization' header. It ensures the user is active before returning the information.

### Method
GET

### Endpoint
/users/me/

### Parameters
No explicit parameters. Requires a valid JWT in the 'Authorization' header (Bearer token).

### Request Example
```http
GET /users/me/
Authorization: Bearer <access_token>
```

### Response
#### Success Response (200)
- **username** (string) - The user's unique username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials"

#### Error Response (400)
- **detail** (string) - "Inactive user" (if the authenticated user is disabled)

#### Error Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Example (400)
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### Run FastAPI Application with Environment Variables

Source: https://fastapi.tiangolo.com/tr/advanced/settings

This command-line snippet demonstrates how to run a FastAPI application using `fastapi run` while passing environment variables (e.g., `ADMIN_EMAIL`, `APP_NAME`). These variables are then picked up by `pydantic_settings.BaseSettings` to configure the application. This requires `fastapi` and `uvicorn` to be installed.

```bash
fast ‚ÜíADMIN_EMAIL="deadpool@example.com" APP_NAME="ChimichangApp" fastapi run main.py
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the current system status. This endpoint requires any valid access token for authentication.

```APIDOC
## GET /status/

### Description
Provides a simple check of the system's operational status. Requires authentication with any valid bearer token.

### Method
GET

### Endpoint
/status/

### Parameters
No parameters.

### Request Example
No request body needed. Authentication is via 'Authorization: Bearer <token>' header.

### Response
#### Success Response (200)
- **status** (string) - The current status of the system (e.g., "ok").

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" if the token is invalid or expired.

```

--------------------------------

### GET /users/

Source: https://fastapi.tiangolo.com/vi/tutorial/dependencies

Fetches a list of users, allowing for optional filtering, pagination (skip), and limiting the number of results, all managed via a common dependency.

```APIDOC
## GET /users/

### Description
Retrieves a list of users with optional filtering, skipping, and limiting capabilities, using a common dependency function.

### Method
GET

### Endpoint
/users/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
- **q** (str) - Optional - An optional query string for filtering users.
- **skip** (int) - Optional - The number of users to skip from the beginning of the list. Defaults to 0.
- **limit** (int) - Optional - The maximum number of users to return. Defaults to 100.

#### Request Body
```json
{}
```

### Request Example
```json
{}
```

### Response
#### Success Response (200)
- **q** (str, optional) - The query string that was applied, if any.
- **skip** (int) - The number of users that were skipped.
- **limit** (int) - The maximum number of users that were requested.

#### Response Example
```json
{
  "q": null,
  "skip": 0,
  "limit": 50
}
```
```

--------------------------------

### Configure FastAPI with External OpenAPI Documentation Links

Source: https://fastapi.tiangolo.com/fr/reference/fastapi

This Python example demonstrates how to provide external documentation links for a FastAPI application's OpenAPI specification. It defines a dictionary containing a description and a URL, then passes this dictionary to the `openapi_external_docs` parameter during FastAPI app initialization. This enhances the generated OpenAPI documentation by including custom external references.

```python
from fastapi import FastAPI

external_docs = {
    "description": "Detailed API Reference",
    "url": "https://example.com/api-docs"
}

app = FastAPI(openapi_external_docs=external_docs)
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/tr/advanced/websockets

This endpoint serves the HTML page for the WebSocket chat client. Clients navigate to this URL to load the chat interface.

```APIDOC
## GET /

### Description
This endpoint serves the main HTML page for the WebSocket chat application. When a client accesses the root URL, this page is returned, which then initiates a WebSocket connection.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(None)

### Response
#### Success Response (200)
Returns the HTML content for the chat application.

#### Response Example
```html
<!DOCTYPE html>
<html>
    <head>
        <title>Chat</title>
    </head>
    <body>
        <h1>WebSocket Chat</h1>
        <h2>Your ID: <span id="ws-id"></span></h2>
        <form action="" onsubmit="sendMessage(event)">
            <input type="text" id="messageText" autocomplete="off"/>
            <button>Send</button>
        </form>
        <ul id='messages'>
        </ul>
        <script>
            var client_id = Date.now()
            document.querySelector("#ws-id").textContent = client_id;
            var ws = new WebSocket(`ws://localhost:8000/ws/${client_id}`);
            ws.onmessage = function(event) {
                var messages = document.getElementById('messages')
                var message = document.createElement('li')
                var content = document.createTextNode(event.data)
                message.appendChild(content)
                messages.appendChild(message)
            };
            function sendMessage(event) {
                var input = document.getElementById("messageText")
                ws.send(input.value)
                input.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>
```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fr/tutorial/dependencies/dependencies-in-path-operation-decorators

Retrieves a list of available items. This endpoint is protected by two header dependencies: 'X-Token' and 'X-Key', both of which must match predefined values for successful access.

```APIDOC
## GET /items/

### Description
Retrieves a list of items. Access to this endpoint requires valid 'X-Token' and 'X-Key' headers, which are verified by FastAPI dependencies.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
- No path parameters.

#### Query Parameters
- No query parameters.

#### Request Body
- No request body.

### Headers
- **X-Token** (string) - Required - A secret token for authentication. Expected value: "fake-super-secret-token".
- **X-Key** (string) - Required - A secret key for authorization. Expected value: "fake-super-secret-key".

### Request Example
```json
{}
```

### Response
#### Success Response (200 OK)
- **array** (list of objects) - A list of item objects.
  - Each object in the array represents an item.
    - **item** (string) - The name of the item.

#### Response Example
```json
[
  {
    "item": "Foo"
  },
  {
    "item": "Bar"
  }
]
```

#### Error Response (400 Bad Request)
- If 'X-Token' header is missing or invalid:
  ```json
  {
    "detail": "X-Token header invalid"
  }
  ```
- If 'X-Key' header is missing or invalid:
  ```json
  {
    "detail": "X-Key header invalid"
  }
  ```
```

--------------------------------

### GET /items/

Source: https://fastapi.tiangolo.com/fr/tutorial/metadata

Retrieves a list of available items. This endpoint demonstrates a basic GET request returning a predefined list of items.

```APIDOC
## GET /items/

### Description
This endpoint allows you to retrieve a list of items.

### Method
GET

### Endpoint
/items/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
```
GET /items/
```

### Response
#### Success Response (200)
- **name** (string) - The name of an item.

#### Response Example
```json
[
  {
    "name": "Katana"
  }
]
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/de/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires a valid access token for general authentication.

```APIDOC
## GET /status/

### Description
Provides a basic health check or status update for the API. Requires any valid access token for authentication.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - A valid Bearer token. Example: `Bearer eyJhbGci...`

### Request Example
```
GET /status/ HTTP/1.1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" if the token is invalid or missing.

#### Error Response Example (401)
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Retrieves the profile information of the current authenticated user. Requires 'me' scope.

```APIDOC
## GET /users/me/

### Description
Retrieves the profile information of the current authenticated user. Requires the 'me' scope.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
N/A

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, nullable) - The user's email address.
- **full_name** (string, nullable) - The user's full name.
- **disabled** (boolean, nullable) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401)
- **detail** (string) - "Could not validate credentials" or "Not enough permissions"

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400)
- **detail** (string) - "Inactive user"

#### Error Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### Jinja2Templates Constructor (Directory-based)

Source: https://fastapi.tiangolo.com/ja/reference/templating

This signature illustrates how to initialize `Jinja2Templates` by providing a file system path or sequence of paths where your Jinja2 templates are located. It also accepts optional `context_processors` and additional `env_options` for Jinja2 environment customization.

```python
Jinja2Templates(
    directory: (
        str | PathLike[str] | Sequence[str | PathLike[str]]
    ),
    *,
    context_processors: (
        list[Callable[[Request], dict[str, Any]]] | None
    ) = None,
    **env_options: Any
)
```

--------------------------------

### GET /users/me/

Source: https://fastapi.tiangolo.com/zh/tutorial/security/oauth2-jwt

Retrieves the details of the currently authenticated user. Requires a valid access token.

```APIDOC
## GET /users/me/

### Description
Fetches the profile information for the user currently authenticated via a Bearer token.

### Method
GET

### Endpoint
/users/me/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token obtained from `/token` endpoint. Example: `Bearer <your_access_token>`.

### Request Example
(No request body)

### Response
#### Success Response (200)
- **username** (string) - The user's username.
- **email** (string, optional) - The user's email address.
- **full_name** (string, optional) - The user's full name.
- **disabled** (boolean, optional) - Indicates if the user account is disabled.

#### Response Example
```json
{
  "username": "johndoe",
  "email": "johndoe@example.com",
  "full_name": "John Doe",
  "disabled": false
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - A message indicating authentication failure.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```

#### Error Response (400 Bad Request)
- **detail** (string) - A message indicating the user is inactive.

#### Error Example
```json
{
  "detail": "Inactive user"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/ru/advanced/security/oauth2-scopes

Checks the current system status. This endpoint requires authentication with any valid access token.

```APIDOC
## GET /status/

### Description
Checks the current system status. This endpoint requires authentication with any valid access token.

### Method
GET

### Endpoint
/status/

### Parameters
#### Headers
- **Authorization** (string) - Required - Bearer token (e.g., `Bearer <access_token>`).

### Request Example
(No specific request body)

### Response
#### Success Response (200)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
```json
{
  "status": "ok"
}
```

#### Error Response (401)
- **detail** (string) - A message indicating the authentication error (e.g., "Could not validate credentials").

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /

Source: https://fastapi.tiangolo.com/advanced/websockets

This endpoint serves the main HTML page for the WebSocket chat client. Clients navigate to this URL to load the chat interface.

```APIDOC
## GET /

### Description
Serves the initial HTML page that contains the WebSocket client-side JavaScript for the chat application.

### Method
GET

### Endpoint
/

### Parameters
#### Path Parameters
(None)

#### Query Parameters
(None)

#### Request Body
(None)

### Request Example
(No specific request body for GET)

### Response
#### Success Response (200)
- **content** (string) - The HTML content for the chat page.

#### Response Example
{
  "example": "<!DOCTYPE html>\n<html>\n    <head>\n        <title>Chat</title>\n    </head>\n    <body>\n        <h1>WebSocket Chat</h1>\n        ...\n    </body>\n</html>"
}
```

--------------------------------

### Run FastAPI Application with Uvicorn

Source: https://fastapi.tiangolo.com/em/advanced/sub-applications

This command line snippet demonstrates how to start a FastAPI application using Uvicorn, a fast ASGI server. The `main:app` argument specifies that Uvicorn should load the `app` object from the `main.py` file. The `--reload` flag enables auto-reloading of the server when code changes are detected, which is beneficial for development.

```shell
uvicorn main:app --reload
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the operational status of the system. Requires a valid access token for authentication.

```APIDOC
## GET /status/

### Description
Provides a basic status check for the API. This endpoint is protected and requires a valid access token to ensure the caller is authenticated.

### Method
GET

### Endpoint
/status/

### Parameters
#### Path Parameters
_None_

#### Query Parameters
_None_

#### Request Body
_None_

### Request Example
```
GET /status/
Authorization: Bearer <your_access_token>
```

### Response
#### Success Response (200 OK)
- **status** (string) - A simple message indicating the system's operational status.

#### Response Example
```json
{
  "status": "System operational"
}
```

#### Error Response (401 Unauthorized)
- **detail** (string) - Message indicating invalid credentials.

#### Error Example
```json
{
  "detail": "Could not validate credentials"
}
```
```

--------------------------------

### GET /status/

Source: https://fastapi.tiangolo.com/zh/advanced/security/oauth2-scopes

Checks the current operational status of the system. This endpoint requires general authentication.

```APIDOC
## GET /status/

### Description
This endpoint provides a simple check of the system's operational status.
It requires a valid access token for authentication, but no specific scope.

### Method
GET

### Endpoint
/status/

### Parameters
(Requires Bearer Token authentication)

### Request Example
(No request body for GET requests)

### Response
#### Success Response (200 OK)
- **status** (string) - The current status of the system, typically "ok".

#### Response Example
{
  "status": "ok"
}

#### Error Response (401 Unauthorized)
- **detail** (string) - Error message, e.g., "Could not validate credentials".
```

--------------------------------

### FastAPI Authentication Setup and Configuration (Python)

Source: https://fastapi.tiangolo.com/es/tutorial/security/oauth2-jwt

This comprehensive snippet initializes the FastAPI application and defines all necessary configuration, including JWT secret keys, algorithm, token expiration, an in-memory fake user database, and Pydantic models for secure data exchange. It also sets up password hashing with `pwdlib` and configures the OAuth2 password bearer scheme for token-based authentication. Essential libraries are imported for these functionalities.

```python
from datetime import datetime, timedelta, timezone
from typing import Union

import jwt
from fastapi import Depends, FastAPI, HTTPException, status
from fastapi.security import OAuth2PasswordBearer, OAuth2PasswordRequestForm
from jwt.exceptions import InvalidTokenError
from pwdlib import PasswordHash
from pydantic import BaseModel
from typing_extensions import Annotated

SECRET_KEY = "09d25e094faa6ca2556c818166b7a9563b93f7099f6f0f4caa6cf63b88e8d3e7"
ALGORITHM = "HS256"
ACCESS_TOKEN_EXPIRE_MINUTES = 30


fake_users_db = {
    "johndoe": {
        "username": "johndoe",
        "full_name": "John Doe",
        "email": "johndoe@example.com",
        "hashed_password": "$argon2id$v=19$m=65536,t=3,p=4$wagCPXjifgvUFBzq4hqe3w$CYaIb8sB+wtD+Vu/P4uod1+Qof8h+1g7bbDlBID48Rc",
        "disabled": False,
    }
}


class Token(BaseModel):
    access_token: str
    token_type: str


class TokenData(BaseModel):
    username: Union[str, None] = None


class User(BaseModel):
    username: str
    email: Union[str, None] = None
    full_name: Union[str, None] = None
    disabled: Union[bool, None] = None


class UserInDB(User):
    hashed_password: str


password_hash = PasswordHash.recommended()

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

app = FastAPI()
```

--------------------------------

### Install Hypercorn ASGI Server

Source: https://fastapi.tiangolo.com/em/deployment/manually

Install Hypercorn, an ASGI server known for supporting HTTP/2 and various async backends, providing an alternative to Uvicorn for serving FastAPI applications.

```shell
pip install hypercorn
```
